{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/DELL/Desktop/frontend2/event-meena/components/pdf/canvas-editor/BackgroundSettingsPanel.tsx"],"sourcesContent":["/**\n * Background Settings Panel for Title Element\n * \n * Provides comprehensive background customization controls including:\n * - Background type selection (none, solid, gradient, semi-transparent)\n * - Color pickers for solid and gradient backgrounds\n * - Opacity slider\n * - Border controls (width, color, radius, style)\n * - Shadow controls (enabled, color, blur, offset)\n * - Preset background styles\n * \n * @version 1.0.0\n * @date 2025-11-13\n */\n\n\"use client\";\n\nimport React from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Label } from '@/components/ui/label';\nimport { Slider } from '@/components/ui/slider';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { Separator } from '@/components/ui/separator';\nimport { ScrollArea } from '@/components/ui/scroll-area';\nimport { X, RotateCcw } from 'lucide-react';\n\ninterface TitleBackgroundStyle {\n  type: 'none' | 'solid' | 'gradient' | 'semi-transparent';\n  solidColor?: string;\n  opacity?: number;\n  gradient?: {\n    type: 'linear' | 'radial';\n    angle?: number;\n    startColor: string;\n    endColor: string;\n  };\n  border?: {\n    width: number;\n    color: string;\n    radius: number;\n    style: 'solid' | 'dashed' | 'dotted' | 'none';\n  };\n  shadow?: {\n    enabled: boolean;\n    color: string;\n    blur: number;\n    offsetX: number;\n    offsetY: number;\n  };\n}\n\ninterface BackgroundSettingsPanelProps {\n  background: TitleBackgroundStyle;\n  onUpdate: (background: TitleBackgroundStyle) => void;\n  onClose: () => void;\n  tableHeaderColor?: string; // Color from settings.colors.headerBg\n}\n\nconst PRESET_BACKGROUNDS: Array<{ name: string; style: TitleBackgroundStyle }> = [\n  {\n    name: 'Ø§Ø­ØªØ±Ø§ÙÙŠ Ø¯Ø§ÙƒÙ†',\n    style: {\n      type: 'gradient',\n      opacity: 1,\n      gradient: {\n        type: 'linear',\n        angle: 135,\n        startColor: '#1e293b',\n        endColor: '#334155',\n      },\n      border: { width: 0, color: '#e5e7eb', radius: 12, style: 'none' },\n      shadow: { enabled: true, color: 'rgba(0, 0, 0, 0.1)', blur: 12, offsetX: 0, offsetY: 4 },\n    },\n  },\n  {\n    name: 'Ø£Ø²Ø±Ù‚ Ø­Ø¯ÙŠØ«',\n    style: {\n      type: 'gradient',\n      opacity: 1,\n      gradient: {\n        type: 'linear',\n        angle: 135,\n        startColor: '#3b82f6',\n        endColor: '#1e40af',\n      },\n      border: { width: 0, color: '#e5e7eb', radius: 12, style: 'none' },\n      shadow: { enabled: true, color: 'rgba(59, 130, 246, 0.3)', blur: 16, offsetX: 0, offsetY: 4 },\n    },\n  },\n  {\n    name: 'Ø¨Ù†ÙØ³Ø¬ÙŠ Ø£Ù†ÙŠÙ‚',\n    style: {\n      type: 'gradient',\n      opacity: 1,\n      gradient: {\n        type: 'linear',\n        angle: 135,\n        startColor: '#8b5cf6',\n        endColor: '#6d28d9',\n      },\n      border: { width: 0, color: '#e5e7eb', radius: 12, style: 'none' },\n      shadow: { enabled: true, color: 'rgba(139, 92, 246, 0.3)', blur: 16, offsetX: 0, offsetY: 4 },\n    },\n  },\n  {\n    name: 'Ø´ÙØ§Ù Ø®ÙÙŠÙ',\n    style: {\n      type: 'semi-transparent',\n      solidColor: '#ffffff',\n      opacity: 0.9,\n      border: { width: 2, color: '#e5e7eb', radius: 12, style: 'solid' },\n      shadow: { enabled: true, color: 'rgba(0, 0, 0, 0.05)', blur: 8, offsetX: 0, offsetY: 2 },\n    },\n  },\n  {\n    name: 'Ø¨Ø¯ÙˆÙ† Ø®Ù„ÙÙŠØ©',\n    style: {\n      type: 'none',\n      opacity: 1,\n      border: { width: 0, color: 'transparent', radius: 0, style: 'none' },\n      shadow: { enabled: false, color: 'rgba(0, 0, 0, 0)', blur: 0, offsetX: 0, offsetY: 0 },\n    },\n  },\n];\n\nexport function BackgroundSettingsPanel({\n  background,\n  onUpdate,\n  onClose,\n  tableHeaderColor,\n}: BackgroundSettingsPanelProps) {\n  const updateBackground = (updates: Partial<TitleBackgroundStyle>) => {\n    onUpdate({ ...background, ...updates });\n  };\n\n  const updateGradient = (updates: Partial<NonNullable<TitleBackgroundStyle['gradient']>>) => {\n    onUpdate({\n      ...background,\n      gradient: { ...background.gradient!, ...updates },\n    });\n  };\n\n  const updateBorder = (updates: Partial<NonNullable<TitleBackgroundStyle['border']>>) => {\n    onUpdate({\n      ...background,\n      border: { ...background.border!, ...updates },\n    });\n  };\n\n  const updateShadow = (updates: Partial<NonNullable<TitleBackgroundStyle['shadow']>>) => {\n    onUpdate({\n      ...background,\n      shadow: { ...background.shadow!, ...updates },\n    });\n  };\n\n  return (\n    <div className=\"absolute top-16 left-4 w-80 bg-white rounded-lg shadow-2xl border border-gray-200 z-50\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between p-4 border-b\">\n        <h3 className=\"font-semibold text-sm\">Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø®Ù„ÙÙŠØ©</h3>\n        <Button variant=\"ghost\" size=\"sm\" onClick={onClose}>\n          <X className=\"w-4 h-4\" />\n        </Button>\n      </div>\n\n      <ScrollArea className=\"h-[500px]\">\n        <div className=\"p-4 space-y-4\">\n          {/* Background Type */}\n          <div className=\"space-y-2\">\n            <Label className=\"text-xs\">Ù†ÙˆØ¹ Ø§Ù„Ø®Ù„ÙÙŠØ©</Label>\n            <Select\n              value={background.type}\n              onValueChange={(value) => updateBackground({ type: value as any })}\n            >\n              <SelectTrigger>\n                <SelectValue />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"none\">Ø¨Ø¯ÙˆÙ† Ø®Ù„ÙÙŠØ©</SelectItem>\n                <SelectItem value=\"solid\">Ù„ÙˆÙ† ØµÙ„Ø¨</SelectItem>\n                <SelectItem value=\"gradient\">ØªØ¯Ø±Ø¬ Ù„ÙˆÙ†ÙŠ</SelectItem>\n                <SelectItem value=\"semi-transparent\">Ø´ÙØ§Ù</SelectItem>\n              </SelectContent>\n            </Select>\n          </div>\n\n          {/* Solid Color */}\n          {(background.type === 'solid' || background.type === 'semi-transparent') && (\n            <div className=\"space-y-2\">\n              <Label className=\"text-xs\">Ø§Ù„Ù„ÙˆÙ†</Label>\n              <div className=\"flex gap-2\">\n                <input\n                  type=\"color\"\n                  value={background.solidColor || '#1e293b'}\n                  onChange={(e) => updateBackground({ solidColor: e.target.value })}\n                  className=\"w-full h-10 rounded cursor-pointer\"\n                />\n                <input\n                  type=\"text\"\n                  value={background.solidColor || '#1e293b'}\n                  onChange={(e) => updateBackground({ solidColor: e.target.value })}\n                  className=\"w-24 px-2 text-xs border rounded\"\n                />\n              </div>\n            </div>\n          )}\n\n          {/* Opacity */}\n          {background.type !== 'none' && (\n            <div className=\"space-y-2\">\n              <div className=\"flex items-center justify-between\">\n                <Label className=\"text-xs\">Ø§Ù„Ø´ÙØ§ÙÙŠØ©</Label>\n                <span className=\"text-xs text-gray-500\">\n                  {Math.round((background.opacity ?? 1) * 100)}%\n                </span>\n              </div>\n              <Slider\n                value={[(background.opacity ?? 1) * 100]}\n                onValueChange={([value]) => updateBackground({ opacity: value / 100 })}\n                min={0}\n                max={100}\n                step={1}\n              />\n            </div>\n          )}\n\n          {/* Gradient Settings */}\n          {background.type === 'gradient' && background.gradient && (\n            <>\n              <Separator />\n              <div className=\"space-y-3\">\n                <Label className=\"text-xs font-semibold\">Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªØ¯Ø±Ø¬</Label>\n\n                {/* Gradient Type */}\n                <div className=\"space-y-2\">\n                  <Label className=\"text-xs\">Ù†ÙˆØ¹ Ø§Ù„ØªØ¯Ø±Ø¬</Label>\n                  <Select\n                    value={background.gradient.type}\n                    onValueChange={(value) => updateGradient({ type: value as 'linear' | 'radial' })}\n                  >\n                    <SelectTrigger>\n                      <SelectValue />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"linear\">Ø®Ø·ÙŠ</SelectItem>\n                      <SelectItem value=\"radial\">Ø¯Ø§Ø¦Ø±ÙŠ</SelectItem>\n                    </SelectContent>\n                  </Select>\n                </div>\n\n                {/* Start Color */}\n                <div className=\"space-y-2\">\n                  <Label className=\"text-xs\">Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø£ÙˆÙ„</Label>\n                  <input\n                    type=\"color\"\n                    value={background.gradient.startColor}\n                    onChange={(e) => updateGradient({ startColor: e.target.value })}\n                    className=\"w-full h-10 rounded cursor-pointer\"\n                  />\n                </div>\n\n                {/* End Color */}\n                <div className=\"space-y-2\">\n                  <Label className=\"text-xs\">Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø«Ø§Ù†ÙŠ</Label>\n                  <input\n                    type=\"color\"\n                    value={background.gradient.endColor}\n                    onChange={(e) => updateGradient({ endColor: e.target.value })}\n                    className=\"w-full h-10 rounded cursor-pointer\"\n                  />\n                </div>\n\n                {/* Angle (for linear gradient) */}\n                {background.gradient.type === 'linear' && (\n                  <div className=\"space-y-2\">\n                    <div className=\"flex items-center justify-between\">\n                      <Label className=\"text-xs\">Ø§Ù„Ø²Ø§ÙˆÙŠØ©</Label>\n                      <span className=\"text-xs text-gray-500\">{background.gradient.angle || 135}Â°</span>\n                    </div>\n                    <Slider\n                      value={[background.gradient.angle || 135]}\n                      onValueChange={([value]) => updateGradient({ angle: value })}\n                      min={0}\n                      max={360}\n                      step={15}\n                    />\n                  </div>\n                )}\n              </div>\n            </>\n          )}\n\n          {/* Border Settings */}\n          <Separator />\n          <div className=\"space-y-3\">\n            <Label className=\"text-xs font-semibold\">Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø­Ø¯ÙˆØ¯</Label>\n\n            {/* Border Style */}\n            <div className=\"space-y-2\">\n              <Label className=\"text-xs\">Ù†Ù…Ø· Ø§Ù„Ø­Ø¯</Label>\n              <Select\n                value={background.border?.style || 'none'}\n                onValueChange={(value) => updateBorder({ style: value as any })}\n              >\n                <SelectTrigger>\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"none\">Ø¨Ø¯ÙˆÙ†</SelectItem>\n                  <SelectItem value=\"solid\">ØµÙ„Ø¨</SelectItem>\n                  <SelectItem value=\"dashed\">Ù…ØªÙ‚Ø·Ø¹</SelectItem>\n                  <SelectItem value=\"dotted\">Ù…Ù†Ù‚Ø·</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n\n            {background.border?.style !== 'none' && (\n              <>\n                {/* Border Width */}\n                <div className=\"space-y-2\">\n                  <div className=\"flex items-center justify-between\">\n                    <Label className=\"text-xs\">Ø³Ù…Ùƒ Ø§Ù„Ø­Ø¯</Label>\n                    <span className=\"text-xs text-gray-500\">{background.border?.width || 0}px</span>\n                  </div>\n                  <Slider\n                    value={[background.border?.width || 0]}\n                    onValueChange={([value]) => updateBorder({ width: value })}\n                    min={0}\n                    max={10}\n                    step={1}\n                  />\n                </div>\n\n                {/* Border Color */}\n                <div className=\"space-y-2\">\n                  <Label className=\"text-xs\">Ù„ÙˆÙ† Ø§Ù„Ø­Ø¯</Label>\n                  <input\n                    type=\"color\"\n                    value={background.border?.color || '#e5e7eb'}\n                    onChange={(e) => updateBorder({ color: e.target.value })}\n                    className=\"w-full h-10 rounded cursor-pointer\"\n                  />\n                </div>\n              </>\n            )}\n\n            {/* Border Radius */}\n            <div className=\"space-y-2\">\n              <div className=\"flex items-center justify-between\">\n                <Label className=\"text-xs\">Ø§Ø³ØªØ¯Ø§Ø±Ø© Ø§Ù„Ø²ÙˆØ§ÙŠØ§</Label>\n                <span className=\"text-xs text-gray-500\">{background.border?.radius || 0}px</span>\n              </div>\n              <Slider\n                value={[background.border?.radius || 0]}\n                onValueChange={([value]) => updateBorder({ radius: value })}\n                min={0}\n                max={50}\n                step={2}\n              />\n            </div>\n          </div>\n\n          {/* Shadow Settings */}\n          <Separator />\n          <div className=\"space-y-3\">\n            <div className=\"flex items-center justify-between\">\n              <Label className=\"text-xs font-semibold\">Ø§Ù„Ø¸Ù„</Label>\n              <Button\n                variant={background.shadow?.enabled ? \"default\" : \"outline\"}\n                size=\"sm\"\n                onClick={() => updateShadow({ enabled: !background.shadow?.enabled })}\n              >\n                {background.shadow?.enabled ? 'Ù…ÙØ¹Ù‘Ù„' : 'Ù…Ø¹Ø·Ù‘Ù„'}\n              </Button>\n            </div>\n\n            {background.shadow?.enabled && (\n              <>\n                {/* Shadow Blur */}\n                <div className=\"space-y-2\">\n                  <div className=\"flex items-center justify-between\">\n                    <Label className=\"text-xs\">Ø§Ù„ØªÙ…ÙˆÙŠÙ‡</Label>\n                    <span className=\"text-xs text-gray-500\">{background.shadow?.blur || 0}px</span>\n                  </div>\n                  <Slider\n                    value={[background.shadow?.blur || 0]}\n                    onValueChange={([value]) => updateShadow({ blur: value })}\n                    min={0}\n                    max={50}\n                    step={2}\n                  />\n                </div>\n\n                {/* Shadow Offset X */}\n                <div className=\"space-y-2\">\n                  <div className=\"flex items-center justify-between\">\n                    <Label className=\"text-xs\">Ø§Ù„Ø¥Ø²Ø§Ø­Ø© Ø§Ù„Ø£ÙÙ‚ÙŠØ©</Label>\n                    <span className=\"text-xs text-gray-500\">{background.shadow?.offsetX || 0}px</span>\n                  </div>\n                  <Slider\n                    value={[background.shadow?.offsetX || 0]}\n                    onValueChange={([value]) => updateShadow({ offsetX: value })}\n                    min={-20}\n                    max={20}\n                    step={1}\n                  />\n                </div>\n\n                {/* Shadow Offset Y */}\n                <div className=\"space-y-2\">\n                  <div className=\"flex items-center justify-between\">\n                    <Label className=\"text-xs\">Ø§Ù„Ø¥Ø²Ø§Ø­Ø© Ø§Ù„Ø¹Ù…ÙˆØ¯ÙŠØ©</Label>\n                    <span className=\"text-xs text-gray-500\">{background.shadow?.offsetY || 0}px</span>\n                  </div>\n                  <Slider\n                    value={[background.shadow?.offsetY || 0]}\n                    onValueChange={([value]) => updateShadow({ offsetY: value })}\n                    min={-20}\n                    max={20}\n                    step={1}\n                  />\n                </div>\n              </>\n            )}\n          </div>\n\n          {/* Presets */}\n          <Separator />\n          <div className=\"space-y-2\">\n            <Label className=\"text-xs font-semibold\">Ø£Ù†Ù…Ø§Ø· Ø¬Ø§Ù‡Ø²Ø©</Label>\n\n            {/* Match Table Color Button */}\n            {tableHeaderColor && (\n              <Button\n                variant=\"default\"\n                size=\"sm\"\n                onClick={() => {\n                  onUpdate({\n                    type: 'solid',\n                    solidColor: tableHeaderColor,\n                    opacity: 1,\n                    border: { width: 0, color: 'transparent', radius: 12, style: 'none' },\n                    shadow: { enabled: true, color: 'rgba(0, 0, 0, 0.1)', blur: 12, offsetX: 0, offsetY: 4 },\n                  });\n                }}\n                className=\"w-full text-xs\"\n              >\n                ğŸ¨ Ù…Ø·Ø§Ø¨Ù‚Ø© Ù„ÙˆÙ† Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„\n              </Button>\n            )}\n\n            <div className=\"grid grid-cols-2 gap-2\">\n              {PRESET_BACKGROUNDS.map((preset, index) => (\n                <Button\n                  key={index}\n                  variant=\"outline\"\n                  size=\"sm\"\n                  onClick={() => onUpdate(preset.style)}\n                  className=\"text-xs\"\n                >\n                  {preset.name}\n                </Button>\n              ))}\n            </div>\n          </div>\n        </div>\n      </ScrollArea>\n    </div>\n  );\n}\n\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1156, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/DELL/Desktop/frontend2/event-meena/components/pdf/canvas-editor/TransformControlPanel.tsx"],"sourcesContent":["/**\n * Transform Control Panel\n * \n * Professional transform controls for elements (position, size, rotation, flip)\n * Similar to Figma, Canva, and Photoshop transform panels\n * \n * @version 1.0.0\n * @date 2025-11-13\n */\n\n\"use client\";\n\nimport React from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Separator } from '@/components/ui/separator';\nimport { ScrollArea } from '@/components/ui/scroll-area';\nimport {\n  X,\n  Lock,\n  Unlock,\n  FlipHorizontal,\n  FlipVertical,\n  RotateCw,\n  RotateCcw,\n  RefreshCw,\n} from 'lucide-react';\n\ninterface TransformState {\n  rotation: number;\n  flipHorizontal: boolean;\n  flipVertical: boolean;\n  scale: { x: number; y: number };\n  lockAspectRatio: boolean;\n}\n\ninterface TransformControlPanelProps {\n  position: { x: number; y: number };\n  size: { width: number; height: number };\n  transform: TransformState;\n  onUpdatePosition: (position: { x: number; y: number }) => void;\n  onUpdateSize: (size: { width: number; height: number }) => void;\n  onUpdateTransform: (transform: Partial<TransformState>) => void;\n  onClose: () => void;\n}\n\nexport function TransformControlPanel({\n  position,\n  size,\n  transform,\n  onUpdatePosition,\n  onUpdateSize,\n  onUpdateTransform,\n  onClose,\n}: TransformControlPanelProps) {\n  const handleRotationChange = (value: string) => {\n    const rotation = parseFloat(value) || 0;\n    onUpdateTransform({ rotation: rotation % 360 });\n  };\n\n  const handleRotate90CW = () => {\n    onUpdateTransform({ rotation: (transform.rotation + 90) % 360 });\n  };\n\n  const handleRotate90CCW = () => {\n    onUpdateTransform({ rotation: (transform.rotation - 90 + 360) % 360 });\n  };\n\n  const handleFlipHorizontal = () => {\n    onUpdateTransform({ flipHorizontal: !transform.flipHorizontal });\n  };\n\n  const handleFlipVertical = () => {\n    onUpdateTransform({ flipVertical: !transform.flipVertical });\n  };\n\n  const handleResetTransform = () => {\n    onUpdateTransform({\n      rotation: 0,\n      flipHorizontal: false,\n      flipVertical: false,\n      scale: { x: 1, y: 1 },\n    });\n  };\n\n  const handleToggleAspectRatio = () => {\n    onUpdateTransform({ lockAspectRatio: !transform.lockAspectRatio });\n  };\n\n  const handleWidthChange = (value: string) => {\n    const width = parseFloat(value) || size.width;\n    if (transform.lockAspectRatio) {\n      const aspectRatio = size.width / size.height;\n      const height = width / aspectRatio;\n      onUpdateSize({ width, height });\n    } else {\n      onUpdateSize({ width, height: size.height });\n    }\n  };\n\n  const handleHeightChange = (value: string) => {\n    const height = parseFloat(value) || size.height;\n    if (transform.lockAspectRatio) {\n      const aspectRatio = size.width / size.height;\n      const width = height * aspectRatio;\n      onUpdateSize({ width, height });\n    } else {\n      onUpdateSize({ width: size.width, height });\n    }\n  };\n\n  return (\n    <div className=\"fixed left-4 top-1/2 -translate-y-1/2 w-80 bg-white dark:bg-gray-800 rounded-lg shadow-2xl border border-gray-200 dark:border-gray-700 z-50\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700\">\n        <h3 className=\"text-sm font-semibold text-gray-900 dark:text-gray-100\">\n          ğŸ¨ Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„ØªØ­ÙˆÙŠÙ„Ø§Øª\n        </h3>\n        <Button\n          variant=\"ghost\"\n          size=\"sm\"\n          onClick={onClose}\n          className=\"h-6 w-6 p-0\"\n        >\n          <X className=\"w-4 h-4\" />\n        </Button>\n      </div>\n\n      <ScrollArea className=\"h-[600px]\">\n        <div className=\"p-4 space-y-4\">\n          {/* Position Controls */}\n          <div className=\"space-y-2\">\n            <Label className=\"text-xs font-semibold text-gray-700 dark:text-gray-300\">\n              ğŸ“ Ø§Ù„Ù…ÙˆØ¶Ø¹ (Position)\n            </Label>\n            <div className=\"grid grid-cols-2 gap-2\">\n              <div>\n                <Label className=\"text-xs text-gray-600 dark:text-gray-400\">X</Label>\n                <Input\n                  type=\"number\"\n                  value={Math.round(position.x)}\n                  onChange={(e) => onUpdatePosition({ x: parseFloat(e.target.value) || 0, y: position.y })}\n                  className=\"h-8 text-xs\"\n                />\n              </div>\n              <div>\n                <Label className=\"text-xs text-gray-600 dark:text-gray-400\">Y</Label>\n                <Input\n                  type=\"number\"\n                  value={Math.round(position.y)}\n                  onChange={(e) => onUpdatePosition({ x: position.x, y: parseFloat(e.target.value) || 0 })}\n                  className=\"h-8 text-xs\"\n                />\n              </div>\n            </div>\n          </div>\n\n          <Separator />\n\n          {/* Size Controls */}\n          <div className=\"space-y-2\">\n            <div className=\"flex items-center justify-between\">\n              <Label className=\"text-xs font-semibold text-gray-700 dark:text-gray-300\">\n                ğŸ“ Ø§Ù„Ø­Ø¬Ù… (Size)\n              </Label>\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={handleToggleAspectRatio}\n                className=\"h-6 w-6 p-0\"\n                title={transform.lockAspectRatio ? \"ÙÙƒ Ù‚ÙÙ„ Ø§Ù„Ù†Ø³Ø¨Ø©\" : \"Ù‚ÙÙ„ Ø§Ù„Ù†Ø³Ø¨Ø©\"}\n              >\n                {transform.lockAspectRatio ? (\n                  <Lock className=\"w-3 h-3 text-blue-500\" />\n                ) : (\n                  <Unlock className=\"w-3 h-3 text-gray-400\" />\n                )}\n              </Button>\n            </div>\n            <div className=\"grid grid-cols-2 gap-2\">\n              <div>\n                <Label className=\"text-xs text-gray-600 dark:text-gray-400\">Ø§Ù„Ø¹Ø±Ø¶ (W)</Label>\n                <Input\n                  type=\"number\"\n                  value={Math.round(size.width)}\n                  onChange={(e) => handleWidthChange(e.target.value)}\n                  className=\"h-8 text-xs\"\n                />\n              </div>\n              <div>\n                <Label className=\"text-xs text-gray-600 dark:text-gray-400\">Ø§Ù„Ø§Ø±ØªÙØ§Ø¹ (H)</Label>\n                <Input\n                  type=\"number\"\n                  value={Math.round(size.height)}\n                  onChange={(e) => handleHeightChange(e.target.value)}\n                  className=\"h-8 text-xs\"\n                />\n              </div>\n            </div>\n            <div className=\"text-xs text-gray-500 dark:text-gray-400\">\n              Ø§Ù„Ù†Ø³Ø¨Ø©: {(size.width / size.height).toFixed(2)}\n            </div>\n          </div>\n\n          <Separator />\n\n          {/* Rotation Controls */}\n          <div className=\"space-y-2\">\n            <Label className=\"text-xs font-semibold text-gray-700 dark:text-gray-300\">\n              ğŸ”„ Ø§Ù„Ø¯ÙˆØ±Ø§Ù† (Rotation)\n            </Label>\n            <div className=\"flex items-center gap-2\">\n              <Input\n                type=\"number\"\n                value={Math.round(transform.rotation)}\n                onChange={(e) => handleRotationChange(e.target.value)}\n                className=\"h-8 text-xs flex-1\"\n                min=\"0\"\n                max=\"360\"\n              />\n              <span className=\"text-xs text-gray-500\">Â°</span>\n            </div>\n            <div className=\"flex gap-2\">\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={handleRotate90CCW}\n                className=\"flex-1 text-xs\"\n                title=\"Ø¯ÙˆØ±Ø§Ù† 90Â° Ø¹ÙƒØ³ Ø¹Ù‚Ø§Ø±Ø¨ Ø§Ù„Ø³Ø§Ø¹Ø©\"\n              >\n                <RotateCcw className=\"w-3 h-3 mr-1\" />\n                90Â° â†\n              </Button>\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={handleRotate90CW}\n                className=\"flex-1 text-xs\"\n                title=\"Ø¯ÙˆØ±Ø§Ù† 90Â° Ù…Ø¹ Ø¹Ù‚Ø§Ø±Ø¨ Ø§Ù„Ø³Ø§Ø¹Ø©\"\n              >\n                <RotateCw className=\"w-3 h-3 mr-1\" />\n                90Â° â†’\n              </Button>\n            </div>\n            <input\n              type=\"range\"\n              min=\"0\"\n              max=\"360\"\n              value={transform.rotation}\n              onChange={(e) => handleRotationChange(e.target.value)}\n              className=\"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700\"\n            />\n          </div>\n\n          <Separator />\n\n          {/* Flip Controls */}\n          <div className=\"space-y-2\">\n            <Label className=\"text-xs font-semibold text-gray-700 dark:text-gray-300\">\n              â†”ï¸ Ø§Ù„Ù‚Ù„Ø¨ (Flip)\n            </Label>\n            <div className=\"grid grid-cols-2 gap-2\">\n              <Button\n                variant={transform.flipHorizontal ? \"default\" : \"outline\"}\n                size=\"sm\"\n                onClick={handleFlipHorizontal}\n                className=\"text-xs\"\n              >\n                <FlipHorizontal className=\"w-3 h-3 mr-1\" />\n                Ø£ÙÙ‚ÙŠ\n              </Button>\n              <Button\n                variant={transform.flipVertical ? \"default\" : \"outline\"}\n                size=\"sm\"\n                onClick={handleFlipVertical}\n                className=\"text-xs\"\n              >\n                <FlipVertical className=\"w-3 h-3 mr-1\" />\n                Ø¹Ù…ÙˆØ¯ÙŠ\n              </Button>\n            </div>\n          </div>\n\n          <Separator />\n\n          {/* Reset Button */}\n          <Button\n            variant=\"destructive\"\n            size=\"sm\"\n            onClick={handleResetTransform}\n            className=\"w-full text-xs\"\n          >\n            <RefreshCw className=\"w-3 h-3 mr-1\" />\n            Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„ØªØ­ÙˆÙŠÙ„Ø§Øª\n          </Button>\n\n          {/* Transform Info */}\n          <div className=\"p-3 bg-gray-50 dark:bg-gray-900 rounded-lg space-y-1\">\n            <div className=\"text-xs text-gray-600 dark:text-gray-400\">\n              <strong>Ø§Ù„Ø¯ÙˆØ±Ø§Ù†:</strong> {Math.round(transform.rotation)}Â°\n            </div>\n            <div className=\"text-xs text-gray-600 dark:text-gray-400\">\n              <strong>Ø§Ù„Ù‚Ù„Ø¨ Ø§Ù„Ø£ÙÙ‚ÙŠ:</strong> {transform.flipHorizontal ? 'Ù†Ø¹Ù…' : 'Ù„Ø§'}\n            </div>\n            <div className=\"text-xs text-gray-600 dark:text-gray-400\">\n              <strong>Ø§Ù„Ù‚Ù„Ø¨ Ø§Ù„Ø¹Ù…ÙˆØ¯ÙŠ:</strong> {transform.flipVertical ? 'Ù†Ø¹Ù…' : 'Ù„Ø§'}\n            </div>\n            <div className=\"text-xs text-gray-600 dark:text-gray-400\">\n              <strong>Ù‚ÙÙ„ Ø§Ù„Ù†Ø³Ø¨Ø©:</strong> {transform.lockAspectRatio ? 'Ù…Ù‚ÙÙ„' : 'Ù…ÙØªÙˆØ­'}\n            </div>\n          </div>\n        </div>\n      </ScrollArea>\n    </div>\n  );\n}\n\n"],"names":[],"mappings":"AAAA;;;;;;;;CAQC;;;;;AAKD;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AARA;;;;;;;;AAqCO,SAAS,sBAAsB,EACpC,QAAQ,EACR,IAAI,EACJ,SAAS,EACT,gBAAgB,EAChB,YAAY,EACZ,iBAAiB,EACjB,OAAO,EACoB;IAC3B,MAAM,uBAAuB,CAAC;QAC5B,MAAM,WAAW,WAAW,UAAU;QACtC,kBAAkB;YAAE,UAAU,WAAW;QAAI;IAC/C;IAEA,MAAM,mBAAmB;QACvB,kBAAkB;YAAE,UAAU,CAAC,UAAU,QAAQ,GAAG,EAAE,IAAI;QAAI;IAChE;IAEA,MAAM,oBAAoB;QACxB,kBAAkB;YAAE,UAAU,CAAC,UAAU,QAAQ,GAAG,KAAK,GAAG,IAAI;QAAI;IACtE;IAEA,MAAM,uBAAuB;QAC3B,kBAAkB;YAAE,gBAAgB,CAAC,UAAU,cAAc;QAAC;IAChE;IAEA,MAAM,qBAAqB;QACzB,kBAAkB;YAAE,cAAc,CAAC,UAAU,YAAY;QAAC;IAC5D;IAEA,MAAM,uBAAuB;QAC3B,kBAAkB;YAChB,UAAU;YACV,gBAAgB;YAChB,cAAc;YACd,OAAO;gBAAE,GAAG;gBAAG,GAAG;YAAE;QACtB;IACF;IAEA,MAAM,0BAA0B;QAC9B,kBAAkB;YAAE,iBAAiB,CAAC,UAAU,eAAe;QAAC;IAClE;IAEA,MAAM,oBAAoB,CAAC;QACzB,MAAM,QAAQ,WAAW,UAAU,KAAK,KAAK;QAC7C,IAAI,UAAU,eAAe,EAAE;YAC7B,MAAM,cAAc,KAAK,KAAK,GAAG,KAAK,MAAM;YAC5C,MAAM,SAAS,QAAQ;YACvB,aAAa;gBAAE;gBAAO;YAAO;QAC/B,OAAO;YACL,aAAa;gBAAE;gBAAO,QAAQ,KAAK,MAAM;YAAC;QAC5C;IACF;IAEA,MAAM,qBAAqB,CAAC;QAC1B,MAAM,SAAS,WAAW,UAAU,KAAK,MAAM;QAC/C,IAAI,UAAU,eAAe,EAAE;YAC7B,MAAM,cAAc,KAAK,KAAK,GAAG,KAAK,MAAM;YAC5C,MAAM,QAAQ,SAAS;YACvB,aAAa;gBAAE;gBAAO;YAAO;QAC/B,OAAO;YACL,aAAa;gBAAE,OAAO,KAAK,KAAK;gBAAE;YAAO;QAC3C;IACF;IAEA,qBACE,+MAAC;QAAI,WAAU;;0BAEb,+MAAC;gBAAI,WAAU;;kCACb,+MAAC;wBAAG,WAAU;kCAAyD;;;;;;kCAGvE,+MAAC,0JAAM;wBACL,SAAQ;wBACR,MAAK;wBACL,SAAS;wBACT,WAAU;kCAEV,cAAA,+MAAC,sNAAC;4BAAC,WAAU;;;;;;;;;;;;;;;;;0BAIjB,+MAAC,sKAAU;gBAAC,WAAU;0BACpB,cAAA,+MAAC;oBAAI,WAAU;;sCAEb,+MAAC;4BAAI,WAAU;;8CACb,+MAAC,wJAAK;oCAAC,WAAU;8CAAyD;;;;;;8CAG1E,+MAAC;oCAAI,WAAU;;sDACb,+MAAC;;8DACC,+MAAC,wJAAK;oDAAC,WAAU;8DAA2C;;;;;;8DAC5D,+MAAC,wJAAK;oDACJ,MAAK;oDACL,OAAO,KAAK,KAAK,CAAC,SAAS,CAAC;oDAC5B,UAAU,CAAC,IAAM,iBAAiB;4DAAE,GAAG,WAAW,EAAE,MAAM,CAAC,KAAK,KAAK;4DAAG,GAAG,SAAS,CAAC;wDAAC;oDACtF,WAAU;;;;;;;;;;;;sDAGd,+MAAC;;8DACC,+MAAC,wJAAK;oDAAC,WAAU;8DAA2C;;;;;;8DAC5D,+MAAC,wJAAK;oDACJ,MAAK;oDACL,OAAO,KAAK,KAAK,CAAC,SAAS,CAAC;oDAC5B,UAAU,CAAC,IAAM,iBAAiB;4DAAE,GAAG,SAAS,CAAC;4DAAE,GAAG,WAAW,EAAE,MAAM,CAAC,KAAK,KAAK;wDAAE;oDACtF,WAAU;;;;;;;;;;;;;;;;;;;;;;;;sCAMlB,+MAAC,gKAAS;;;;;sCAGV,+MAAC;4BAAI,WAAU;;8CACb,+MAAC;oCAAI,WAAU;;sDACb,+MAAC,wJAAK;4CAAC,WAAU;sDAAyD;;;;;;sDAG1E,+MAAC,0JAAM;4CACL,SAAQ;4CACR,MAAK;4CACL,SAAS;4CACT,WAAU;4CACV,OAAO,UAAU,eAAe,GAAG,kBAAkB;sDAEpD,UAAU,eAAe,iBACxB,+MAAC,+NAAI;gDAAC,WAAU;;;;;qEAEhB,+MAAC,2OAAM;gDAAC,WAAU;;;;;;;;;;;;;;;;;8CAIxB,+MAAC;oCAAI,WAAU;;sDACb,+MAAC;;8DACC,+MAAC,wJAAK;oDAAC,WAAU;8DAA2C;;;;;;8DAC5D,+MAAC,wJAAK;oDACJ,MAAK;oDACL,OAAO,KAAK,KAAK,CAAC,KAAK,KAAK;oDAC5B,UAAU,CAAC,IAAM,kBAAkB,EAAE,MAAM,CAAC,KAAK;oDACjD,WAAU;;;;;;;;;;;;sDAGd,+MAAC;;8DACC,+MAAC,wJAAK;oDAAC,WAAU;8DAA2C;;;;;;8DAC5D,+MAAC,wJAAK;oDACJ,MAAK;oDACL,OAAO,KAAK,KAAK,CAAC,KAAK,MAAM;oDAC7B,UAAU,CAAC,IAAM,mBAAmB,EAAE,MAAM,CAAC,KAAK;oDAClD,WAAU;;;;;;;;;;;;;;;;;;8CAIhB,+MAAC;oCAAI,WAAU;;wCAA2C;wCAC/C,CAAC,KAAK,KAAK,GAAG,KAAK,MAAM,EAAE,OAAO,CAAC;;;;;;;;;;;;;sCAIhD,+MAAC,gKAAS;;;;;sCAGV,+MAAC;4BAAI,WAAU;;8CACb,+MAAC,wJAAK;oCAAC,WAAU;8CAAyD;;;;;;8CAG1E,+MAAC;oCAAI,WAAU;;sDACb,+MAAC,wJAAK;4CACJ,MAAK;4CACL,OAAO,KAAK,KAAK,CAAC,UAAU,QAAQ;4CACpC,UAAU,CAAC,IAAM,qBAAqB,EAAE,MAAM,CAAC,KAAK;4CACpD,WAAU;4CACV,KAAI;4CACJ,KAAI;;;;;;sDAEN,+MAAC;4CAAK,WAAU;sDAAwB;;;;;;;;;;;;8CAE1C,+MAAC;oCAAI,WAAU;;sDACb,+MAAC,0JAAM;4CACL,SAAQ;4CACR,MAAK;4CACL,SAAS;4CACT,WAAU;4CACV,OAAM;;8DAEN,+MAAC,kPAAS;oDAAC,WAAU;;;;;;gDAAiB;;;;;;;sDAGxC,+MAAC,0JAAM;4CACL,SAAQ;4CACR,MAAK;4CACL,SAAS;4CACT,WAAU;4CACV,OAAM;;8DAEN,+MAAC,+OAAQ;oDAAC,WAAU;;;;;;gDAAiB;;;;;;;;;;;;;8CAIzC,+MAAC;oCACC,MAAK;oCACL,KAAI;oCACJ,KAAI;oCACJ,OAAO,UAAU,QAAQ;oCACzB,UAAU,CAAC,IAAM,qBAAqB,EAAE,MAAM,CAAC,KAAK;oCACpD,WAAU;;;;;;;;;;;;sCAId,+MAAC,gKAAS;;;;;sCAGV,+MAAC;4BAAI,WAAU;;8CACb,+MAAC,wJAAK;oCAAC,WAAU;8CAAyD;;;;;;8CAG1E,+MAAC;oCAAI,WAAU;;sDACb,+MAAC,0JAAM;4CACL,SAAS,UAAU,cAAc,GAAG,YAAY;4CAChD,MAAK;4CACL,SAAS;4CACT,WAAU;;8DAEV,+MAAC,iQAAc;oDAAC,WAAU;;;;;;gDAAiB;;;;;;;sDAG7C,+MAAC,0JAAM;4CACL,SAAS,UAAU,YAAY,GAAG,YAAY;4CAC9C,MAAK;4CACL,SAAS;4CACT,WAAU;;8DAEV,+MAAC,2PAAY;oDAAC,WAAU;;;;;;gDAAiB;;;;;;;;;;;;;;;;;;;sCAM/C,+MAAC,gKAAS;;;;;sCAGV,+MAAC,0JAAM;4BACL,SAAQ;4BACR,MAAK;4BACL,SAAS;4BACT,WAAU;;8CAEV,+MAAC,kPAAS;oCAAC,WAAU;;;;;;gCAAiB;;;;;;;sCAKxC,+MAAC;4BAAI,WAAU;;8CACb,+MAAC;oCAAI,WAAU;;sDACb,+MAAC;sDAAO;;;;;;wCAAiB;wCAAE,KAAK,KAAK,CAAC,UAAU,QAAQ;wCAAE;;;;;;;8CAE5D,+MAAC;oCAAI,WAAU;;sDACb,+MAAC;sDAAO;;;;;;wCAAsB;wCAAE,UAAU,cAAc,GAAG,QAAQ;;;;;;;8CAErE,+MAAC;oCAAI,WAAU;;sDACb,+MAAC;sDAAO;;;;;;wCAAuB;wCAAE,UAAU,YAAY,GAAG,QAAQ;;;;;;;8CAEpE,+MAAC;oCAAI,WAAU;;sDACb,+MAAC;sDAAO;;;;;;wCAAoB;wCAAE,UAAU,eAAe,GAAG,SAAS;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOjF;KA7QgB","debugId":null}},
    {"offset": {"line": 1838, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/DELL/Desktop/frontend2/event-meena/components/pdf/canvas-editor/RotationHandle.tsx"],"sourcesContent":["/**\n * Rotation Handle Component\n * \n * Visual rotation handle for dragging to rotate elements\n * Similar to Figma, Canva, and Photoshop rotation handles\n * \n * @version 1.0.0\n * @date 2025-11-13\n */\n\n\"use client\";\n\nimport React, { useState, useRef, useEffect } from 'react';\nimport { RotateCw } from 'lucide-react';\n\ninterface RotationHandleProps {\n  rotation: number;\n  onRotate: (rotation: number) => void;\n  elementRef: React.RefObject<HTMLDivElement | null>;\n  snapToAngles?: boolean; // Snap to 45Â° increments when Shift is held\n}\n\nexport function RotationHandle({\n  rotation,\n  onRotate,\n  elementRef,\n  snapToAngles = true,\n}: RotationHandleProps) {\n  const [isDragging, setIsDragging] = useState(false);\n  const [currentAngle, setCurrentAngle] = useState(rotation);\n  const [shiftPressed, setShiftPressed] = useState(false);\n  const handleRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    setCurrentAngle(rotation);\n  }, [rotation]);\n\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if (e.key === 'Shift') {\n        setShiftPressed(true);\n      }\n    };\n\n    const handleKeyUp = (e: KeyboardEvent) => {\n      if (e.key === 'Shift') {\n        setShiftPressed(false);\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n    window.addEventListener('keyup', handleKeyUp);\n\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n      window.removeEventListener('keyup', handleKeyUp);\n    };\n  }, []);\n\n  const handleMouseDown = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    e.preventDefault();\n    setIsDragging(true);\n\n    const element = elementRef.current;\n    if (!element) return;\n\n    const rect = element.getBoundingClientRect();\n    const centerX = rect.left + rect.width / 2;\n    const centerY = rect.top + rect.height / 2;\n\n    const handleMouseMove = (moveEvent: MouseEvent) => {\n      const deltaX = moveEvent.clientX - centerX;\n      const deltaY = moveEvent.clientY - centerY;\n      \n      // Calculate angle in degrees\n      let angle = Math.atan2(deltaY, deltaX) * (180 / Math.PI) + 90;\n      \n      // Normalize to 0-360\n      if (angle < 0) angle += 360;\n      \n      // Snap to 45Â° increments if Shift is pressed\n      if (shiftPressed && snapToAngles) {\n        angle = Math.round(angle / 45) * 45;\n      }\n      \n      setCurrentAngle(angle);\n      onRotate(angle);\n    };\n\n    const handleMouseUp = () => {\n      setIsDragging(false);\n      document.removeEventListener('mousemove', handleMouseMove);\n      document.removeEventListener('mouseup', handleMouseUp);\n    };\n\n    document.addEventListener('mousemove', handleMouseMove);\n    document.addEventListener('mouseup', handleMouseUp);\n  };\n\n  return (\n    <>\n      {/* Rotation Handle */}\n      <div\n        ref={handleRef}\n        className=\"absolute -top-10 left-1/2 -translate-x-1/2 cursor-grab active:cursor-grabbing z-50\"\n        onMouseDown={handleMouseDown}\n        style={{\n          pointerEvents: 'auto',\n        }}\n      >\n        {/* Connection Line */}\n        <div className=\"absolute top-full left-1/2 -translate-x-1/2 w-0.5 h-8 bg-blue-400\" />\n        \n        {/* Handle Circle */}\n        <div className=\"relative w-8 h-8 bg-white border-2 border-blue-500 rounded-full shadow-lg flex items-center justify-center hover:bg-blue-50 transition-colors\">\n          <RotateCw className=\"w-4 h-4 text-blue-500\" />\n        </div>\n      </div>\n\n      {/* Angle Indicator (shown while dragging) */}\n      {isDragging && (\n        <div className=\"absolute -top-20 left-1/2 -translate-x-1/2 bg-black/80 text-white px-3 py-1 rounded text-sm font-medium whitespace-nowrap z-50\">\n          {Math.round(currentAngle)}Â°\n          {shiftPressed && snapToAngles && (\n            <span className=\"ml-2 text-xs text-blue-300\">(Snap)</span>\n          )}\n        </div>\n      )}\n    </>\n  );\n}\n\n"],"names":[],"mappings":"AAAA;;;;;;;;CAQC;;;;;AAID;AACA;;;AAHA;;;AAYO,SAAS,eAAe,EAC7B,QAAQ,EACR,QAAQ,EACR,UAAU,EACV,eAAe,IAAI,EACC;;IACpB,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,2LAAQ,EAAC;IAC7C,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,2LAAQ,EAAC;IACjD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,2LAAQ,EAAC;IACjD,MAAM,YAAY,IAAA,yLAAM,EAAiB;IAEzC,IAAA,4LAAS;oCAAC;YACR,gBAAgB;QAClB;mCAAG;QAAC;KAAS;IAEb,IAAA,4LAAS;oCAAC;YACR,MAAM;0DAAgB,CAAC;oBACrB,IAAI,EAAE,GAAG,KAAK,SAAS;wBACrB,gBAAgB;oBAClB;gBACF;;YAEA,MAAM;wDAAc,CAAC;oBACnB,IAAI,EAAE,GAAG,KAAK,SAAS;wBACrB,gBAAgB;oBAClB;gBACF;;YAEA,OAAO,gBAAgB,CAAC,WAAW;YACnC,OAAO,gBAAgB,CAAC,SAAS;YAEjC;4CAAO;oBACL,OAAO,mBAAmB,CAAC,WAAW;oBACtC,OAAO,mBAAmB,CAAC,SAAS;gBACtC;;QACF;mCAAG,EAAE;IAEL,MAAM,kBAAkB,CAAC;QACvB,EAAE,eAAe;QACjB,EAAE,cAAc;QAChB,cAAc;QAEd,MAAM,UAAU,WAAW,OAAO;QAClC,IAAI,CAAC,SAAS;QAEd,MAAM,OAAO,QAAQ,qBAAqB;QAC1C,MAAM,UAAU,KAAK,IAAI,GAAG,KAAK,KAAK,GAAG;QACzC,MAAM,UAAU,KAAK,GAAG,GAAG,KAAK,MAAM,GAAG;QAEzC,MAAM,kBAAkB,CAAC;YACvB,MAAM,SAAS,UAAU,OAAO,GAAG;YACnC,MAAM,SAAS,UAAU,OAAO,GAAG;YAEnC,6BAA6B;YAC7B,IAAI,QAAQ,KAAK,KAAK,CAAC,QAAQ,UAAU,CAAC,MAAM,KAAK,EAAE,IAAI;YAE3D,qBAAqB;YACrB,IAAI,QAAQ,GAAG,SAAS;YAExB,6CAA6C;YAC7C,IAAI,gBAAgB,cAAc;gBAChC,QAAQ,KAAK,KAAK,CAAC,QAAQ,MAAM;YACnC;YAEA,gBAAgB;YAChB,SAAS;QACX;QAEA,MAAM,gBAAgB;YACpB,cAAc;YACd,SAAS,mBAAmB,CAAC,aAAa;YAC1C,SAAS,mBAAmB,CAAC,WAAW;QAC1C;QAEA,SAAS,gBAAgB,CAAC,aAAa;QACvC,SAAS,gBAAgB,CAAC,WAAW;IACvC;IAEA,qBACE;;0BAEE,+MAAC;gBACC,KAAK;gBACL,WAAU;gBACV,aAAa;gBACb,OAAO;oBACL,eAAe;gBACjB;;kCAGA,+MAAC;wBAAI,WAAU;;;;;;kCAGf,+MAAC;wBAAI,WAAU;kCACb,cAAA,+MAAC,+OAAQ;4BAAC,WAAU;;;;;;;;;;;;;;;;;YAKvB,4BACC,+MAAC;gBAAI,WAAU;;oBACZ,KAAK,KAAK,CAAC;oBAAc;oBACzB,gBAAgB,8BACf,+MAAC;wBAAK,WAAU;kCAA6B;;;;;;;;;;;;;;AAMzD;GA7GgB;KAAA","debugId":null}},
    {"offset": {"line": 1998, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/DELL/Desktop/frontend2/event-meena/components/pdf/canvas-editor/EnhancedHTMLEditor.tsx"],"sourcesContent":["/**\n * Enhanced HTML-Based PDF Editor\n *\n * A high-performance, interactive PDF editor using HTML/CSS instead of Canvas.\n * Features draggable/resizable tables, inline editing, and professional UI.\n *\n * @version 5.0.1 - Enhanced HTML Editor - Fixed TypeScript errors\n * @date 2025-11-16\n */\n\n\"use client\";\n\nimport React, { useState, useCallback, useRef, useMemo, useEffect, createRef } from 'react';\nimport Draggable, { DraggableEvent, DraggableData } from 'react-draggable';\nimport { Resizable, ResizeCallbackData } from 'react-resizable';\nimport { PDFEditorSettings } from '@/types/pdf-editor';\nimport { cn } from '@/lib/utils';\nimport { Button } from '@/components/ui/button';\nimport {\n  ZoomIn,\n  ZoomOut,\n  Maximize2,\n  RotateCcw,\n  Grid3x3,\n  Magnet,\n  Type,\n  Image as ImageIcon,\n  Undo2,\n  Redo2,\n  Download,\n  Palette,\n  Layers,\n  Trash2,\n  Eye,\n  EyeOff,\n  Move,\n  FlipHorizontal,\n  FlipVertical,\n  RotateCw,\n  Settings2,\n  Copy,\n  Clipboard,\n  AlignHorizontalJustifyStart,\n  AlignHorizontalJustifyCenter,\n  AlignHorizontalJustifyEnd,\n  AlignVerticalJustifyStart,\n  AlignVerticalJustifyCenter,\n  AlignVerticalJustifyEnd,\n  ArrowLeftRight,\n  ArrowUpDown,\n  Group,\n  Ungroup,\n  Plus,\n  ChevronLeft,\n  ChevronRight,\n  FileText,\n  Bold,\n  Italic,\n  Underline,\n  AlignLeft,\n  AlignCenter,\n  AlignRight,\n  AlignJustify,\n  Minus,\n  ArrowRight,\n  ChevronUp,\n  ChevronDown,\n  Menu,\n  PanelLeft,\n  FileStack,\n  X,\n} from 'lucide-react';\nimport { Separator } from '@/components/ui/separator';\nimport { ScrollArea } from '@/components/ui/scroll-area';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuTrigger,\n  DropdownMenuSeparator,\n  DropdownMenuLabel,\n} from '@/components/ui/dropdown-menu';\nimport html2canvas from 'html2canvas';\nimport jsPDF from 'jspdf';\nimport 'react-resizable/css/styles.css';\nimport './enhanced-html-editor.css';\nimport { BackgroundSettingsPanel } from './BackgroundSettingsPanel';\nimport { TransformControlPanel } from './TransformControlPanel';\nimport { RotationHandle } from './RotationHandle';\n\n// ============================================================================\n// Types & Interfaces\n// ============================================================================\n\n/**\n * Internal Editor Settings (Independent from external PDFEditorSettings)\n */\ninterface EditorSettings {\n  page: {\n    size: 'a4' | 'letter' | 'custom';\n    orientation: 'portrait' | 'landscape';\n    width: number; // in pixels at 96 DPI\n    height: number; // in pixels at 96 DPI\n    margins: {\n      top: number; // in mm\n      right: number; // in mm\n      bottom: number; // in mm\n      left: number; // in mm\n    };\n  };\n  colors: {\n    eventTitleText: string;\n    headerBg: string;\n    headerText: string;\n    rowBg: string;\n    rowText: string;\n    borderColor: string;\n  };\n  fonts: {\n    family: string;\n    sizes: {\n      eventTitle: number;\n      tableTitle: number;\n      tableHeader: number;\n      tableCell: number;\n    };\n    weights: {\n      eventTitle: number;\n      tableTitle: number;\n      tableHeader: number;\n      tableCell: number;\n    };\n  };\n}\n\n/**\n * Default Editor Settings\n */\nconst DEFAULT_EDITOR_SETTINGS: EditorSettings = {\n  page: {\n    size: 'a4',\n    orientation: 'portrait',\n    width: 1400, // Increased from 794px for larger working area\n    height: 1980, // Increased from 1122px for larger working area (maintains A4 ratio)\n    margins: {\n      top: 40,\n      right: 40,\n      bottom: 40,\n      left: 40,\n    },\n  },\n  colors: {\n    eventTitleText: '#ffffff',\n    headerBg: '#1e293b',\n    headerText: '#ffffff',\n    rowBg: '#ffffff',\n    rowText: '#1f2937',\n    borderColor: '#e5e7eb',\n  },\n  fonts: {\n    family: \"'Cairo', 'Amiri', 'Tajawal', 'Tahoma', 'Arial', sans-serif\",\n    sizes: {\n      eventTitle: 32,\n      tableTitle: 18,\n      tableHeader: 14,\n      tableCell: 12,\n    },\n    weights: {\n      eventTitle: 700,\n      tableTitle: 600,\n      tableHeader: 600,\n      tableCell: 400,\n    },\n  },\n};\n\n/**\n * Transform state for element transformations (rotation, flip, scale)\n */\ninterface TransformState {\n  rotation: number; // 0-360 degrees\n  flipHorizontal: boolean;\n  flipVertical: boolean;\n  scale: { x: number; y: number }; // 1 = 100%\n  lockAspectRatio: boolean;\n}\n\n/**\n * Default transform state\n */\nconst DEFAULT_TRANSFORM: TransformState = {\n  rotation: 0,\n  flipHorizontal: false,\n  flipVertical: false,\n  scale: { x: 1, y: 1 },\n  lockAspectRatio: false,\n};\n\n/**\n * Phase 7: Page Interface\n */\ninterface Page {\n  id: string;\n  name: string; // e.g., \"ØµÙØ­Ø© 1\", \"ØµÙØ­Ø© Ø§Ù„ØºÙ„Ø§Ù\"\n  order: number; // 0-based index for ordering\n}\n\ninterface TableElement {\n  id: string;\n  type: 'table';\n  headers: string[];\n  rows: Array<Record<string, string>>;\n  position: { x: number; y: number };\n  size: { width: number; height: number };\n  visible: boolean;\n  locked: boolean;\n  zIndex: number;\n  transform: TransformState;\n  pageId: string; // Phase 7: Which page this element belongs to\n}\n\ninterface TableTitleElement {\n  id: string;\n  type: 'table-title';\n  content: string;\n  linkedTableId: string | null; // ID of the table it belongs to (null if unlinked)\n  position: { x: number; y: number };\n  size: { width: number; height: number };\n  visible: boolean;\n  locked: boolean;\n  zIndex: number;\n  transform: TransformState;\n  pageId: string; // Phase 7: Which page this element belongs to\n  style: {\n    fontSize: number;\n    fontWeight: number;\n    color: string;\n    textAlign: 'left' | 'center' | 'right';\n  };\n}\n\ninterface TextElement {\n  id: string;\n  type: 'text';\n  content: string;\n  position: { x: number; y: number };\n  size: { width: number; height: number };\n  fontSize: number;\n  color: string;\n  fontWeight?: 'normal' | 'bold'; // Text formatting\n  fontStyle?: 'normal' | 'italic'; // Text formatting\n  textDecoration?: 'none' | 'underline'; // Text formatting\n  textAlign?: 'left' | 'center' | 'right' | 'justify'; // Text alignment\n  visible: boolean;\n  locked: boolean;\n  zIndex: number;\n  transform: TransformState;\n  pageId: string; // Phase 7: Which page this element belongs to\n}\n\ninterface ImageElement {\n  id: string;\n  type: 'image';\n  src: string;\n  position: { x: number; y: number };\n  size: { width: number; height: number };\n  visible: boolean;\n  locked: boolean;\n  zIndex: number;\n  transform: TransformState;\n  pageId: string; // Phase 7: Which page this element belongs to\n}\n\ninterface TitleBackgroundStyle {\n  type: 'none' | 'solid' | 'gradient' | 'semi-transparent';\n  solidColor?: string;\n  opacity?: number; // 0-1\n  gradient?: {\n    type: 'linear' | 'radial';\n    angle?: number; // 0-360\n    startColor: string;\n    endColor: string;\n  };\n  border?: {\n    width: number;\n    color: string;\n    radius: number;\n    style: 'solid' | 'dashed' | 'dotted' | 'none';\n  };\n  shadow?: {\n    enabled: boolean;\n    color: string;\n    blur: number;\n    offsetX: number;\n    offsetY: number;\n  };\n}\n\ninterface TitleElement {\n  id: string;\n  type: 'title';\n  content: string;\n  position: { x: number; y: number };\n  size: { width: number; height: number };\n  visible: boolean;\n  locked: boolean;\n  zIndex: number;\n  transform: TransformState;\n  pageId: string; // Phase 7: Which page this element belongs to\n  style: {\n    fontSize: number;\n    fontWeight: number;\n    color: string;\n    textAlign: 'left' | 'center' | 'right';\n    background: TitleBackgroundStyle;\n  };\n}\n\n/**\n * Phase 6: Group Element\n * A group is a container for multiple elements that can be moved together\n */\ninterface GroupElement {\n  id: string;\n  type: 'group';\n  name: string; // User-defined name for the group\n  elementIds: string[]; // IDs of elements in this group\n  position: { x: number; y: number }; // Top-left corner of the bounding box\n  size: { width: number; height: number }; // Size of the bounding box\n  visible: boolean;\n  locked: boolean;\n  zIndex: number;\n  transform: TransformState;\n  pageId: string; // Phase 7: Which page this element belongs to\n}\n\ntype EditorElement = TableElement | TextElement | ImageElement | TitleElement | TableTitleElement | GroupElement;\n\ninterface HistoryState {\n  elements: EditorElement[];\n  timestamp: number;\n}\n\nexport interface EnhancedHTMLEditorProps {\n  settings?: PDFEditorSettings; // Optional - will use DEFAULT_EDITOR_SETTINGS if not provided\n  sampleData?: {\n    eventTitle: string;\n    tables: Array<{\n      title: string;\n      headers: string[];\n      rows: Array<Record<string, string>>;\n    }>;\n  };\n  zoom?: number;\n  onExport?: (pdf: Blob) => void;\n  onBack?: () => void; // Callback to return to preview mode\n}\n\n// ============================================================================\n// Title Component (React.memo removed to allow local state updates during resize)\n// ============================================================================\n\nconst DraggableTitle = ({\n  element,\n  isSelected,\n  isExporting,\n  snapEnabled,\n  GRID_SIZE,\n  pageWidth,\n  pageHeight,\n  margins,\n  onDrag,\n  onDragStop,\n  onResizeStop,\n  onSelect,\n  onUpdateElement,\n  isOutOfBounds,\n  isOutOfPrintArea,\n}: {\n  element: TitleElement;\n  isSelected: boolean;\n  isExporting?: boolean;\n  snapEnabled: boolean;\n  GRID_SIZE: number;\n  pageWidth: number;\n  pageHeight: number;\n  margins: { top: number; right: number; bottom: number; left: number };\n  onDrag?: (id: string, e: DraggableEvent, data: DraggableData) => void;\n  onDragStop: (id: string, e: DraggableEvent, data: DraggableData) => void;\n  onResizeStop: (id: string, e: React.SyntheticEvent, data: ResizeCallbackData) => void;\n  onSelect: (id: string, ctrlKey?: boolean) => void;\n  onUpdateElement: (id: string, updates: Partial<EditorElement>) => void;\n  isOutOfBounds?: boolean;\n  isOutOfPrintArea?: boolean;\n}) => {\n  const nodeRef = useRef<HTMLDivElement>(null);\n  const [isEditing, setIsEditing] = useState(false);\n  const [isResizing, setIsResizing] = useState(false);\n  const [resizingSize, setResizingSize] = useState({ width: 0, height: 0 });\n\n  // Track current position during drag for real-time warning updates\n  const [currentPosition, setCurrentPosition] = useState(element.position);\n  const [isDragging, setIsDragging] = useState(false);\n\n  // ğŸ” DEBUG: Log render\n  console.log('ğŸ¨ [RENDER] DraggableTitle:', {\n    elementId: element.id,\n    elementSize: element.size,\n    isResizing,\n    resizingSize,\n    computedWidth: isResizing ? resizingSize.width : element.size.width,\n    computedHeight: isResizing ? resizingSize.height : element.size.height,\n    isSelected,\n  });\n\n  // ğŸ” DEBUG: Check if resize handles exist in DOM\n  React.useEffect(() => {\n    console.log('ğŸ” [useEffect] Running DOM check:', {\n      elementId: element.id,\n      isSelected,\n      nodeRefExists: !!nodeRef.current,\n    });\n\n    if (isSelected && nodeRef.current) {\n      // Wait for next tick to ensure Resizable has rendered\n      setTimeout(() => {\n        const resizableDiv = nodeRef.current?.querySelector('.react-resizable');\n        const handles = nodeRef.current?.querySelectorAll('.react-resizable-handle');\n\n        console.log('ğŸ¯ [DOM CHECK] Resize handles found:', {\n          elementId: element.id,\n          resizableDivExists: !!resizableDiv,\n          handleCount: handles?.length || 0,\n          handles: handles ? Array.from(handles).map(h => ({\n            className: h.className,\n            computedStyle: window.getComputedStyle(h as HTMLElement),\n            pointerEvents: window.getComputedStyle(h as HTMLElement).pointerEvents,\n            opacity: window.getComputedStyle(h as HTMLElement).opacity,\n            zIndex: window.getComputedStyle(h as HTMLElement).zIndex,\n            display: window.getComputedStyle(h as HTMLElement).display,\n          })) : [],\n        });\n      }, 100);\n    }\n  }, [isSelected, element.id]);\n\n  // Calculate warnings based on current position (during drag) or element position (static)\n  const activePosition = isDragging ? currentPosition : element.position;\n  const currentIsOutOfBounds =\n    activePosition.x < 0 ||\n    activePosition.x + element.size.width > pageWidth ||\n    activePosition.y < 0 ||\n    activePosition.y + element.size.height > pageHeight;\n\n  const currentIsOutOfPrintArea = !currentIsOutOfBounds && (\n    activePosition.x < margins.left ||\n    activePosition.x + element.size.width > pageWidth - margins.right ||\n    activePosition.y < margins.top ||\n    activePosition.y + element.size.height > pageHeight - margins.bottom\n  );\n\n  return (\n    <Draggable\n      nodeRef={nodeRef}\n      defaultPosition={element.position}\n      onDrag={(e, data) => {\n        setIsDragging(true);\n        setCurrentPosition({ x: data.x, y: data.y });\n        if (onDrag) onDrag(element.id, e, data);\n      }}\n      onStop={(e, data) => {\n        setIsDragging(false);\n        setCurrentPosition({ x: data.x, y: data.y });\n        onDragStop(element.id, e, data);\n      }}\n      bounds=\"parent\"\n      disabled={element.locked || isEditing}\n      grid={snapEnabled ? [GRID_SIZE, GRID_SIZE] : undefined}\n      cancel=\".react-resizable-handle\"\n    >\n      <div ref={nodeRef} className=\"absolute cursor-default\" style={{ zIndex: element.zIndex }}>\n        {/* Out of Bounds Warning */}\n        {!isExporting && currentIsOutOfBounds && (\n          <div className=\"absolute -top-8 left-0 bg-red-500 text-white text-xs px-2 py-1 rounded shadow-lg pointer-events-none z-[10000] whitespace-nowrap\">\n            âš ï¸ Ø®Ø§Ø±Ø¬ Ø­Ø¯ÙˆØ¯ Ø§Ù„ØµÙØ­Ø©\n          </div>\n        )}\n        {/* Out of Print Area Warning */}\n        {!isExporting && currentIsOutOfPrintArea && (\n          <div className=\"absolute -top-8 left-0 bg-yellow-500 text-white text-xs px-2 py-1 rounded shadow-lg pointer-events-none z-[10000] whitespace-nowrap\">\n            âš ï¸ Ø®Ø§Ø±Ø¬ Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©\n          </div>\n        )}\n        {/* Border wrapper with element-selected class */}\n        <div\n          className={cn(\n            \"relative\",\n            isSelected && !isExporting && \"ring-4 ring-purple-500 ring-offset-2 element-selected\"\n          )}\n          style={{\n            overflow: 'visible',\n            contain: 'none',\n          }}\n        >\n            <Resizable\n              width={isResizing ? resizingSize.width : element.size.width}\n              height={isResizing ? resizingSize.height : element.size.height}\n              onResize={(e, {size}) => {\n                console.log('ğŸ”µ [onResize] Title resize started:', {\n                  elementId: element.id,\n                  originalSize: size,\n                  snappedWidth: Math.round(size.width / 10) * 10,\n                  snappedHeight: Math.round(size.height / 10) * 10,\n                  event: e.type,\n                });\n\n                setIsResizing(true);\n                // Apply grid snapping for smoother, faster resize (10px increments)\n                const snappedWidth = Math.round(size.width / 10) * 10;\n                const snappedHeight = Math.round(size.height / 10) * 10;\n                setResizingSize({ width: snappedWidth, height: snappedHeight });\n\n                console.log('ğŸŸ¢ [onResize] State updated:', {\n                  isResizing: true,\n                  resizingSize: { width: snappedWidth, height: snappedHeight }\n                });\n              }}\n              onResizeStart={(e, {size}) => {\n                console.log('ğŸŸ¡ [onResizeStart] Title resize starting:', {\n                  elementId: element.id,\n                  initialSize: size,\n                  event: e.type,\n                });\n              }}\n              onResizeStop={(e, data) => {\n                console.log('ğŸ”´ [onResizeStop] Title resize stopped:', {\n                  elementId: element.id,\n                  finalSize: data.size,\n                  snappedWidth: Math.round(data.size.width / 10) * 10,\n                  snappedHeight: Math.round(data.size.height / 10) * 10,\n                });\n\n                setIsResizing(false);\n                // Apply grid snapping to final size\n                const snappedWidth = Math.round(data.size.width / 10) * 10;\n                const snappedHeight = Math.round(data.size.height / 10) * 10;\n                onResizeStop(element.id, e, { ...data, size: { width: snappedWidth, height: snappedHeight } });\n              }}\n              resizeHandles={['se', 'sw', 'ne', 'nw']}\n              minConstraints={[300, 60]}\n              maxConstraints={[pageWidth - margins.left - margins.right, 300]}\n            >\n              <div\n                style={{\n                  width: isResizing ? resizingSize.width : element.size.width,\n                  height: isResizing ? resizingSize.height : element.size.height,\n                  overflow: 'visible',\n                  contain: 'none',\n                  background: (() => {\n                const bg = element.style.background;\n                if (bg.type === 'none') return 'transparent';\n\n                // For solid color - apply opacity directly in the color if specified\n                if (bg.type === 'solid') {\n                  const color = bg.solidColor || '#1e293b';\n                  const opacity = bg.opacity ?? 1;\n                  if (opacity < 1) {\n                    // Convert hex to rgba with opacity\n                    const r = parseInt(color.slice(1, 3), 16);\n                    const g = parseInt(color.slice(3, 5), 16);\n                    const b = parseInt(color.slice(5, 7), 16);\n                    return `rgba(${r}, ${g}, ${b}, ${opacity})`;\n                  }\n                  return color; // Return exact color without modification\n                }\n\n                if (bg.type === 'semi-transparent') {\n                  const color = bg.solidColor || '#1e293b';\n                  const opacity = bg.opacity ?? 0.9;\n                  // Convert hex to rgba\n                  const r = parseInt(color.slice(1, 3), 16);\n                  const g = parseInt(color.slice(3, 5), 16);\n                  const b = parseInt(color.slice(5, 7), 16);\n                  return `rgba(${r}, ${g}, ${b}, ${opacity})`;\n                }\n\n                if (bg.type === 'gradient' && bg.gradient) {\n                  const { type, angle, startColor, endColor } = bg.gradient;\n                  const opacity = bg.opacity ?? 1;\n\n                  if (type === 'radial') {\n                    const gradient = `radial-gradient(circle, ${startColor} 0%, ${endColor} 100%)`;\n                    // If opacity < 1, we need to apply it differently\n                    return gradient;\n                  }\n                  return `linear-gradient(${angle || 135}deg, ${startColor} 0%, ${endColor} 100%)`;\n                }\n                return 'transparent';\n              })(),\n              // Only apply opacity to the container if background type is 'none' or opacity is 1\n              // This prevents double opacity application\n              opacity: element.style.background.type === 'none' ? 1 : (element.style.background.type === 'gradient' ? (element.style.background.opacity ?? 1) : 1),\n              borderWidth: element.style.background.type === 'none' ? 0 : (element.style.background.border?.width || 0),\n              borderColor: element.style.background.type === 'none' ? 'transparent' : (element.style.background.border?.color || 'transparent'),\n              borderStyle: element.style.background.type === 'none' ? 'none' : (element.style.background.border?.style || 'none'),\n              borderRadius: element.style.background.type === 'none' ? 0 : `${element.style.background.border?.radius || 12}px`,\n              boxShadow: (element.style.background.type === 'none' || !element.style.background.shadow?.enabled)\n                ? 'none'\n                : `${element.style.background.shadow.offsetX}px ${element.style.background.shadow.offsetY}px ${element.style.background.shadow.blur}px ${element.style.background.shadow.color}`,\n              // Apply CSS transforms\n              transform: `\n                rotate(${element.transform.rotation}deg)\n                scaleX(${element.transform.flipHorizontal ? -1 : 1})\n                scaleY(${element.transform.flipVertical ? -1 : 1})\n                scale(${element.transform.scale.x}, ${element.transform.scale.y})\n              `,\n              transformOrigin: 'center center',\n            }}\n            onClick={(e) => {\n              e.stopPropagation();\n              onSelect(element.id, e.ctrlKey);\n            }}\n            onDoubleClick={(e) => {\n              e.stopPropagation();\n              setIsEditing(true);\n            }}\n          >\n            <div\n              className=\"w-full flex justify-center\"\n              style={{\n                textAlign: element.style.textAlign,\n                paddingTop: '48px',\n                paddingBottom: '48px',\n                paddingLeft: '24px',\n                paddingRight: '24px',\n                overflow: 'visible',\n                contain: 'none',\n                minHeight: '100%',\n              }}\n            >\n              {isEditing ? (\n                <input\n                  type=\"text\"\n                  value={element.content}\n                  onChange={(e) => {\n                    onUpdateElement(element.id, {\n                      content: e.target.value\n                    } as Partial<TitleElement>);\n                  }}\n                  onBlur={() => setIsEditing(false)}\n                  onKeyDown={(e) => {\n                    if (e.key === 'Enter') {\n                      setIsEditing(false);\n                    }\n                  }}\n                  autoFocus\n                  className=\"w-full bg-transparent border-2 border-white/50 rounded px-4 py-2 text-center outline-none\"\n                  style={{\n                    fontSize: `${element.style.fontSize}px`,\n                    fontWeight: element.style.fontWeight,\n                    color: element.style.color,\n                    direction: 'rtl',\n                  }}\n                />\n              ) : (\n                <h1\n                  className=\"font-bold select-none\"\n                  style={{\n                    fontSize: `${element.style.fontSize}px`,\n                    fontWeight: element.style.fontWeight,\n                    color: element.style.color,\n                    direction: 'rtl',\n                    lineHeight: 2.2,\n                    wordBreak: 'break-word',\n                    fontFamily: \"'Cairo', 'Amiri', 'Tajawal', 'Tahoma', 'Arial', sans-serif\",\n                    textRendering: 'optimizeLegibility',\n                    WebkitFontSmoothing: 'antialiased',\n                    MozOsxFontSmoothing: 'grayscale',\n                    paddingTop: '0',\n                    paddingBottom: '0',\n                    marginTop: '0',\n                    marginBottom: '0',\n                    whiteSpace: 'normal',\n                    overflow: 'visible',\n                    contain: 'none',\n                    display: 'block',\n                    width: '100%',\n                    boxSizing: 'content-box',\n                  }}\n                >\n                  {element.content}\n                </h1>\n              )}\n            </div>\n\n            {/* Resize Tooltip - Shows during resizing */}\n            {isResizing && (\n              <div className=\"resize-tooltip absolute -top-16 left-1/2 transform -translate-x-1/2 bg-gradient-to-r from-purple-600 to-purple-500 text-white px-4 py-2 rounded-lg text-sm font-bold whitespace-nowrap z-50 shadow-2xl border-2 border-white\">\n                <div className=\"flex items-center gap-2\">\n                  <span className=\"text-purple-100\">ğŸ“</span>\n                  <span>{Math.round(resizingSize.width)} Ã— {Math.round(resizingSize.height)} px</span>\n                </div>\n              </div>\n            )}\n\n            {/* Rotation Handle (shown when selected, hidden during export) */}\n            {isSelected && !isExporting && (\n              <RotationHandle\n                rotation={element.transform.rotation}\n                onRotate={(rotation) => {\n                  onUpdateElement(element.id, {\n                    transform: { ...element.transform, rotation }\n                  } as Partial<TitleElement>);\n                }}\n                elementRef={nodeRef}\n                snapToAngles={true}\n              />\n            )}\n              </div>\n            </Resizable>\n          </div>\n      </div>\n    </Draggable>\n  );\n};\n\n// ============================================================================\n// Table Title Component (React.memo removed to allow local state updates during resize)\n// ============================================================================\n\nconst DraggableTableTitle = ({\n  element,\n  isSelected,\n  isExporting,\n  editorSettings,\n  snapEnabled,\n  GRID_SIZE,\n  pageWidth,\n  pageHeight,\n  margins,\n  onDrag,\n  onDragStop,\n  onResizeStop,\n  onSelect,\n  onUpdateElement,\n  onToggleLink,\n  isOutOfBounds,\n  isOutOfPrintArea,\n}: {\n  element: TableTitleElement;\n  isSelected: boolean;\n  isExporting?: boolean;\n  editorSettings: EditorSettings;\n  snapEnabled: boolean;\n  GRID_SIZE: number;\n  pageWidth: number;\n  pageHeight: number;\n  margins: { top: number; right: number; bottom: number; left: number };\n  onDrag?: (id: string, e: DraggableEvent, data: DraggableData) => void;\n  onDragStop: (id: string, e: DraggableEvent, data: DraggableData) => void;\n  onResizeStop: (id: string, e: React.SyntheticEvent, data: ResizeCallbackData) => void;\n  onSelect: (id: string, ctrlKey?: boolean) => void;\n  onUpdateElement: (id: string, updates: Partial<EditorElement>) => void;\n  onToggleLink?: (titleId: string, tableId: string | null) => void;\n  isOutOfBounds?: boolean;\n  isOutOfPrintArea?: boolean;\n}) => {\n  const nodeRef = useRef<HTMLDivElement>(null);\n  const [isEditing, setIsEditing] = useState(false);\n  const [editedContent, setEditedContent] = useState(element.content);\n  const [isResizing, setIsResizing] = useState(false);\n  const [resizingSize, setResizingSize] = useState({ width: 0, height: 0 });\n\n  // Track current position during drag for real-time warning updates\n  const [currentPosition, setCurrentPosition] = useState(element.position);\n  const [isDragging, setIsDragging] = useState(false);\n\n  // Calculate warnings based on current position (during drag) or element position (static)\n  const activePosition = isDragging ? currentPosition : element.position;\n  const currentIsOutOfBounds =\n    activePosition.x < 0 ||\n    activePosition.x + element.size.width > pageWidth ||\n    activePosition.y < 0 ||\n    activePosition.y + element.size.height > pageHeight;\n\n  const currentIsOutOfPrintArea = !currentIsOutOfBounds && (\n    activePosition.x < margins.left ||\n    activePosition.x + element.size.width > pageWidth - margins.right ||\n    activePosition.y < margins.top ||\n    activePosition.y + element.size.height > pageHeight - margins.bottom\n  );\n\n  const handleDoubleClick = () => {\n    if (!element.locked && !isExporting) {\n      setIsEditing(true);\n      setEditedContent(element.content);\n    }\n  };\n\n  const handleBlur = () => {\n    setIsEditing(false);\n    if (editedContent !== element.content) {\n      onUpdateElement(element.id, { content: editedContent } as Partial<TableTitleElement>);\n    }\n  };\n\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleBlur();\n    } else if (e.key === 'Escape') {\n      setIsEditing(false);\n      setEditedContent(element.content);\n    }\n  };\n\n  return (\n    <Draggable\n      nodeRef={nodeRef}\n      defaultPosition={element.position}\n      onDrag={(e, data) => {\n        setIsDragging(true);\n        setCurrentPosition({ x: data.x, y: data.y });\n        if (onDrag) onDrag(element.id, e, data);\n      }}\n      onStop={(e, data) => {\n        setIsDragging(false);\n        setCurrentPosition({ x: data.x, y: data.y });\n        onDragStop(element.id, e, data);\n      }}\n      bounds=\"parent\"\n      disabled={element.locked || isEditing}\n      grid={snapEnabled ? [GRID_SIZE, GRID_SIZE] : undefined}\n      cancel=\".react-resizable-handle\"\n    >\n      <div ref={nodeRef} className=\"absolute cursor-default\" style={{ zIndex: element.zIndex }}>\n        {/* Out of Bounds Warning */}\n        {!isExporting && currentIsOutOfBounds && (\n          <div className=\"absolute -top-8 left-0 bg-red-500 text-white text-xs px-2 py-1 rounded shadow-lg pointer-events-none z-[10000] whitespace-nowrap\">\n            âš ï¸ Ø®Ø§Ø±Ø¬ Ø­Ø¯ÙˆØ¯ Ø§Ù„ØµÙØ­Ø©\n          </div>\n        )}\n        {/* Out of Print Area Warning */}\n        {!isExporting && currentIsOutOfPrintArea && (\n          <div className=\"absolute -top-8 left-0 bg-yellow-500 text-white text-xs px-2 py-1 rounded shadow-lg pointer-events-none z-[10000] whitespace-nowrap\">\n            âš ï¸ Ø®Ø§Ø±Ø¬ Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©\n          </div>\n        )}\n        {/* Border wrapper with element-selected class */}\n        <div\n          className={cn(\n            \"relative transition-all duration-200\",\n            isSelected && !isExporting && \"ring-4 ring-blue-500 ring-offset-2 element-selected\"\n          )}\n          style={{\n            overflow: 'visible',\n            transform: `\n              rotate(${element.transform.rotation}deg)\n              scaleX(${element.transform.flipHorizontal ? -1 : 1})\n              scaleY(${element.transform.flipVertical ? -1 : 1})\n            `,\n            transformOrigin: 'center center',\n          }}\n          onClick={(e) => {\n            e.stopPropagation();\n            // Phase 4: Support Ctrl+Click for multi-selection\n            onSelect(element.id, e.ctrlKey);\n          }}\n          onDoubleClick={handleDoubleClick}\n        >\n          <Resizable\n            width={isResizing ? resizingSize.width : element.size.width}\n            height={isResizing ? resizingSize.height : element.size.height}\n            onResize={(e, {size}) => {\n              setIsResizing(true);\n              // Apply grid snapping for smoother, faster resize (10px increments)\n              const snappedWidth = Math.round(size.width / 10) * 10;\n              const snappedHeight = Math.round(size.height / 10) * 10;\n              setResizingSize({ width: snappedWidth, height: snappedHeight });\n            }}\n            onResizeStop={(e, data) => {\n              setIsResizing(false);\n              // Apply grid snapping to final size\n              const snappedWidth = Math.round(data.size.width / 10) * 10;\n              const snappedHeight = Math.round(data.size.height / 10) * 10;\n              onResizeStop(element.id, e, { ...data, size: { width: snappedWidth, height: snappedHeight } });\n            }}\n            resizeHandles={['e', 'w']}\n            minConstraints={[200, 40]}\n            maxConstraints={[pageWidth - margins.left - margins.right, 80]}\n          >\n            <div\n              style={{\n                width: isResizing ? resizingSize.width : element.size.width,\n                height: isResizing ? resizingSize.height : element.size.height,\n              }}\n            >\n            <div\n              className=\"w-full h-full flex items-center px-4\"\n              style={{\n                textAlign: element.style.textAlign,\n                transform: `scale(${(isResizing ? resizingSize.width : element.size.width) / element.size.width})`,\n                transformOrigin: element.style.textAlign === 'right' ? 'right center' : element.style.textAlign === 'left' ? 'left center' : 'center center',\n              }}\n            >\n              {isEditing ? (\n                <input\n                  type=\"text\"\n                  value={editedContent}\n                  onChange={(e) => setEditedContent(e.target.value)}\n                  onBlur={handleBlur}\n                  onKeyDown={handleKeyDown}\n                  autoFocus\n                  className=\"w-full bg-white border-2 border-blue-500 rounded px-2 py-1 text-center\"\n                  style={{\n                    fontSize: `${element.style.fontSize}px`,\n                    fontWeight: element.style.fontWeight,\n                    color: element.style.color,\n                    direction: 'rtl',\n                    fontFamily: editorSettings.fonts.family,\n                  }}\n                />\n              ) : (\n                <h3\n                  className=\"font-semibold select-none w-full\"\n                  style={{\n                    fontSize: `${element.style.fontSize}px`,\n                    fontWeight: element.style.fontWeight,\n                    color: element.style.color,\n                    direction: 'rtl',\n                    lineHeight: 1.5,\n                    wordBreak: 'break-word',\n                    fontFamily: editorSettings.fonts.family,\n                    textRendering: 'optimizeLegibility',\n                    WebkitFontSmoothing: 'antialiased',\n                    MozOsxFontSmoothing: 'grayscale',\n                  }}\n                >\n                  {element.content}\n                </h3>\n              )}\n            </div>\n\n            {/* Link/Unlink Button */}\n            {isSelected && !isExporting && onToggleLink && (\n              <button\n                onClick={(e) => {\n                  e.stopPropagation();\n                  onToggleLink(element.id, element.linkedTableId);\n                }}\n                className=\"absolute -top-10 left-1/2 transform -translate-x-1/2 bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-xs shadow-lg transition-colors\"\n                title={element.linkedTableId ? 'ÙÙƒ Ø±Ø¨Ø· Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ù…Ù† Ø§Ù„Ø¬Ø¯ÙˆÙ„' : 'Ø±Ø¨Ø· Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø¨Ø§Ù„Ø¬Ø¯ÙˆÙ„'}\n              >\n                {element.linkedTableId ? 'ğŸ”— Ù…Ø±Ø¨ÙˆØ·' : 'ğŸ”“ ØºÙŠØ± Ù…Ø±Ø¨ÙˆØ·'}\n              </button>\n            )}\n\n            {/* Rotation Handle */}\n            {isSelected && !isExporting && (\n              <RotationHandle\n                rotation={element.transform.rotation}\n                onRotate={(rotation) => {\n                  onUpdateElement(element.id, {\n                    transform: { ...element.transform, rotation }\n                  } as Partial<TableTitleElement>);\n                }}\n                elementRef={nodeRef}\n                snapToAngles={true}\n              />\n            )}\n            </div>\n          </Resizable>\n        </div>\n      </div>\n    </Draggable>\n  );\n};\n\n// ============================================================================\n// Table Component (React.memo removed to allow local state updates during resize)\n// ============================================================================\n\nconst DraggableTable = ({\n  element,\n  isSelected,\n  isExporting,\n  editorSettings,\n  snapEnabled,\n  GRID_SIZE,\n  pageWidth,\n  pageHeight,\n  margins,\n  onDrag,\n  onDragStop,\n  onResizeStop,\n  onSelect,\n  onUpdateElement,\n  isOutOfBounds,\n  isOutOfPrintArea,\n}: {\n  element: TableElement;\n  isSelected: boolean;\n  isExporting?: boolean;\n  editorSettings: EditorSettings;\n  snapEnabled: boolean;\n  GRID_SIZE: number;\n  pageWidth: number;\n  pageHeight: number;\n  margins: { top: number; right: number; bottom: number; left: number };\n  onDrag?: (id: string, e: DraggableEvent, data: DraggableData) => void;\n  onDragStop: (id: string, e: DraggableEvent, data: DraggableData) => void;\n  onResizeStop: (id: string, e: React.SyntheticEvent, data: ResizeCallbackData) => void;\n  onSelect: (id: string, ctrlKey?: boolean) => void;\n  onUpdateElement: (id: string, updates: Partial<EditorElement>) => void;\n  isOutOfBounds?: boolean;\n  isOutOfPrintArea?: boolean;\n}) => {\n  // Create ref for React 19 compatibility (avoid findDOMNode)\n  const nodeRef = useRef<HTMLDivElement>(null);\n  const [isResizing, setIsResizing] = useState(false);\n  const [resizingSize, setResizingSize] = useState({ width: 0, height: 0 });\n\n  // Track current position during drag for real-time warning updates\n  const [currentPosition, setCurrentPosition] = useState(element.position);\n  const [isDragging, setIsDragging] = useState(false);\n\n  // Column reordering functions\n  const moveColumnLeft = (idx: number) => {\n    if (idx >= element.headers.length - 1) return; // Can't move last column left (RTL)\n    const newHeaders = [...element.headers];\n    // Swap with next column (in RTL, \"left\" means higher index)\n    [newHeaders[idx], newHeaders[idx + 1]] = [newHeaders[idx + 1], newHeaders[idx]];\n    onUpdateElement(element.id, { headers: newHeaders });\n  };\n\n  const moveColumnRight = (idx: number) => {\n    if (idx <= 0) return; // Can't move first column right (RTL)\n    const newHeaders = [...element.headers];\n    // Swap with previous column (in RTL, \"right\" means lower index)\n    [newHeaders[idx], newHeaders[idx - 1]] = [newHeaders[idx - 1], newHeaders[idx]];\n    onUpdateElement(element.id, { headers: newHeaders });\n  };\n\n  // Row reordering functions\n  const moveRowUp = (rowIdx: number) => {\n    if (rowIdx <= 0) return; // Can't move first row up\n    const newRows = [...element.rows];\n    [newRows[rowIdx], newRows[rowIdx - 1]] = [newRows[rowIdx - 1], newRows[rowIdx]];\n    onUpdateElement(element.id, { rows: newRows });\n  };\n\n  const moveRowDown = (rowIdx: number) => {\n    if (rowIdx >= element.rows.length - 1) return; // Can't move last row down\n    const newRows = [...element.rows];\n    [newRows[rowIdx], newRows[rowIdx + 1]] = [newRows[rowIdx + 1], newRows[rowIdx]];\n    onUpdateElement(element.id, { rows: newRows });\n  };\n\n  // Calculate warnings based on current position (during drag) or element position (static)\n  const activePosition = isDragging ? currentPosition : element.position;\n  const currentIsOutOfBounds =\n    activePosition.x < 0 ||\n    activePosition.x + element.size.width > pageWidth ||\n    activePosition.y < 0 ||\n    activePosition.y + element.size.height > pageHeight;\n\n  const currentIsOutOfPrintArea = !currentIsOutOfBounds && (\n    activePosition.x < margins.left ||\n    activePosition.x + element.size.width > pageWidth - margins.right ||\n    activePosition.y < margins.top ||\n    activePosition.y + element.size.height > pageHeight - margins.bottom\n  );\n\n  return (\n    <Draggable\n      nodeRef={nodeRef}\n      defaultPosition={element.position}\n      onDrag={(e, data) => {\n        setIsDragging(true);\n        setCurrentPosition({ x: data.x, y: data.y });\n        if (onDrag) onDrag(element.id, e, data);\n      }}\n      onStop={(e, data) => {\n        setIsDragging(false);\n        setCurrentPosition({ x: data.x, y: data.y });\n        onDragStop(element.id, e, data);\n      }}\n      bounds=\"parent\"\n      disabled={element.locked}\n      grid={snapEnabled ? [GRID_SIZE, GRID_SIZE] : undefined}\n      cancel=\".react-resizable-handle\"\n    >\n      <div ref={nodeRef} className=\"absolute cursor-default\" style={{ zIndex: element.zIndex }}>\n        {/* Out of Bounds Warning */}\n        {!isExporting && currentIsOutOfBounds && (\n          <div className=\"absolute -top-8 left-0 bg-red-500 text-white text-xs px-2 py-1 rounded shadow-lg pointer-events-none z-[10000] whitespace-nowrap\">\n            âš ï¸ Ø®Ø§Ø±Ø¬ Ø­Ø¯ÙˆØ¯ Ø§Ù„ØµÙØ­Ø©\n          </div>\n        )}\n        {/* Out of Print Area Warning */}\n        {!isExporting && currentIsOutOfPrintArea && (\n          <div className=\"absolute -top-8 left-0 bg-yellow-500 text-white text-xs px-2 py-1 rounded shadow-lg pointer-events-none z-[10000] whitespace-nowrap\">\n            âš ï¸ Ø®Ø§Ø±Ø¬ Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©\n          </div>\n        )}\n        {/* Border wrapper with element-selected class */}\n        <div\n          className={cn(\n            \"relative transition-all duration-200\",\n            isSelected && !isExporting && \"ring-4 ring-blue-500 ring-offset-2 element-selected\"\n          )}\n          style={{\n            // Apply CSS transforms\n            transform: `\n              rotate(${element.transform.rotation}deg)\n              scaleX(${element.transform.flipHorizontal ? -1 : 1})\n              scaleY(${element.transform.flipVertical ? -1 : 1})\n              scale(${element.transform.scale.x}, ${element.transform.scale.y})\n            `,\n            transformOrigin: 'center center',\n          }}\n          onClick={(e) => {\n            e.stopPropagation();\n            // Phase 4: Support Ctrl+Click for multi-selection\n            onSelect(element.id, e.ctrlKey);\n          }}\n        >\n          <Resizable\n            width={isResizing ? resizingSize.width : element.size.width}\n            height={isResizing ? resizingSize.height : element.size.height}\n            onResize={(e, {size}) => {\n              setIsResizing(true);\n              // Apply grid snapping for smoother, faster resize (10px increments)\n              const snappedWidth = Math.round(size.width / 10) * 10;\n              const snappedHeight = Math.round(size.height / 10) * 10;\n              setResizingSize({ width: snappedWidth, height: snappedHeight });\n            }}\n            onResizeStop={(e, data) => {\n              setIsResizing(false);\n              // Apply grid snapping to final size\n              const snappedWidth = Math.round(data.size.width / 10) * 10;\n              const snappedHeight = Math.round(data.size.height / 10) * 10;\n              onResizeStop(element.id, e, { ...data, size: { width: snappedWidth, height: snappedHeight } });\n            }}\n            resizeHandles={['se', 'sw', 'ne', 'nw']}\n            minConstraints={[200, 100]}\n            maxConstraints={[pageWidth - margins.left - margins.right, pageHeight - margins.top - margins.bottom]}\n          >\n            <div\n              style={{\n                width: isResizing ? resizingSize.width : element.size.width,\n                height: isResizing ? resizingSize.height : element.size.height,\n              }}\n            >\n            {/* Table title removed - now handled by separate TableTitleElement */}\n\n            <div\n              className=\"overflow-auto\"\n              style={{\n                maxHeight: isExporting ? 'none' : element.size.height,\n                height: isExporting ? 'auto' : undefined,\n                borderRadius: '8px',\n              }}\n            >\n              <table\n                className=\"w-full\"\n                dir=\"rtl\"\n                style={{\n                  borderCollapse: 'separate',\n                  borderSpacing: 0,\n                  border: '1px solid #e2e8f0',\n                  borderRadius: '8px',\n                  overflow: 'hidden',\n                  boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\n                }}\n              >\n                <thead>\n                  <tr>\n                    {element.headers.map((header, idx) => (\n                      <th\n                        key={idx}\n                        style={{\n                          backgroundColor: editorSettings.colors.headerBg,\n                          color: editorSettings.colors.headerText,\n                          fontSize: `${editorSettings.fonts.sizes.tableHeader}px`,\n                          fontWeight: editorSettings.fonts.weights.tableHeader,\n                          fontFamily: editorSettings.fonts.family,\n                          direction: 'rtl',\n                          unicodeBidi: 'bidi-override',\n                          textRendering: 'optimizeLegibility',\n                          WebkitFontSmoothing: 'antialiased',\n                          MozOsxFontSmoothing: 'grayscale',\n                          padding: isSelected ? '6px 8px' : '14px 16px',\n                          textAlign: 'center',\n                          borderBottom: '2px solid rgba(255, 255, 255, 0.2)',\n                          borderLeft: idx !== element.headers.length - 1 ? '1px solid rgba(255, 255, 255, 0.1)' : 'none',\n                          whiteSpace: 'nowrap',\n                          lineHeight: '1.5',\n                        }}\n                      >\n                        {/* Column reorder arrows - only show when selected */}\n                        {isSelected && !isExporting && (\n                          <div style={{\n                            display: 'flex',\n                            justifyContent: 'center',\n                            gap: '2px',\n                            marginBottom: '4px'\n                          }}>\n                            {/* Move Right Arrow (in RTL, right = lower index) */}\n                            <button\n                              onClick={(e) => {\n                                e.stopPropagation();\n                                moveColumnRight(idx);\n                              }}\n                              disabled={idx <= 0}\n                              style={{\n                                background: idx <= 0 ? 'rgba(255,255,255,0.1)' : 'rgba(255,255,255,0.25)',\n                                border: 'none',\n                                borderRadius: '3px',\n                                padding: '2px 6px',\n                                cursor: idx <= 0 ? 'not-allowed' : 'pointer',\n                                color: idx <= 0 ? 'rgba(255,255,255,0.3)' : 'white',\n                                fontSize: '10px',\n                                fontWeight: 'bold',\n                                transition: 'all 0.15s ease',\n                              }}\n                              title=\"Ù†Ù‚Ù„ Ø§Ù„Ø¹Ù…ÙˆØ¯ Ù„Ù„ÙŠÙ…ÙŠÙ†\"\n                            >\n                              â†’\n                            </button>\n                            {/* Move Left Arrow (in RTL, left = higher index) */}\n                            <button\n                              onClick={(e) => {\n                                e.stopPropagation();\n                                moveColumnLeft(idx);\n                              }}\n                              disabled={idx >= element.headers.length - 1}\n                              style={{\n                                background: idx >= element.headers.length - 1 ? 'rgba(255,255,255,0.1)' : 'rgba(255,255,255,0.25)',\n                                border: 'none',\n                                borderRadius: '3px',\n                                padding: '2px 6px',\n                                cursor: idx >= element.headers.length - 1 ? 'not-allowed' : 'pointer',\n                                color: idx >= element.headers.length - 1 ? 'rgba(255,255,255,0.3)' : 'white',\n                                fontSize: '10px',\n                                fontWeight: 'bold',\n                                transition: 'all 0.15s ease',\n                              }}\n                              title=\"Ù†Ù‚Ù„ Ø§Ù„Ø¹Ù…ÙˆØ¯ Ù„Ù„ÙŠØ³Ø§Ø±\"\n                            >\n                              â†\n                            </button>\n                          </div>\n                        )}\n                        {/* Editable header text */}\n                        <span\n                          contentEditable={isSelected}\n                          suppressContentEditableWarning\n                          style={{\n                            display: 'block',\n                            cursor: isSelected ? 'text' : 'default',\n                            outline: 'none',\n                            minWidth: '40px',\n                          }}\n                          onBlur={(e) => {\n                            const newValue = e.currentTarget.textContent?.trim() || header;\n                            if (newValue !== header) {\n                              const newHeaders = [...element.headers];\n                              const oldHeader = newHeaders[idx];\n                              newHeaders[idx] = newValue;\n\n                              // Update rows to use new header key\n                              const newRows = element.rows.map(row => {\n                                const newRow = { ...row };\n                                if (oldHeader !== newValue) {\n                                  newRow[newValue] = row[oldHeader];\n                                  delete newRow[oldHeader];\n                                }\n                                return newRow;\n                              });\n\n                              onUpdateElement(element.id, { headers: newHeaders, rows: newRows });\n                            }\n                          }}\n                        >\n                          {header}\n                        </span>\n                      </th>\n                    ))}\n                  </tr>\n                </thead>\n                <tbody>\n                  {element.rows.map((row, rowIdx) => (\n                    <tr\n                      key={rowIdx}\n                      style={{\n                        backgroundColor: rowIdx % 2 === 0 ? '#ffffff' : '#f8fafc',\n                        transition: 'background-color 0.15s ease',\n                      }}\n                    >\n                      {element.headers.map((header, cellIdx) => (\n                        <td\n                          key={cellIdx}\n                          style={{\n                            fontSize: `${editorSettings.fonts.sizes.tableCell}px`,\n                            color: editorSettings.colors.rowText,\n                            fontFamily: editorSettings.fonts.family,\n                            direction: 'rtl',\n                            unicodeBidi: 'bidi-override',\n                            textRendering: 'optimizeLegibility',\n                            WebkitFontSmoothing: 'antialiased',\n                            MozOsxFontSmoothing: 'grayscale',\n                            padding: '12px 16px',\n                            textAlign: 'center',\n                            borderBottom: rowIdx !== element.rows.length - 1 ? '1px solid #e2e8f0' : 'none',\n                            borderLeft: cellIdx !== element.headers.length - 1 ? '1px solid #e2e8f0' : 'none',\n                            lineHeight: '1.6',\n                            minHeight: '44px',\n                            verticalAlign: 'middle',\n                            position: 'relative',\n                          }}\n                        >\n                          {/* Row reorder arrows - only show on first cell when selected */}\n                          {cellIdx === 0 && isSelected && !isExporting && (\n                            <div style={{\n                              position: 'absolute',\n                              right: '4px',\n                              top: '50%',\n                              transform: 'translateY(-50%)',\n                              display: 'flex',\n                              flexDirection: 'column',\n                              gap: '2px',\n                              zIndex: 10,\n                            }}>\n                              {/* Move Up Arrow */}\n                              <button\n                                onClick={(e) => {\n                                  e.stopPropagation();\n                                  moveRowUp(rowIdx);\n                                }}\n                                disabled={rowIdx <= 0}\n                                style={{\n                                  background: rowIdx <= 0 ? 'rgba(0,0,0,0.15)' : 'rgba(59,130,246,0.9)',\n                                  border: 'none',\n                                  borderRadius: '4px',\n                                  padding: '4px 8px',\n                                  cursor: rowIdx <= 0 ? 'not-allowed' : 'pointer',\n                                  color: rowIdx <= 0 ? 'rgba(0,0,0,0.3)' : 'white',\n                                  fontSize: '14px',\n                                  fontWeight: 'bold',\n                                  transition: 'all 0.15s ease',\n                                  lineHeight: 1,\n                                  minWidth: '24px',\n                                  minHeight: '20px',\n                                }}\n                                title=\"Ù†Ù‚Ù„ Ù„Ø£Ø¹Ù„Ù‰\"\n                              >\n                                â†‘\n                              </button>\n                              {/* Move Down Arrow */}\n                              <button\n                                onClick={(e) => {\n                                  e.stopPropagation();\n                                  moveRowDown(rowIdx);\n                                }}\n                                disabled={rowIdx >= element.rows.length - 1}\n                                style={{\n                                  background: rowIdx >= element.rows.length - 1 ? 'rgba(0,0,0,0.15)' : 'rgba(59,130,246,0.9)',\n                                  border: 'none',\n                                  borderRadius: '4px',\n                                  padding: '4px 8px',\n                                  cursor: rowIdx >= element.rows.length - 1 ? 'not-allowed' : 'pointer',\n                                  color: rowIdx >= element.rows.length - 1 ? 'rgba(0,0,0,0.3)' : 'white',\n                                  fontSize: '14px',\n                                  fontWeight: 'bold',\n                                  transition: 'all 0.15s ease',\n                                  lineHeight: 1,\n                                  minWidth: '24px',\n                                  minHeight: '20px',\n                                }}\n                                title=\"Ù†Ù‚Ù„ Ù„Ø£Ø³ÙÙ„\"\n                              >\n                                â†“\n                              </button>\n                            </div>\n                          )}\n                          {/* Cell content - check if signature (base64 image) or text */}\n                          {row[header]?.startsWith?.('data:image') ? (\n                            // Signature cell - render as image (larger size when exporting for better print quality)\n                            <div style={{\n                              display: 'flex',\n                              justifyContent: 'center',\n                              alignItems: 'center',\n                              paddingRight: isSelected && !isExporting && cellIdx === 0 ? '24px' : '0',\n                            }}>\n                              <img\n                                src={row[header]}\n                                alt=\"ØªÙˆÙ‚ÙŠØ¹\"\n                                style={{\n                                  maxWidth: isExporting ? '180px' : '120px',\n                                  maxHeight: isExporting ? '70px' : '50px',\n                                  objectFit: 'contain',\n                                }}\n                              />\n                            </div>\n                          ) : (\n                            // Regular cell - editable text\n                            <span\n                              contentEditable={isSelected}\n                              suppressContentEditableWarning\n                              style={{\n                                display: 'block',\n                                outline: 'none',\n                                paddingRight: isSelected && !isExporting && cellIdx === 0 ? '24px' : '0',\n                              }}\n                              onBlur={(e) => {\n                                const newRows = [...element.rows];\n                                newRows[rowIdx][header] = e.currentTarget.textContent || '';\n                                onUpdateElement(element.id, { rows: newRows });\n                              }}\n                            >\n                              {row[header] || '-'}\n                            </span>\n                          )}\n                        </td>\n                      ))}\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n\n            {/* Resize Tooltip - Shows during resizing */}\n            {isResizing && (\n              <div className=\"resize-tooltip absolute -top-16 left-1/2 transform -translate-x-1/2 bg-gradient-to-r from-blue-600 to-blue-500 text-white px-4 py-2 rounded-lg text-sm font-bold whitespace-nowrap z-50 shadow-2xl border-2 border-white\">\n                <div className=\"flex items-center gap-2\">\n                  <span className=\"text-blue-100\">ğŸ“</span>\n                  <span>{Math.round(resizingSize.width)} Ã— {Math.round(resizingSize.height)} px</span>\n                </div>\n              </div>\n            )}\n\n            {isSelected && !isExporting && (\n              <>\n                <div className=\"absolute -top-8 left-0 bg-blue-500 text-white px-2 py-1 rounded text-xs font-medium whitespace-nowrap z-10\">\n                  Ø¬Ø¯ÙˆÙ„ â€¢ {Math.round(element.size.width)}Ã—{Math.round(element.size.height)}px\n                </div>\n                <div className=\"absolute -top-2 -left-2 w-4 h-4 bg-blue-500 rounded-full border-2 border-white\" />\n                <div className=\"absolute -top-2 -right-2 w-4 h-4 bg-blue-500 rounded-full border-2 border-white\" />\n                <div className=\"absolute -bottom-2 -left-2 w-4 h-4 bg-blue-500 rounded-full border-2 border-white\" />\n                <div className=\"absolute -bottom-2 -right-2 w-4 h-4 bg-blue-500 rounded-full border-2 border-white\" />\n\n                {/* Rotation Handle */}\n                <RotationHandle\n                  rotation={element.transform.rotation}\n                  onRotate={(rotation) => {\n                    onUpdateElement(element.id, {\n                      transform: { ...element.transform, rotation }\n                    } as Partial<TableElement>);\n                  }}\n                  elementRef={nodeRef}\n                  snapToAngles={true}\n                />\n              </>\n            )}\n            </div>\n          </Resizable>\n        </div>\n      </div>\n    </Draggable>\n  );\n};\n\n// ============================================================================\n// Main Component\n// ============================================================================\n\nexport function EnhancedHTMLEditor({\n  settings: externalSettings,\n  sampleData,\n  zoom: externalZoom = 1.0,\n  onExport,\n  onBack,\n}: EnhancedHTMLEditorProps) {\n  // ============================================================================\n  // State Management\n  // ============================================================================\n\n  // Internal editor settings (independent from external settings)\n  const [editorSettings, setEditorSettings] = useState<EditorSettings>(() => {\n    // If external settings provided, convert them to EditorSettings format\n    if (externalSettings) {\n      return {\n        page: {\n          size: 'a4',\n          orientation: externalSettings.page.orientation,\n          width: externalSettings.page.orientation === 'landscape' ? 1980 : 1400,\n          height: externalSettings.page.orientation === 'landscape' ? 1400 : 1980,\n          margins: externalSettings.page.margins,\n        },\n        colors: {\n          eventTitleText: externalSettings.colors.eventTitleText,\n          headerBg: externalSettings.colors.headerBg,\n          headerText: externalSettings.colors.headerText,\n          rowBg: externalSettings.colors.secondary,\n          rowText: externalSettings.colors.text,\n          borderColor: externalSettings.colors.border,\n        },\n        fonts: {\n          family: externalSettings.fonts.family,\n          sizes: {\n            eventTitle: externalSettings.fonts.sizes.eventTitle,\n            tableTitle: externalSettings.fonts.sizes.tableTitle,\n            tableHeader: externalSettings.fonts.sizes.header,\n            tableCell: externalSettings.fonts.sizes.content,\n          },\n          weights: {\n            eventTitle: externalSettings.fonts.weights.eventTitle,\n            tableTitle: externalSettings.fonts.weights.tableTitle,\n            tableHeader: externalSettings.fonts.weights.header,\n            tableCell: externalSettings.fonts.weights.content,\n          },\n        },\n      };\n    }\n    // Otherwise use default settings\n    return DEFAULT_EDITOR_SETTINGS;\n  });\n\n  // Phase 7: Pages state\n  const [pages, setPages] = useState<Page[]>([\n    { id: 'page-1', name: 'ØµÙØ­Ø© 1', order: 0 }\n  ]);\n  const [currentPageId, setCurrentPageId] = useState<string>('page-1');\n\n  const [elements, setElements] = useState<EditorElement[]>([]);\n  // Phase 4: Multi-selection support - changed from single ID to array of IDs\n  const [selectedElementIds, setSelectedElementIds] = useState<string[]>([]);\n\n  // Responsive zoom: 25% on mobile, 40% on desktop\n  const getInitialZoom = () => {\n    if (typeof window !== 'undefined') {\n      return window.innerWidth < 1024 ? 0.25 : 0.4;\n    }\n    return 0.4;\n  };\n  const [zoom, setZoom] = useState(getInitialZoom);\n\n  const [gridEnabled, setGridEnabled] = useState(true);\n  const [snapEnabled, setSnapEnabled] = useState(true);\n  const [showLayers, setShowLayers] = useState(true);\n\n  // Mobile responsive states\n  const [mobileLayersOpen, setMobileLayersOpen] = useState(false);\n  const [mobilePagesOpen, setMobilePagesOpen] = useState(false);\n  const [editingCellId, setEditingCellId] = useState<string | null>(null);\n  const [isExporting, setIsExporting] = useState(false);\n  const [showBackgroundPanel, setShowBackgroundPanel] = useState(false);\n  const [showTransformPanel, setShowTransformPanel] = useState(false);\n\n  // Track resizing state for all elements\n  const [resizingElements, setResizingElements] = useState<Record<string, {\n    width: number;\n    height: number;\n    originalFontSize?: number;\n    originalWidth?: number;\n  }>>({});\n\n  // Phase 4: Clipboard for copy/paste\n  const [clipboard, setClipboard] = useState<EditorElement[]>([]);\n\n  // Track which text element is being edited\n  const [editingTextElementId, setEditingTextElementId] = useState<string | null>(null);\n\n  // Alignment guides state (Phase 2)\n  const [alignmentGuides, setAlignmentGuides] = useState<{\n    vertical: number[];   // X positions for vertical lines\n    horizontal: number[]; // Y positions for horizontal lines\n  }>({ vertical: [], horizontal: [] });\n  const [isDragging, setIsDragging] = useState(false);\n  const [alignmentType, setAlignmentType] = useState<string>(''); // Type of alignment (center, margin, element)\n\n  // History for undo/redo\n  const [history, setHistory] = useState<HistoryState[]>([]);\n  const [historyIndex, setHistoryIndex] = useState(-1);\n\n  // Refs\n  const canvasRef = useRef<HTMLDivElement>(null);\n  \n  // ============================================================================\n  // Constants\n  // ============================================================================\n  \n  const GRID_SIZE = 20;\n  const SNAP_THRESHOLD = 10;\n  \n  // Page dimensions from editor settings\n  const pageWidth = editorSettings.page.width;\n  const pageHeight = editorSettings.page.height;\n\n  // Convert margins from mm to pixels\n  const mmToPx = 3.7795;\n  const margins = useMemo(() => ({\n    top: editorSettings.page.margins.top * mmToPx,\n    right: editorSettings.page.margins.right * mmToPx,\n    bottom: editorSettings.page.margins.bottom * mmToPx,\n    left: editorSettings.page.margins.left * mmToPx,\n  }), [editorSettings.page.margins]);\n\n  // ============================================================================\n  // History Management (Moved before useEffect)\n  // ============================================================================\n\n  const saveToHistory = useCallback((newElements: EditorElement[]) => {\n    const newHistory = history.slice(0, historyIndex + 1);\n    newHistory.push({\n      elements: JSON.parse(JSON.stringify(newElements)),\n      timestamp: Date.now(),\n    });\n\n    // Limit history to 50 states\n    if (newHistory.length > 50) {\n      newHistory.shift();\n    }\n\n    setHistory(newHistory);\n    setHistoryIndex(newHistory.length - 1);\n  }, [history, historyIndex]);\n\n  // ============================================================================\n  // Initialize Elements from Sample Data (with error handling)\n  // ============================================================================\n\n  useEffect(() => {\n    if (sampleData && elements.length === 0) {\n      try {\n        const initialElements: EditorElement[] = [];\n\n        // Add Event Title as first element (if exists)\n        if (sampleData.eventTitle) {\n          const titleElement: TitleElement = {\n            id: 'event-title',\n            type: 'title',\n            content: sampleData.eventTitle,\n            pageId: 'page-1', // Phase 7: Assign to first page\n            position: {\n              x: margins.left,\n              y: margins.top\n            },\n            size: {\n              width: pageWidth - margins.left - margins.right,\n              height: 260\n            },\n            visible: true,\n            locked: false,\n            zIndex: 1000, // High z-index to keep on top\n            transform: { ...DEFAULT_TRANSFORM },\n            style: {\n              fontSize: editorSettings.fonts.sizes.eventTitle,\n              fontWeight: editorSettings.fonts.weights.eventTitle,\n              color: editorSettings.colors.eventTitleText,\n              textAlign: 'center',\n              background: {\n                type: 'gradient',\n                opacity: 1,\n                gradient: {\n                  type: 'linear',\n                  angle: 135,\n                  startColor: '#1e293b',\n                  endColor: '#334155',\n                },\n                border: {\n                  width: 0,\n                  color: '#e5e7eb',\n                  radius: 12,\n                  style: 'none',\n                },\n                shadow: {\n                  enabled: true,\n                  color: 'rgba(0, 0, 0, 0.1)',\n                  blur: 12,\n                  offsetX: 0,\n                  offsetY: 4,\n                },\n              },\n            },\n          };\n          initialElements.push(titleElement);\n        }\n\n        // Add Tables with separate Table Titles\n        sampleData.tables.forEach((table, index) => {\n          // Validate table data\n          if (!table.title || !table.headers || !Array.isArray(table.rows)) {\n            console.warn(`Invalid table data at index ${index}`, table);\n            return;\n          }\n\n          // Calculate Y position: start after event title (if exists) + spacing\n          const eventTitleHeight = sampleData.eventTitle ? 260 : 0; // Match actual title height\n          const startY = margins.top + eventTitleHeight + 150; // 150px spacing after title for clear separation\n          const tableTitleHeight = 50; // Height for table title\n          const tableSpacing = 50; // Spacing between title and table\n          const tableGroupHeight = 350; // Total height for title + table + spacing\n\n          const tableId = `table-${index}`;\n          const tableTitleId = `table-title-${index}`;\n\n          // Create Table Title Element (separate from table)\n          const tableTitleElement: TableTitleElement = {\n            id: tableTitleId,\n            type: 'table-title',\n            content: table.title,\n            linkedTableId: tableId, // Initially linked to the table\n            pageId: 'page-1', // Phase 7: Assign to first page\n            position: {\n              x: margins.left,\n              y: startY + (index * tableGroupHeight)\n            },\n            size: {\n              width: pageWidth - margins.left - margins.right,\n              height: tableTitleHeight\n            },\n            visible: true,\n            locked: false,\n            zIndex: 100 + (index * 2), // Higher z-index than table\n            transform: { ...DEFAULT_TRANSFORM },\n            style: {\n              fontSize: editorSettings.fonts.sizes.tableTitle,\n              fontWeight: editorSettings.fonts.weights.tableTitle,\n              color: editorSettings.colors.rowText,\n              textAlign: 'right',\n            },\n          };\n\n          // Create Table Element (without title)\n          const tableElement: TableElement = {\n            id: tableId,\n            type: 'table',\n            headers: table.headers,\n            rows: table.rows,\n            pageId: 'page-1', // Phase 7: Assign to first page\n            position: {\n              x: margins.left,\n              y: startY + (index * tableGroupHeight) + tableTitleHeight + tableSpacing\n            },\n            size: {\n              width: pageWidth - margins.left - margins.right,\n              height: 250\n            },\n            visible: true,\n            locked: false,\n            zIndex: 100 + (index * 2) - 1, // Lower z-index than title\n            transform: { ...DEFAULT_TRANSFORM },\n          };\n\n          initialElements.push(tableTitleElement, tableElement);\n        });\n\n        if (initialElements.length > 0) {\n          setElements(initialElements);\n          saveToHistory(initialElements);\n        }\n      } catch (error) {\n        console.error('Failed to initialize elements:', error);\n      }\n    }\n  }, [sampleData, elements.length, margins, pageWidth, saveToHistory]);\n  \n  const undo = useCallback(() => {\n    if (historyIndex > 0) {\n      setHistoryIndex(historyIndex - 1);\n      setElements(JSON.parse(JSON.stringify(history[historyIndex - 1].elements)));\n    }\n  }, [history, historyIndex]);\n  \n  const redo = useCallback(() => {\n    if (historyIndex < history.length - 1) {\n      setHistoryIndex(historyIndex + 1);\n      setElements(JSON.parse(JSON.stringify(history[historyIndex + 1].elements)));\n    }\n  }, [history, historyIndex]);\n  \n  const canUndo = historyIndex > 0;\n  const canRedo = historyIndex < history.length - 1;\n\n  // ============================================================================\n  // Phase 7.2: Clear selection if selected elements are not on current page\n  // ============================================================================\n\n  useEffect(() => {\n    // Filter out any selected elements that are not on the current page\n    const validSelectedIds = selectedElementIds.filter(id => {\n      const element = elements.find(el => el.id === id);\n      return element && element.pageId === currentPageId;\n    });\n\n    // If some elements were filtered out, update the selection\n    if (validSelectedIds.length !== selectedElementIds.length) {\n      setSelectedElementIds(validSelectedIds);\n    }\n  }, [currentPageId, selectedElementIds, elements]);\n\n  // ============================================================================\n  // Phase 4: Keyboard Shortcuts (moved to after all functions are defined)\n  // ============================================================================\n\n  // ============================================================================\n  // Zoom Controls\n  // ============================================================================\n  \n  const handleZoomIn = useCallback(() => {\n    setZoom(prev => Math.min(prev + 0.1, 2.0));\n  }, []);\n  \n  const handleZoomOut = useCallback(() => {\n    setZoom(prev => Math.max(prev - 0.1, 0.1));\n  }, []);\n  \n  const handleZoomFit = useCallback(() => {\n    if (canvasRef.current && canvasRef.current.parentElement) {\n      const container = canvasRef.current.parentElement;\n      const containerWidth = container.clientWidth - 64;\n      const containerHeight = container.clientHeight - 64;\n      \n      const scaleX = containerWidth / pageWidth;\n      const scaleY = containerHeight / pageHeight;\n      \n      const fitZoom = Math.min(scaleX, scaleY, 1.0);\n      setZoom(fitZoom);\n    }\n  }, [pageWidth, pageHeight]);\n  \n  const handleZoomReset = useCallback(() => {\n    // Reset to appropriate zoom based on screen size\n    const isMobile = window.innerWidth < 1024;\n    setZoom(isMobile ? 0.25 : 0.4);\n  }, []);\n  \n  // ============================================================================\n  // Snap to Grid Helper\n  // ============================================================================\n\n  const snapToGrid = useCallback((value: number) => {\n    if (!snapEnabled) return value;\n    return Math.round(value / GRID_SIZE) * GRID_SIZE;\n  }, [snapEnabled]);\n\n  // ============================================================================\n  // Element Manipulation (Optimized with debouncing)\n  // ============================================================================\n\n  const updateElementDebounced = useRef<NodeJS.Timeout | null>(null);\n\n  const updateElement = useCallback((id: string, updates: Partial<Omit<EditorElement, 'type'>>) => {\n    setElements(prev => {\n      const newElements = prev.map(el =>\n        el.id === id ? { ...el, ...updates } : el\n      );\n\n      // Debounce history save to avoid too many history entries during drag\n      if (updateElementDebounced.current) {\n        clearTimeout(updateElementDebounced.current);\n      }\n\n      updateElementDebounced.current = setTimeout(() => {\n        saveToHistory(newElements);\n      }, 300);\n\n      return newElements;\n    });\n  }, [saveToHistory]);\n\n  const deleteElement = useCallback((id: string) => {\n    setElements(prev => {\n      const newElements = prev.filter(el => el.id !== id);\n      saveToHistory(newElements);\n      return newElements;\n    });\n    // Phase 4: Update to handle multi-selection\n    setSelectedElementIds(prev => prev.filter(selectedId => selectedId !== id));\n  }, [saveToHistory]);\n\n  const toggleElementVisibility = useCallback((id: string) => {\n    setElements(prev =>\n      prev.map(el =>\n        el.id === id ? { ...el, visible: !el.visible } : el\n      )\n    );\n  }, []);\n\n  // ============================================================================\n  // Layer Ordering Functions (Z-Index Management)\n  // ============================================================================\n\n  /**\n   * Bring element one layer forward (increase z-index)\n   * Swaps z-index with the element that has the next higher z-index\n   */\n  const bringForward = useCallback((id: string) => {\n    setElements(prev => {\n      const currentElement = prev.find(el => el.id === id);\n      if (!currentElement) return prev;\n\n      // Get elements on the same page, sorted by z-index\n      const pageElements = prev\n        .filter(el => el.pageId === currentElement.pageId)\n        .sort((a, b) => a.zIndex - b.zIndex);\n\n      // Find the element with the next higher z-index\n      const currentIndex = pageElements.findIndex(el => el.id === id);\n      if (currentIndex === pageElements.length - 1) return prev; // Already at top\n\n      const nextElement = pageElements[currentIndex + 1];\n\n      // Swap z-indices\n      const newElements = prev.map(el => {\n        if (el.id === id) {\n          return { ...el, zIndex: nextElement.zIndex };\n        }\n        if (el.id === nextElement.id) {\n          return { ...el, zIndex: currentElement.zIndex };\n        }\n        return el;\n      });\n\n      saveToHistory(newElements);\n      return newElements;\n    });\n  }, [saveToHistory]);\n\n  /**\n   * Send element one layer backward (decrease z-index)\n   * Swaps z-index with the element that has the next lower z-index\n   */\n  const sendBackward = useCallback((id: string) => {\n    setElements(prev => {\n      const currentElement = prev.find(el => el.id === id);\n      if (!currentElement) return prev;\n\n      // Get elements on the same page, sorted by z-index\n      const pageElements = prev\n        .filter(el => el.pageId === currentElement.pageId)\n        .sort((a, b) => a.zIndex - b.zIndex);\n\n      // Find the element with the next lower z-index\n      const currentIndex = pageElements.findIndex(el => el.id === id);\n      if (currentIndex === 0) return prev; // Already at bottom\n\n      const prevElement = pageElements[currentIndex - 1];\n\n      // Swap z-indices\n      const newElements = prev.map(el => {\n        if (el.id === id) {\n          return { ...el, zIndex: prevElement.zIndex };\n        }\n        if (el.id === prevElement.id) {\n          return { ...el, zIndex: currentElement.zIndex };\n        }\n        return el;\n      });\n\n      saveToHistory(newElements);\n      return newElements;\n    });\n  }, [saveToHistory]);\n\n  // ============================================================================\n  // Phase 4: Multi-Selection Functions\n  // ============================================================================\n\n  // Helper: Get the primary selected element (for backward compatibility)\n  const selectedElementId = selectedElementIds.length > 0 ? selectedElementIds[0] : null;\n\n  // Helper: Set single selected element (for backward compatibility)\n  const setSelectedElementId = useCallback((id: string | null) => {\n    if (id === null) {\n      setSelectedElementIds([]);\n    } else {\n      setSelectedElementIds([id]);\n    }\n  }, []);\n\n  const handleElementSelect = useCallback((elementId: string, ctrlKey: boolean = false) => {\n    // Phase 7.2: Only allow selection of elements on current page\n    const element = elements.find(el => el.id === elementId);\n    if (!element || element.pageId !== currentPageId) return;\n\n    if (ctrlKey) {\n      // Multi-selection with Ctrl\n      setSelectedElementIds(prev => {\n        if (prev.includes(elementId)) {\n          // Deselect if already selected\n          return prev.filter(id => id !== elementId);\n        } else {\n          // Add to selection\n          return [...prev, elementId];\n        }\n      });\n    } else {\n      // Single selection (replace current selection)\n      setSelectedElementIds([elementId]);\n    }\n  }, [elements, currentPageId]);\n\n  const clearSelection = useCallback(() => {\n    setSelectedElementIds([]);\n  }, []);\n\n  const selectAll = useCallback(() => {\n    // Phase 7: Select only elements on current page\n    const currentPageElements = elements.filter(el => el.pageId === currentPageId);\n    setSelectedElementIds(currentPageElements.map(el => el.id));\n  }, [elements, currentPageId]);\n\n  // ============================================================================\n  // Phase 7: Page Management Functions\n  // ============================================================================\n\n  const addPage = useCallback(() => {\n    const newPageNumber = pages.length + 1;\n    const newPage: Page = {\n      id: `page-${Date.now()}`,\n      name: `ØµÙØ­Ø© ${newPageNumber}`,\n      order: pages.length,\n    };\n    setPages(prev => [...prev, newPage]);\n    setCurrentPageId(newPage.id); // Switch to new page\n  }, [pages]);\n\n  const deletePage = useCallback((pageId: string) => {\n    // Don't allow deleting the last page\n    if (pages.length === 1) {\n      alert('Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø­Ø°Ù Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø£Ø®ÙŠØ±Ø©');\n      return;\n    }\n\n    // Check if page has elements\n    const pageElements = elements.filter(el => el.pageId === pageId);\n    if (pageElements.length > 0) {\n      const confirmed = confirm(`Ù‡Ø°Ù‡ Ø§Ù„ØµÙØ­Ø© ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ ${pageElements.length} Ø¹Ù†ØµØ±. Ù‡Ù„ ØªØ±ÙŠØ¯ Ø­Ø°ÙÙ‡Ø§ØŸ`);\n      if (!confirmed) return;\n    }\n\n    // Delete page and its elements\n    setPages(prev => prev.filter(p => p.id !== pageId).map((p, index) => ({ ...p, order: index })));\n    setElements(prev => prev.filter(el => el.pageId !== pageId));\n\n    // Switch to first page if current page was deleted\n    if (currentPageId === pageId) {\n      setCurrentPageId(pages[0].id);\n    }\n  }, [pages, elements, currentPageId]);\n\n  const goToPage = useCallback((pageId: string) => {\n    setCurrentPageId(pageId);\n    setSelectedElementIds([]); // Clear selection when switching pages\n  }, []);\n\n  const getCurrentPage = useCallback(() => {\n    return pages.find(p => p.id === currentPageId) || pages[0];\n  }, [pages, currentPageId]);\n\n  const getCurrentPageElements = useCallback(() => {\n    return elements.filter(el => el.pageId === currentPageId);\n  }, [elements, currentPageId]);\n\n  const moveElementsToPage = useCallback((elementIds: string[], targetPageId: string) => {\n    if (elementIds.length === 0) return;\n\n    setElements(prev => {\n      const updated = prev.map(el => {\n        if (elementIds.includes(el.id)) {\n          return { ...el, pageId: targetPageId };\n        }\n        return el;\n      });\n      saveToHistory(updated);\n      return updated;\n    });\n\n    // Clear selection after moving\n    setSelectedElementIds([]);\n  }, [saveToHistory]);\n\n  // ============================================================================\n  // Phase 7: End of Page Management Functions\n  // ============================================================================\n\n  const deleteSelectedElements = useCallback(() => {\n    if (selectedElementIds.length === 0) return;\n\n    setElements(prev => {\n      const newElements = prev.filter(el => !selectedElementIds.includes(el.id));\n      saveToHistory(newElements);\n      return newElements;\n    });\n    setSelectedElementIds([]);\n  }, [selectedElementIds, saveToHistory]);\n\n  // Copy selected elements to clipboard\n  const copySelectedElements = useCallback(() => {\n    if (selectedElementIds.length === 0) return;\n\n    const elementsToCopy = elements.filter(el => selectedElementIds.includes(el.id));\n    setClipboard(JSON.parse(JSON.stringify(elementsToCopy))); // Deep copy\n  }, [selectedElementIds, elements]);\n\n  // Paste elements from clipboard\n  const pasteElements = useCallback(() => {\n    if (clipboard.length === 0) return;\n\n    const newElements = clipboard.map(el => ({\n      ...el,\n      id: `${el.type}-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,\n      pageId: currentPageId, // Phase 7: Paste to current page\n      position: {\n        x: el.position.x + 20, // Offset by 20px\n        y: el.position.y + 20,\n      },\n    }));\n\n    setElements(prev => {\n      const updated = [...prev, ...newElements];\n      saveToHistory(updated);\n      return updated;\n    });\n\n    // Select the newly pasted elements\n    setSelectedElementIds(newElements.map(el => el.id));\n  }, [clipboard, saveToHistory, currentPageId]);\n\n  // ============================================================================\n  // Element Bounds Checking\n  // ============================================================================\n\n  const isElementOutOfBounds = useCallback((element: EditorElement): boolean => {\n    const { position, size } = element;\n\n    // Check if element is outside page bounds\n    const isOutLeft = position.x < 0;\n    const isOutRight = position.x + size.width > pageWidth;\n    const isOutTop = position.y < 0;\n    const isOutBottom = position.y + size.height > pageHeight;\n\n    return isOutLeft || isOutRight || isOutTop || isOutBottom;\n  }, [pageWidth, pageHeight]);\n\n  const isElementOutOfPrintArea = useCallback((element: EditorElement): boolean => {\n    const { position, size } = element;\n\n    // Check if element is outside print margins\n    const isOutLeft = position.x < margins.left;\n    const isOutRight = position.x + size.width > pageWidth - margins.right;\n    const isOutTop = position.y < margins.top;\n    const isOutBottom = position.y + size.height > pageHeight - margins.bottom;\n\n    return isOutLeft || isOutRight || isOutTop || isOutBottom;\n  }, [pageWidth, pageHeight, margins]);\n\n  const fitElementToPage = useCallback((elementId: string) => {\n    const element = elements.find(el => el.id === elementId);\n    if (!element) return;\n\n    let newX = element.position.x;\n    let newY = element.position.y;\n\n    // Constrain to page bounds\n    if (newX < margins.left) newX = margins.left;\n    if (newX + element.size.width > pageWidth - margins.right) {\n      newX = pageWidth - margins.right - element.size.width;\n    }\n    if (newY < margins.top) newY = margins.top;\n    if (newY + element.size.height > pageHeight - margins.bottom) {\n      newY = pageHeight - margins.bottom - element.size.height;\n    }\n\n    updateElement(elementId, {\n      position: { x: newX, y: newY }\n    });\n  }, [elements, pageWidth, pageHeight, margins, updateElement]);\n\n  const fitAllElementsToPage = useCallback(() => {\n    elements.forEach(element => {\n      if (isElementOutOfBounds(element) || isElementOutOfPrintArea(element)) {\n        fitElementToPage(element.id);\n      }\n    });\n  }, [elements, isElementOutOfBounds, isElementOutOfPrintArea, fitElementToPage]);\n\n  // ============================================================================\n  // Phase 5: Alignment Functions\n  // ============================================================================\n\n  // Align selected elements to the left\n  const alignLeft = useCallback(() => {\n    if (selectedElementIds.length < 2) return;\n\n    const selectedElements = elements.filter(el => selectedElementIds.includes(el.id));\n    const leftMost = Math.min(...selectedElements.map(el => el.position.x));\n\n    setElements(prev => {\n      const updated = prev.map(el => {\n        if (selectedElementIds.includes(el.id)) {\n          return { ...el, position: { ...el.position, x: leftMost } };\n        }\n        return el;\n      });\n      saveToHistory(updated);\n      return updated;\n    });\n  }, [selectedElementIds, elements, saveToHistory]);\n\n  // Align selected elements to the center horizontally\n  const alignCenterHorizontal = useCallback(() => {\n    if (selectedElementIds.length < 2) return;\n\n    const selectedElements = elements.filter(el => selectedElementIds.includes(el.id));\n    const leftMost = Math.min(...selectedElements.map(el => el.position.x));\n    const rightMost = Math.max(...selectedElements.map(el => el.position.x + el.size.width));\n    const centerX = (leftMost + rightMost) / 2;\n\n    setElements(prev => {\n      const updated = prev.map(el => {\n        if (selectedElementIds.includes(el.id)) {\n          return { ...el, position: { ...el.position, x: centerX - el.size.width / 2 } };\n        }\n        return el;\n      });\n      saveToHistory(updated);\n      return updated;\n    });\n  }, [selectedElementIds, elements, saveToHistory]);\n\n  // Align selected elements to the right\n  const alignRight = useCallback(() => {\n    if (selectedElementIds.length < 2) return;\n\n    const selectedElements = elements.filter(el => selectedElementIds.includes(el.id));\n    const rightMost = Math.max(...selectedElements.map(el => el.position.x + el.size.width));\n\n    setElements(prev => {\n      const updated = prev.map(el => {\n        if (selectedElementIds.includes(el.id)) {\n          return { ...el, position: { ...el.position, x: rightMost - el.size.width } };\n        }\n        return el;\n      });\n      saveToHistory(updated);\n      return updated;\n    });\n  }, [selectedElementIds, elements, saveToHistory]);\n\n  // Align selected elements to the top\n  const alignTop = useCallback(() => {\n    if (selectedElementIds.length < 2) return;\n\n    const selectedElements = elements.filter(el => selectedElementIds.includes(el.id));\n    const topMost = Math.min(...selectedElements.map(el => el.position.y));\n\n    setElements(prev => {\n      const updated = prev.map(el => {\n        if (selectedElementIds.includes(el.id)) {\n          return { ...el, position: { ...el.position, y: topMost } };\n        }\n        return el;\n      });\n      saveToHistory(updated);\n      return updated;\n    });\n  }, [selectedElementIds, elements, saveToHistory]);\n\n  // Align selected elements to the middle vertically\n  const alignMiddleVertical = useCallback(() => {\n    if (selectedElementIds.length < 2) return;\n\n    const selectedElements = elements.filter(el => selectedElementIds.includes(el.id));\n    const topMost = Math.min(...selectedElements.map(el => el.position.y));\n    const bottomMost = Math.max(...selectedElements.map(el => el.position.y + el.size.height));\n    const centerY = (topMost + bottomMost) / 2;\n\n    setElements(prev => {\n      const updated = prev.map(el => {\n        if (selectedElementIds.includes(el.id)) {\n          return { ...el, position: { ...el.position, y: centerY - el.size.height / 2 } };\n        }\n        return el;\n      });\n      saveToHistory(updated);\n      return updated;\n    });\n  }, [selectedElementIds, elements, saveToHistory]);\n\n  // Align selected elements to the bottom\n  const alignBottom = useCallback(() => {\n    if (selectedElementIds.length < 2) return;\n\n    const selectedElements = elements.filter(el => selectedElementIds.includes(el.id));\n    const bottomMost = Math.max(...selectedElements.map(el => el.position.y + el.size.height));\n\n    setElements(prev => {\n      const updated = prev.map(el => {\n        if (selectedElementIds.includes(el.id)) {\n          return { ...el, position: { ...el.position, y: bottomMost - el.size.height } };\n        }\n        return el;\n      });\n      saveToHistory(updated);\n      return updated;\n    });\n  }, [selectedElementIds, elements, saveToHistory]);\n\n  // Distribute selected elements horizontally with equal spacing\n  const distributeHorizontal = useCallback(() => {\n    if (selectedElementIds.length < 3) return;\n\n    const selectedElements = elements.filter(el => selectedElementIds.includes(el.id));\n    // Sort by x position\n    const sorted = [...selectedElements].sort((a, b) => a.position.x - b.position.x);\n\n    const leftMost = sorted[0].position.x;\n    const rightMost = sorted[sorted.length - 1].position.x + sorted[sorted.length - 1].size.width;\n    const totalWidth = sorted.reduce((sum, el) => sum + el.size.width, 0);\n    const spacing = (rightMost - leftMost - totalWidth) / (sorted.length - 1);\n\n    let currentX = leftMost;\n    const updates: { [key: string]: { x: number } } = {};\n\n    sorted.forEach(el => {\n      updates[el.id] = { x: currentX };\n      currentX += el.size.width + spacing;\n    });\n\n    setElements(prev => {\n      const updated = prev.map(el => {\n        if (updates[el.id]) {\n          return { ...el, position: { ...el.position, x: updates[el.id].x } };\n        }\n        return el;\n      });\n      saveToHistory(updated);\n      return updated;\n    });\n  }, [selectedElementIds, elements, saveToHistory]);\n\n  // Distribute selected elements vertically with equal spacing\n  const distributeVertical = useCallback(() => {\n    if (selectedElementIds.length < 3) return;\n\n    const selectedElements = elements.filter(el => selectedElementIds.includes(el.id));\n    // Sort by y position\n    const sorted = [...selectedElements].sort((a, b) => a.position.y - b.position.y);\n\n    const topMost = sorted[0].position.y;\n    const bottomMost = sorted[sorted.length - 1].position.y + sorted[sorted.length - 1].size.height;\n    const totalHeight = sorted.reduce((sum, el) => sum + el.size.height, 0);\n    const spacing = (bottomMost - topMost - totalHeight) / (sorted.length - 1);\n\n    let currentY = topMost;\n    const updates: { [key: string]: { y: number } } = {};\n\n    sorted.forEach(el => {\n      updates[el.id] = { y: currentY };\n      currentY += el.size.height + spacing;\n    });\n\n    setElements(prev => {\n      const updated = prev.map(el => {\n        if (updates[el.id]) {\n          return { ...el, position: { ...el.position, y: updates[el.id].y } };\n        }\n        return el;\n      });\n      saveToHistory(updated);\n      return updated;\n    });\n  }, [selectedElementIds, elements, saveToHistory]);\n\n  // ============================================================================\n  // Phase 6: Grouping Functions\n  // ============================================================================\n\n  // Create a group from selected elements\n  const createGroup = useCallback(() => {\n    if (selectedElementIds.length < 2) return;\n\n    const selectedElements = elements.filter(el => selectedElementIds.includes(el.id));\n\n    // Phase 7.2: Verify all elements are on the same page\n    const pageIds = new Set(selectedElements.map(el => el.pageId));\n    if (pageIds.size > 1) {\n      alert('Ù„Ø§ ÙŠÙ…ÙƒÙ† ØªØ¬Ù…ÙŠØ¹ Ø¹Ù†Ø§ØµØ± Ù…Ù† ØµÙØ­Ø§Øª Ù…Ø®ØªÙ„ÙØ©');\n      return;\n    }\n\n    // Calculate bounding box for the group\n    const minX = Math.min(...selectedElements.map(el => el.position.x));\n    const minY = Math.min(...selectedElements.map(el => el.position.y));\n    const maxX = Math.max(...selectedElements.map(el => el.position.x + el.size.width));\n    const maxY = Math.max(...selectedElements.map(el => el.position.y + el.size.height));\n\n    const groupId = `group-${Date.now()}`;\n    const newGroup: GroupElement = {\n      id: groupId,\n      type: 'group',\n      name: `Ù…Ø¬Ù…ÙˆØ¹Ø© ${Date.now()}`,\n      elementIds: selectedElementIds,\n      pageId: currentPageId, // Phase 7: Assign to current page\n      position: { x: minX, y: minY },\n      size: { width: maxX - minX, height: maxY - minY },\n      visible: true,\n      locked: false,\n      zIndex: Math.max(...selectedElements.map(el => el.zIndex)) + 1,\n      transform: DEFAULT_TRANSFORM,\n    };\n\n    setElements(prev => {\n      const updated = [...prev, newGroup];\n      saveToHistory(updated);\n      return updated;\n    });\n\n    // Select the new group\n    setSelectedElementIds([groupId]);\n  }, [selectedElementIds, elements, saveToHistory, currentPageId]);\n\n  // Ungroup a group element\n  const ungroupGroup = useCallback((groupId: string) => {\n    const group = elements.find(el => el.id === groupId && el.type === 'group') as GroupElement | undefined;\n    if (!group) return;\n\n    // Remove the group and select its child elements\n    setElements(prev => {\n      const updated = prev.filter(el => el.id !== groupId);\n      saveToHistory(updated);\n      return updated;\n    });\n\n    // Select the elements that were in the group\n    setSelectedElementIds(group.elementIds);\n  }, [elements, saveToHistory]);\n\n  // Check if an element is part of a group\n  const getElementGroup = useCallback((elementId: string): GroupElement | null => {\n    const group = elements.find(el =>\n      el.type === 'group' && (el as GroupElement).elementIds.includes(elementId)\n    ) as GroupElement | undefined;\n    return group || null;\n  }, [elements]);\n\n  // ============================================================================\n  // Table Title Link/Unlink\n  // ============================================================================\n\n  const handleToggleTableTitleLink = useCallback((titleId: string, currentLinkedTableId: string | null) => {\n    setElements(prev => {\n      return prev.map(el => {\n        if (el.id === titleId && el.type === 'table-title') {\n          const titleElement = el as TableTitleElement;\n          // Toggle link: if linked, unlink; if unlinked, try to find nearest table\n          if (currentLinkedTableId) {\n            // Unlink\n            return { ...titleElement, linkedTableId: null };\n          } else {\n            // Link to nearest table\n            const tables = prev.filter(e => e.type === 'table') as TableElement[];\n\n            if (tables.length === 0) return el;\n\n            // Find nearest table by distance\n            let nearestTable: TableElement = tables[0];\n            let minDistance = Infinity;\n\n            tables.forEach((table: TableElement) => {\n              const distance = Math.sqrt(\n                Math.pow(table.position.x - titleElement.position.x, 2) +\n                Math.pow(table.position.y - titleElement.position.y, 2)\n              );\n              if (distance < minDistance) {\n                minDistance = distance;\n                nearestTable = table;\n              }\n            });\n\n            return { ...titleElement, linkedTableId: nearestTable.id };\n          }\n        }\n        return el;\n      });\n    });\n  }, []);\n\n  // ============================================================================\n  // Alignment Guides (Phase 2)\n  // ============================================================================\n\n  const SNAP_DISTANCE = 5; // Distance in pixels to snap to guides\n\n  const calculateAlignmentGuides = useCallback((\n    draggedElement: EditorElement,\n    currentX: number,\n    currentY: number\n  ) => {\n    const guides: { vertical: number[]; horizontal: number[] } = {\n      vertical: [],\n      horizontal: [],\n    };\n\n    // Calculate dragged element bounds\n    const draggedLeft = currentX;\n    const draggedRight = currentX + draggedElement.size.width;\n    const draggedTop = currentY;\n    const draggedBottom = currentY + draggedElement.size.height;\n    const draggedCenterX = currentX + draggedElement.size.width / 2;\n    const draggedCenterY = currentY + draggedElement.size.height / 2;\n\n    // Page center and edges\n    const pageCenterX = pageWidth / 2;\n    const pageCenterY = pageHeight / 2;\n\n    // Check alignment with page center\n    if (Math.abs(draggedCenterX - pageCenterX) < SNAP_DISTANCE) {\n      guides.vertical.push(pageCenterX);\n    }\n    if (Math.abs(draggedCenterY - pageCenterY) < SNAP_DISTANCE) {\n      guides.horizontal.push(pageCenterY);\n    }\n\n    // Check alignment with page edges and margins\n    if (Math.abs(draggedLeft - margins.left) < SNAP_DISTANCE) {\n      guides.vertical.push(margins.left);\n    }\n    if (Math.abs(draggedRight - (pageWidth - margins.right)) < SNAP_DISTANCE) {\n      guides.vertical.push(pageWidth - margins.right);\n    }\n    if (Math.abs(draggedTop - margins.top) < SNAP_DISTANCE) {\n      guides.horizontal.push(margins.top);\n    }\n    if (Math.abs(draggedBottom - (pageHeight - margins.bottom)) < SNAP_DISTANCE) {\n      guides.horizontal.push(pageHeight - margins.bottom);\n    }\n\n    // Check alignment with other elements\n    elements.forEach(element => {\n      if (element.id === draggedElement.id || !element.visible) return;\n\n      const elLeft = element.position.x;\n      const elRight = element.position.x + element.size.width;\n      const elTop = element.position.y;\n      const elBottom = element.position.y + element.size.height;\n      const elCenterX = element.position.x + element.size.width / 2;\n      const elCenterY = element.position.y + element.size.height / 2;\n\n      // Vertical alignment (left, center, right)\n      if (Math.abs(draggedLeft - elLeft) < SNAP_DISTANCE) {\n        guides.vertical.push(elLeft);\n      }\n      if (Math.abs(draggedRight - elRight) < SNAP_DISTANCE) {\n        guides.vertical.push(elRight);\n      }\n      if (Math.abs(draggedCenterX - elCenterX) < SNAP_DISTANCE) {\n        guides.vertical.push(elCenterX);\n      }\n\n      // Horizontal alignment (top, center, bottom)\n      if (Math.abs(draggedTop - elTop) < SNAP_DISTANCE) {\n        guides.horizontal.push(elTop);\n      }\n      if (Math.abs(draggedBottom - elBottom) < SNAP_DISTANCE) {\n        guides.horizontal.push(elBottom);\n      }\n      if (Math.abs(draggedCenterY - elCenterY) < SNAP_DISTANCE) {\n        guides.horizontal.push(elCenterY);\n      }\n    });\n\n    return guides;\n  }, [elements, pageWidth, pageHeight, margins]);\n\n  // ============================================================================\n  // Drag & Drop Handlers\n  // ============================================================================\n\n  const handleDrag = useCallback((\n    elementId: string,\n    e: DraggableEvent,\n    data: DraggableData\n  ) => {\n    setIsDragging(true);\n\n    const element = elements.find(el => el.id === elementId);\n    if (!element) return;\n\n    // Auto-scroll when dragging near edges\n    if (canvasRef.current) {\n      const scrollContainer = canvasRef.current.parentElement;\n      if (scrollContainer) {\n        const rect = scrollContainer.getBoundingClientRect();\n        const mouseY = (e as MouseEvent).clientY;\n        const mouseX = (e as MouseEvent).clientX;\n\n        const SCROLL_THRESHOLD = 50; // pixels from edge to trigger scroll\n        const SCROLL_SPEED = 10; // pixels to scroll per frame\n\n        // Scroll down when near bottom\n        if (mouseY > rect.bottom - SCROLL_THRESHOLD) {\n          scrollContainer.scrollTop += SCROLL_SPEED;\n        }\n        // Scroll up when near top\n        else if (mouseY < rect.top + SCROLL_THRESHOLD) {\n          scrollContainer.scrollTop -= SCROLL_SPEED;\n        }\n\n        // Scroll right when near right edge\n        if (mouseX > rect.right - SCROLL_THRESHOLD) {\n          scrollContainer.scrollLeft += SCROLL_SPEED;\n        }\n        // Scroll left when near left edge\n        else if (mouseX < rect.left + SCROLL_THRESHOLD) {\n          scrollContainer.scrollLeft -= SCROLL_SPEED;\n        }\n      }\n    }\n\n    let snappedX = data.x;\n    let snappedY = data.y;\n\n    // Calculate dragged element bounds\n    const draggedLeft = data.x;\n    const draggedRight = data.x + element.size.width;\n    const draggedTop = data.y;\n    const draggedBottom = data.y + element.size.height;\n    const draggedCenterX = data.x + element.size.width / 2;\n    const draggedCenterY = data.y + element.size.height / 2;\n\n    // Page center\n    const pageCenterX = pageWidth / 2;\n    const pageCenterY = pageHeight / 2;\n\n    const guides: { vertical: number[]; horizontal: number[] } = {\n      vertical: [],\n      horizontal: [],\n    };\n\n    let alignType = '';\n\n    // Snap to page center\n    if (Math.abs(draggedCenterX - pageCenterX) < SNAP_DISTANCE) {\n      snappedX = pageCenterX - element.size.width / 2;\n      guides.vertical.push(pageCenterX);\n      alignType = 'Ù…Ø±ÙƒØ² Ø§Ù„ØµÙØ­Ø©';\n    }\n    if (Math.abs(draggedCenterY - pageCenterY) < SNAP_DISTANCE) {\n      snappedY = pageCenterY - element.size.height / 2;\n      guides.horizontal.push(pageCenterY);\n      alignType = alignType ? alignType + ' + Ù…Ø±ÙƒØ² Ø§Ù„ØµÙØ­Ø©' : 'Ù…Ø±ÙƒØ² Ø§Ù„ØµÙØ­Ø©';\n    }\n\n    // Snap to page edges and margins\n    if (Math.abs(draggedLeft - margins.left) < SNAP_DISTANCE) {\n      snappedX = margins.left;\n      guides.vertical.push(margins.left);\n      alignType = alignType || 'Ù‡Ø§Ù…Ø´ Ø§Ù„ØµÙØ­Ø©';\n    }\n    if (Math.abs(draggedRight - (pageWidth - margins.right)) < SNAP_DISTANCE) {\n      snappedX = pageWidth - margins.right - element.size.width;\n      guides.vertical.push(pageWidth - margins.right);\n      alignType = alignType || 'Ù‡Ø§Ù…Ø´ Ø§Ù„ØµÙØ­Ø©';\n    }\n    if (Math.abs(draggedTop - margins.top) < SNAP_DISTANCE) {\n      snappedY = margins.top;\n      guides.horizontal.push(margins.top);\n      alignType = alignType || 'Ù‡Ø§Ù…Ø´ Ø§Ù„ØµÙØ­Ø©';\n    }\n    if (Math.abs(draggedBottom - (pageHeight - margins.bottom)) < SNAP_DISTANCE) {\n      snappedY = pageHeight - margins.bottom - element.size.height;\n      guides.horizontal.push(pageHeight - margins.bottom);\n      alignType = alignType || 'Ù‡Ø§Ù…Ø´ Ø§Ù„ØµÙØ­Ø©';\n    }\n\n    // Snap to other elements\n    elements.forEach(el => {\n      if (el.id === elementId || !el.visible) return;\n\n      const elLeft = el.position.x;\n      const elRight = el.position.x + el.size.width;\n      const elTop = el.position.y;\n      const elBottom = el.position.y + el.size.height;\n      const elCenterX = el.position.x + el.size.width / 2;\n      const elCenterY = el.position.y + el.size.height / 2;\n\n      // Vertical snapping\n      if (Math.abs(draggedLeft - elLeft) < SNAP_DISTANCE) {\n        snappedX = elLeft;\n        guides.vertical.push(elLeft);\n        alignType = alignType || 'Ù…Ø­Ø§Ø°Ø§Ø© Ù…Ø¹ Ø¹Ù†ØµØ±';\n      } else if (Math.abs(draggedRight - elRight) < SNAP_DISTANCE) {\n        snappedX = elRight - element.size.width;\n        guides.vertical.push(elRight);\n        alignType = alignType || 'Ù…Ø­Ø§Ø°Ø§Ø© Ù…Ø¹ Ø¹Ù†ØµØ±';\n      } else if (Math.abs(draggedCenterX - elCenterX) < SNAP_DISTANCE) {\n        snappedX = elCenterX - element.size.width / 2;\n        guides.vertical.push(elCenterX);\n        alignType = alignType || 'Ù…Ø­Ø§Ø°Ø§Ø© Ù…Ø¹ Ø¹Ù†ØµØ±';\n      }\n\n      // Horizontal snapping\n      if (Math.abs(draggedTop - elTop) < SNAP_DISTANCE) {\n        snappedY = elTop;\n        guides.horizontal.push(elTop);\n        alignType = alignType || 'Ù…Ø­Ø§Ø°Ø§Ø© Ù…Ø¹ Ø¹Ù†ØµØ±';\n      } else if (Math.abs(draggedBottom - elBottom) < SNAP_DISTANCE) {\n        snappedY = elBottom - element.size.height;\n        guides.horizontal.push(elBottom);\n        alignType = alignType || 'Ù…Ø­Ø§Ø°Ø§Ø© Ù…Ø¹ Ø¹Ù†ØµØ±';\n      } else if (Math.abs(draggedCenterY - elCenterY) < SNAP_DISTANCE) {\n        snappedY = elCenterY - element.size.height / 2;\n        guides.horizontal.push(elCenterY);\n        alignType = alignType || 'Ù…Ø­Ø§Ø°Ø§Ø© Ù…Ø¹ Ø¹Ù†ØµØ±';\n      }\n    });\n\n    setAlignmentGuides(guides);\n    setAlignmentType(alignType);\n\n    // DON'T update element position during drag\n    // Let Draggable handle the position internally\n    // Position will be updated only in handleDragStop\n  }, [elements, pageWidth, pageHeight, margins]);\n\n  const handleDragStop = useCallback((\n    elementId: string,\n    e: DraggableEvent,\n    data: DraggableData\n  ) => {\n    setIsDragging(false);\n    setAlignmentGuides({ vertical: [], horizontal: [] });\n    setAlignmentType('');\n\n    const element = elements.find(el => el.id === elementId);\n    if (!element) return;\n\n    // Phase 6: Multi-Element Drag\n    // If multiple elements are selected and this element is one of them, move all selected elements\n    const isMultiDrag = selectedElementIds.length > 1 && selectedElementIds.includes(elementId);\n\n    if (isMultiDrag) {\n      // Calculate the delta (how much the dragged element moved)\n      const deltaX = data.x - element.position.x;\n      const deltaY = data.y - element.position.y;\n\n      // Move all selected elements by the same delta\n      setElements(prev => {\n        const updated = prev.map(el => {\n          if (selectedElementIds.includes(el.id)) {\n            return {\n              ...el,\n              position: {\n                x: el.position.x + deltaX,\n                y: el.position.y + deltaY,\n              }\n            };\n          }\n          return el;\n        });\n        saveToHistory(updated);\n        return updated;\n      });\n      return; // Exit early, no need for snapping in multi-drag\n    }\n\n    // Single element drag (original behavior with snapping)\n    let finalX = data.x;\n    let finalY = data.y;\n\n    // Apply alignment snapping first (higher priority)\n    const SNAP_DISTANCE = 5;\n\n    // Calculate dragged element bounds\n    const draggedLeft = data.x;\n    const draggedRight = data.x + element.size.width;\n    const draggedTop = data.y;\n    const draggedBottom = data.y + element.size.height;\n    const draggedCenterX = data.x + element.size.width / 2;\n    const draggedCenterY = data.y + element.size.height / 2;\n\n    // Page center\n    const pageCenterX = pageWidth / 2;\n    const pageCenterY = pageHeight / 2;\n\n    // Snap to page center\n    if (Math.abs(draggedCenterX - pageCenterX) < SNAP_DISTANCE) {\n      finalX = pageCenterX - element.size.width / 2;\n    }\n    if (Math.abs(draggedCenterY - pageCenterY) < SNAP_DISTANCE) {\n      finalY = pageCenterY - element.size.height / 2;\n    }\n\n    // Snap to page edges and margins\n    if (Math.abs(draggedLeft - margins.left) < SNAP_DISTANCE) {\n      finalX = margins.left;\n    }\n    if (Math.abs(draggedRight - (pageWidth - margins.right)) < SNAP_DISTANCE) {\n      finalX = pageWidth - margins.right - element.size.width;\n    }\n    if (Math.abs(draggedTop - margins.top) < SNAP_DISTANCE) {\n      finalY = margins.top;\n    }\n    if (Math.abs(draggedBottom - (pageHeight - margins.bottom)) < SNAP_DISTANCE) {\n      finalY = pageHeight - margins.bottom - element.size.height;\n    }\n\n    // Snap to other elements\n    elements.forEach(el => {\n      if (el.id === elementId || !el.visible) return;\n\n      const elLeft = el.position.x;\n      const elRight = el.position.x + el.size.width;\n      const elTop = el.position.y;\n      const elBottom = el.position.y + el.size.height;\n      const elCenterX = el.position.x + el.size.width / 2;\n      const elCenterY = el.position.y + el.size.height / 2;\n\n      // Vertical snapping\n      if (Math.abs(draggedLeft - elLeft) < SNAP_DISTANCE) {\n        finalX = elLeft;\n      } else if (Math.abs(draggedRight - elRight) < SNAP_DISTANCE) {\n        finalX = elRight - element.size.width;\n      } else if (Math.abs(draggedCenterX - elCenterX) < SNAP_DISTANCE) {\n        finalX = elCenterX - element.size.width / 2;\n      }\n\n      // Horizontal snapping\n      if (Math.abs(draggedTop - elTop) < SNAP_DISTANCE) {\n        finalY = elTop;\n      } else if (Math.abs(draggedBottom - elBottom) < SNAP_DISTANCE) {\n        finalY = elBottom - element.size.height;\n      } else if (Math.abs(draggedCenterY - elCenterY) < SNAP_DISTANCE) {\n        finalY = elCenterY - element.size.height / 2;\n      }\n    });\n\n    // Apply grid snapping if no alignment snapping occurred\n    if (finalX === data.x) {\n      finalX = snapToGrid(data.x);\n    }\n    if (finalY === data.y) {\n      finalY = snapToGrid(data.y);\n    }\n\n    updateElement(elementId, {\n      position: { x: finalX, y: finalY }\n    });\n  }, [elements, selectedElementIds, pageWidth, pageHeight, margins, snapToGrid, updateElement, saveToHistory]);\n\n  const handleResize = useCallback((\n    elementId: string,\n    e: React.SyntheticEvent,\n    data: ResizeCallbackData\n  ) => {\n    // Apply grid snapping for smoother, faster resize (10px increments)\n    const snappedWidth = Math.round(data.size.width / 10) * 10;\n    const snappedHeight = Math.round(data.size.height / 10) * 10;\n\n    // Update resizing state for real-time visual feedback\n    setResizingElements(prev => ({\n      ...prev,\n      [elementId]: { width: snappedWidth, height: snappedHeight }\n    }));\n  }, []);\n\n  const handleResizeStop = useCallback((\n    elementId: string,\n    e: React.SyntheticEvent,\n    data: ResizeCallbackData\n  ) => {\n    // Apply grid snapping to final size (10px increments)\n    const snappedWidth = Math.round(data.size.width / 10) * 10;\n    const snappedHeight = Math.round(data.size.height / 10) * 10;\n\n    // Clear resizing state\n    setResizingElements(prev => {\n      const newState = { ...prev };\n      delete newState[elementId];\n      return newState;\n    });\n\n    // Update element size with snapped values\n    const updatedElements = elements.map(el =>\n      el.id === elementId\n        ? { ...el, size: { width: snappedWidth, height: snappedHeight } }\n        : el\n    );\n\n    setElements(updatedElements);\n\n    // Save to history for undo/redo\n    saveToHistory(updatedElements);\n  }, [elements, saveToHistory]);\n\n  // ============================================================================\n  // Export to PDF\n  // ============================================================================\n\n  const handleExport = useCallback(async () => {\n    if (!canvasRef.current) return;\n\n    setIsExporting(true);\n\n    try {\n      // Step 1: Deselect all elements to hide UI controls\n      const originalSelectedId = selectedElementId;\n      setSelectedElementId(null);\n\n      // Step 2: Temporarily disable grid\n      const originalGridEnabled = gridEnabled;\n      setGridEnabled(false);\n\n      // Step 3: Temporarily set zoom to 1 for export\n      const originalZoom = zoom;\n      setZoom(1);\n\n      // Step 4: Store current page\n      const originalPageId = currentPageId;\n\n      // Step 5: Wait for re-render (longer wait to ensure all changes applied)\n      await new Promise(resolve => setTimeout(resolve, 300));\n\n      // Step 6: Create PDF\n      const pdf = new jsPDF({\n        orientation: editorSettings.page.orientation === 'landscape' ? 'landscape' : 'portrait',\n        unit: 'mm',\n        format: 'a4',\n      });\n\n      const pdfWidth = pdf.internal.pageSize.getWidth();\n      const pdfHeight = pdf.internal.pageSize.getHeight();\n\n      // Step 7: Sort pages by order\n      const sortedPages = [...pages].sort((a, b) => a.order - b.order);\n\n      // Step 8: Loop through all pages and capture each one\n      for (let i = 0; i < sortedPages.length; i++) {\n        const page = sortedPages[i];\n\n        // Switch to this page\n        setCurrentPageId(page.id);\n\n        // Wait for page to render and fonts to load\n        await new Promise(resolve => setTimeout(resolve, 500));\n\n        // Ensure fonts are fully loaded before capture\n        if (document.fonts) {\n          await document.fonts.ready;\n        }\n\n        // Capture this page as image with enhanced quality\n        const canvas = await html2canvas(canvasRef.current, {\n          scale: 2, // Reduced to 2 for optimal Arabic text rendering without clipping\n          useCORS: true,\n          allowTaint: true,\n          backgroundColor: '#ffffff',\n          logging: false,\n          imageTimeout: 0, // No timeout for images\n          removeContainer: true, // Clean up after rendering\n          scrollY: -window.scrollY,\n          scrollX: -window.scrollX,\n          windowWidth: canvasRef.current.scrollWidth,\n          windowHeight: canvasRef.current.scrollHeight,\n          foreignObjectRendering: false, // Disable for better text rendering\n          ignoreElements: (element) => {\n            // Ignore rotation handles, resize handles, and other UI elements\n            return element.classList.contains('rotation-handle') ||\n                   element.classList.contains('react-resizable-handle') ||\n                   element.classList.contains('selection-ring') ||\n                   element.classList.contains('resize-tooltip');\n          },\n          onclone: (clonedDoc) => {\n            // Apply enhanced rendering to all elements in the cloned document\n            const allElements = clonedDoc.querySelectorAll('*');\n            allElements.forEach((el: Element) => {\n              if (el instanceof HTMLElement && el.style) {\n                // Enhanced text rendering for Arabic\n                el.style.setProperty('text-rendering', 'optimizeLegibility', 'important');\n                el.style.setProperty('-webkit-font-smoothing', 'antialiased', 'important');\n                el.style.setProperty('-moz-osx-font-smoothing', 'grayscale', 'important');\n                el.style.setProperty('font-smooth', 'always', 'important');\n\n                // Critical: Ensure overflow is visible for Arabic text\n                el.style.setProperty('overflow', 'visible', 'important');\n                el.style.setProperty('contain', 'none', 'important');\n                el.style.setProperty('clip-path', 'none', 'important');\n                el.style.setProperty('mask', 'none', 'important');\n\n                // Ensure proper letter spacing for Arabic\n                el.style.setProperty('letter-spacing', 'normal', 'important');\n                el.style.setProperty('word-spacing', 'normal', 'important');\n              }\n            });\n\n            // Special handling for h1 elements (titles)\n            const titleElements = clonedDoc.querySelectorAll('h1');\n            titleElements.forEach((el: Element) => {\n              if (el instanceof HTMLElement && el.style) {\n                el.style.setProperty('line-height', '2.2', 'important');\n                el.style.setProperty('padding-top', '0', 'important');\n                el.style.setProperty('padding-bottom', '0', 'important');\n                el.style.setProperty('margin-top', '0', 'important');\n                el.style.setProperty('margin-bottom', '0', 'important');\n                el.style.setProperty('overflow', 'visible', 'important');\n                el.style.setProperty('contain', 'none', 'important');\n                el.style.setProperty('box-sizing', 'content-box', 'important');\n                el.style.setProperty('clip-path', 'none', 'important');\n                el.style.setProperty('mask', 'none', 'important');\n              }\n            });\n\n            // Remove height constraints from title containers\n            const titleContainers = clonedDoc.querySelectorAll('[class*=\"transition-all\"]');\n            titleContainers.forEach((el: Element) => {\n              if (el instanceof HTMLElement && el.style) {\n                const currentHeight = el.style.height;\n                if (currentHeight) {\n                  el.style.setProperty('min-height', currentHeight, 'important');\n                  el.style.setProperty('height', 'auto', 'important');\n                }\n              }\n            });\n          },\n        });\n\n        // Add page to PDF (add new page if not first)\n        if (i > 0) {\n          pdf.addPage();\n        }\n\n        const imgData = canvas.toDataURL('image/png');\n        pdf.addImage(imgData, 'PNG', 0, 0, pdfWidth, pdfHeight);\n      }\n\n      // Step 9: Download\n      pdf.save(`${sampleData?.eventTitle || 'document'}-edited.pdf`);\n\n      // Step 10: Restore original state\n      setCurrentPageId(originalPageId);\n      setZoom(originalZoom);\n      setGridEnabled(originalGridEnabled);\n      setSelectedElementId(originalSelectedId);\n\n      if (onExport) {\n        const blob = pdf.output('blob');\n        onExport(blob);\n      }\n    } catch (error) {\n      console.error('Export failed:', error);\n      alert('ÙØ´Ù„ Ø§Ù„ØªØµØ¯ÙŠØ±. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.');\n    } finally {\n      setIsExporting(false);\n    }\n  }, [zoom, editorSettings, sampleData, onExport, selectedElementId, gridEnabled, currentPageId, pages, setSelectedElementId]);\n\n  // ============================================================================\n  // Keyboard Shortcuts\n  // ============================================================================\n\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      // Ignore if user is editing text in an input, textarea, or contentEditable element\n      if (\n        e.target instanceof HTMLInputElement ||\n        e.target instanceof HTMLTextAreaElement ||\n        (e.target instanceof HTMLElement && e.target.isContentEditable)\n      ) {\n        return;\n      }\n\n      // Phase 4: Delete selected elements (single or multiple)\n      if (e.key === 'Delete' || e.key === 'Backspace') {\n        if (selectedElementIds.length > 0) {\n          e.preventDefault();\n          deleteSelectedElements();\n        }\n      }\n\n      // Undo/Redo\n      if (e.ctrlKey || e.metaKey) {\n        if (e.key === 'z' && !e.shiftKey) {\n          e.preventDefault();\n          undo();\n        } else if (e.key === 'z' && e.shiftKey || e.key === 'y') {\n          e.preventDefault();\n          redo();\n        }\n      }\n\n      // Transform shortcuts (only when element is selected)\n      if (selectedElementId) {\n        // Use functional update to avoid dependency on elements\n        setElements((prevElements) => {\n          const selectedElement = prevElements.find(el => el.id === selectedElementId);\n          if (!selectedElement || !('transform' in selectedElement)) {\n            return prevElements;\n          }\n\n          const element = selectedElement as TableElement | TitleElement;\n          let newTransform = { ...element.transform };\n          let shouldUpdate = false;\n\n          // R - Rotate 90Â° clockwise\n          if (e.key === 'r' && !e.shiftKey && !e.ctrlKey && !e.metaKey) {\n            e.preventDefault();\n            newTransform = { ...newTransform, rotation: (element.transform.rotation + 90) % 360 };\n            shouldUpdate = true;\n          }\n\n          // Shift+R - Rotate 90Â° counter-clockwise\n          if (e.key === 'R' && e.shiftKey && !e.ctrlKey && !e.metaKey) {\n            e.preventDefault();\n            newTransform = { ...newTransform, rotation: (element.transform.rotation - 90 + 360) % 360 };\n            shouldUpdate = true;\n          }\n\n          // H - Flip horizontal\n          if (e.key === 'h' && !e.shiftKey && !e.ctrlKey && !e.metaKey) {\n            e.preventDefault();\n            newTransform = { ...newTransform, flipHorizontal: !element.transform.flipHorizontal };\n            shouldUpdate = true;\n          }\n\n          // V - Flip vertical\n          if (e.key === 'v' && !e.shiftKey && !e.ctrlKey && !e.metaKey) {\n            e.preventDefault();\n            newTransform = { ...newTransform, flipVertical: !element.transform.flipVertical };\n            shouldUpdate = true;\n          }\n\n          if (!shouldUpdate) {\n            return prevElements;\n          }\n\n          const newElements = prevElements.map(el =>\n            el.id === selectedElementId\n              ? { ...el, transform: newTransform }\n              : el\n          );\n\n          // Save to history\n          saveToHistory(newElements);\n\n          return newElements;\n        });\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, [selectedElementId, selectedElementIds, deleteSelectedElements, undo, redo, saveToHistory]);\n\n  // ============================================================================\n  // Phase 4: Multi-Selection Keyboard Shortcuts\n  // ============================================================================\n\n  useEffect(() => {\n    const handleMultiSelectionKeyDown = (e: KeyboardEvent) => {\n      // Ignore if user is typing in an input\n      if (e.target instanceof HTMLInputElement || e.target instanceof HTMLTextAreaElement) {\n        return;\n      }\n\n      // Ctrl+C: Copy\n      if (e.ctrlKey && e.key === 'c' && selectedElementIds.length > 0) {\n        e.preventDefault();\n        copySelectedElements();\n      }\n\n      // Ctrl+V: Paste\n      if (e.ctrlKey && e.key === 'v' && clipboard.length > 0) {\n        e.preventDefault();\n        pasteElements();\n      }\n\n      // Ctrl+X: Cut\n      if (e.ctrlKey && e.key === 'x' && selectedElementIds.length > 0) {\n        e.preventDefault();\n        copySelectedElements();\n        deleteSelectedElements();\n      }\n\n      // Ctrl+A: Select All\n      if (e.ctrlKey && e.key === 'a') {\n        e.preventDefault();\n        selectAll();\n      }\n\n      // Escape: Clear selection\n      if (e.key === 'Escape' && selectedElementIds.length > 0) {\n        e.preventDefault();\n        clearSelection();\n      }\n    };\n\n    window.addEventListener('keydown', handleMultiSelectionKeyDown);\n    return () => window.removeEventListener('keydown', handleMultiSelectionKeyDown);\n  }, [selectedElementIds, clipboard, copySelectedElements, pasteElements, deleteSelectedElements, selectAll, clearSelection]);\n\n  // ============================================================================\n  // Render\n  // ============================================================================\n\n  return (\n    <div className=\"flex flex-col h-full w-full bg-gray-50\">\n      {/* Toolbar */}\n      <div className=\"bg-white border-b\">\n        <div className=\"p-2 flex items-center gap-1 flex-wrap\">\n        {/* Back to Preview Button */}\n        {onBack && (\n          <Button\n            onClick={onBack}\n            variant=\"outline\"\n            size=\"sm\"\n            className=\"gap-2 border-purple-200 text-purple-700 hover:bg-purple-50\"\n            title=\"Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù…Ø¹Ø§ÙŠÙ†Ø©\"\n          >\n            <ArrowRight className=\"w-4 h-4\" />\n            <span className=\"hidden sm:inline\">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù…Ø¹Ø§ÙŠÙ†Ø©</span>\n          </Button>\n        )}\n\n        {onBack && <Separator orientation=\"vertical\" className=\"h-6 mx-0.5\" />}\n\n        {/* Export PDF - Icon Only */}\n        <Button\n          onClick={handleExport}\n          disabled={isExporting}\n          size=\"sm\"\n          className=\"bg-blue-600 hover:bg-blue-700 text-white\"\n          title=\"ØªØµØ¯ÙŠØ± PDF\"\n        >\n          <Download className=\"w-4 h-4\" />\n        </Button>\n\n        {/* Fit to Page - Icon Only */}\n        {elements.some(el => isElementOutOfBounds(el) || isElementOutOfPrintArea(el)) && (\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            onClick={fitAllElementsToPage}\n            className=\"border-yellow-500 text-yellow-700 hover:bg-yellow-50\"\n            title=\"Ø¥Ø±Ø¬Ø§Ø¹ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø¯Ø§Ø®Ù„ Ø­Ø¯ÙˆØ¯ Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©\"\n          >\n            <Maximize2 className=\"w-4 h-4\" />\n          </Button>\n        )}\n\n        <Separator orientation=\"vertical\" className=\"h-6 mx-0.5\" />\n\n        {/* Zoom Dropdown */}\n        <DropdownMenu>\n          <DropdownMenuTrigger asChild>\n            <Button variant=\"outline\" size=\"sm\" className=\"gap-1 min-w-[70px]\" title=\"Ø§Ù„ØªÙƒØ¨ÙŠØ±/Ø§Ù„ØªØµØºÙŠØ±\">\n              <ZoomIn className=\"w-3.5 h-3.5\" />\n              <span className=\"text-xs\">{Math.round(zoom * 100)}%</span>\n            </Button>\n          </DropdownMenuTrigger>\n          <DropdownMenuContent align=\"start\" className=\"w-[180px] p-2 bg-white opacity-100 border shadow-lg\">\n            <div className=\"flex flex-col gap-1\">\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={handleZoomOut}\n                disabled={zoom <= 0.1}\n                className=\"justify-start gap-2\"\n              >\n                <ZoomOut className=\"w-4 h-4\" />\n                <span>ØªØµØºÙŠØ±</span>\n              </Button>\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={handleZoomIn}\n                disabled={zoom >= 2.0}\n                className=\"justify-start gap-2\"\n              >\n                <ZoomIn className=\"w-4 h-4\" />\n                <span>ØªÙƒØ¨ÙŠØ±</span>\n              </Button>\n              <DropdownMenuSeparator />\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={handleZoomFit}\n                className=\"justify-start gap-2\"\n              >\n                <Maximize2 className=\"w-4 h-4\" />\n                <span>Ù…Ù„Ø¡ Ø§Ù„Ø´Ø§Ø´Ø©</span>\n              </Button>\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={handleZoomReset}\n                className=\"justify-start gap-2\"\n              >\n                <RotateCcw className=\"w-4 h-4\" />\n                <span>Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† (100%)</span>\n              </Button>\n            </div>\n          </DropdownMenuContent>\n        </DropdownMenu>\n\n        <Separator orientation=\"vertical\" className=\"h-6 mx-0.5\" />\n\n        {/* Page Navigation Dropdown */}\n        <DropdownMenu>\n          <DropdownMenuTrigger asChild>\n            <Button variant=\"outline\" size=\"sm\" className=\"gap-1 min-w-[60px]\" title=\"Ø§Ù„ØµÙØ­Ø§Øª\">\n              <FileText className=\"w-3.5 h-3.5\" />\n              <span className=\"text-xs\">{pages.findIndex(p => p.id === currentPageId) + 1}/{pages.length}</span>\n            </Button>\n          </DropdownMenuTrigger>\n          <DropdownMenuContent align=\"start\" className=\"w-[200px] p-2 bg-white opacity-100 border shadow-lg\">\n            <div className=\"flex flex-col gap-1\">\n              <div className=\"flex gap-1\">\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  onClick={() => {\n                    const currentIndex = pages.findIndex(p => p.id === currentPageId);\n                    if (currentIndex > 0) {\n                      goToPage(pages[currentIndex - 1].id);\n                    }\n                  }}\n                  disabled={pages.findIndex(p => p.id === currentPageId) === 0}\n                  className=\"flex-1\"\n                  title=\"Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©\"\n                >\n                  <ChevronRight className=\"w-4 h-4\" />\n                </Button>\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  onClick={() => {\n                    const currentIndex = pages.findIndex(p => p.id === currentPageId);\n                    if (currentIndex < pages.length - 1) {\n                      goToPage(pages[currentIndex + 1].id);\n                    }\n                  }}\n                  disabled={pages.findIndex(p => p.id === currentPageId) === pages.length - 1}\n                  className=\"flex-1\"\n                  title=\"Ø§Ù„ØµÙØ­Ø© Ø§Ù„ØªØ§Ù„ÙŠØ©\"\n                >\n                  <ChevronLeft className=\"w-4 h-4\" />\n                </Button>\n              </div>\n              <DropdownMenuSeparator />\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={addPage}\n                className=\"justify-start gap-2\"\n              >\n                <Plus className=\"w-4 h-4\" />\n                <span>Ø¥Ø¶Ø§ÙØ© ØµÙØ­Ø©</span>\n              </Button>\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={() => deletePage(currentPageId)}\n                disabled={pages.length === 1}\n                className=\"justify-start gap-2 text-red-500 hover:text-red-700\"\n              >\n                <Trash2 className=\"w-4 h-4\" />\n                <span>Ø­Ø°Ù Ø§Ù„ØµÙØ­Ø©</span>\n              </Button>\n            </div>\n          </DropdownMenuContent>\n        </DropdownMenu>\n\n        <Separator orientation=\"vertical\" className=\"h-6 mx-0.5\" />\n\n        {/* Add Elements Dropdown */}\n        <DropdownMenu>\n          <DropdownMenuTrigger asChild>\n            <Button variant=\"outline\" size=\"sm\" className=\"gap-1\" title=\"Ø¥Ø¶Ø§ÙØ© Ø¹Ù†ØµØ±\">\n              <Plus className=\"w-3.5 h-3.5\" />\n              <span className=\"text-xs\">Ø¥Ø¶Ø§ÙØ©</span>\n            </Button>\n          </DropdownMenuTrigger>\n          <DropdownMenuContent align=\"start\" className=\"w-[160px] p-2 bg-white opacity-100 border shadow-lg\">\n            <div className=\"flex flex-col gap-1\">\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={() => {\n                  const titleElement = elements.find(el => el.type === 'title');\n                  const startY = titleElement\n                    ? titleElement.position.y + titleElement.size.height + 80\n                    : margins.top + 80;\n\n                  const newTextElement: TextElement = {\n                    id: `text-${Date.now()}`,\n                    type: 'text',\n                    content: 'Ø§Ù†Ù‚Ø± Ù…Ø±ØªÙŠÙ† Ù„Ù„ØªØ­Ø±ÙŠØ±',\n                    position: { x: margins.left + 50, y: startY },\n                    size: { width: 200, height: 100 },\n                    fontSize: 16,\n                    color: '#000000',\n                    fontWeight: 'normal',\n                    fontStyle: 'normal',\n                    textDecoration: 'none',\n                    textAlign: 'right',\n                    visible: true,\n                    locked: false,\n                    zIndex: elements.length,\n                    transform: { ...DEFAULT_TRANSFORM },\n                    pageId: currentPageId,\n                  };\n                  setElements(prev => {\n                    const updated = [...prev, newTextElement];\n                    saveToHistory(updated);\n                    return updated;\n                  });\n                }}\n                className=\"justify-start gap-2\"\n              >\n                <Type className=\"w-4 h-4\" />\n                <span>Ù†Øµ</span>\n              </Button>\n\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={() => {\n                  const input = document.createElement('input');\n                  input.type = 'file';\n                  input.accept = 'image/*';\n                  input.onchange = (e) => {\n                    const file = (e.target as HTMLInputElement).files?.[0];\n                    if (file) {\n                      const reader = new FileReader();\n                      reader.onload = (event) => {\n                        const titleElement = elements.find(el => el.type === 'title');\n                        const startY = titleElement\n                          ? titleElement.position.y + titleElement.size.height + 80\n                          : margins.top + 80;\n\n                        const newImageElement: ImageElement = {\n                          id: `image-${Date.now()}`,\n                          type: 'image',\n                          src: event.target?.result as string,\n                          position: { x: margins.left + 100, y: startY },\n                          size: { width: 200, height: 200 },\n                          visible: true,\n                          locked: false,\n                          zIndex: elements.length,\n                          transform: { ...DEFAULT_TRANSFORM },\n                          pageId: currentPageId,\n                        };\n                        setElements(prev => {\n                          const updated = [...prev, newImageElement];\n                          saveToHistory(updated);\n                          return updated;\n                        });\n                      };\n                      reader.readAsDataURL(file);\n                    }\n                  };\n                  input.click();\n                }}\n                className=\"justify-start gap-2\"\n              >\n                <ImageIcon className=\"w-4 h-4\" />\n                <span>ØµÙˆØ±Ø©</span>\n              </Button>\n            </div>\n          </DropdownMenuContent>\n        </DropdownMenu>\n\n        <Separator orientation=\"vertical\" className=\"h-6 mx-0.5\" />\n\n        {/* Grid & Snap */}\n        <div className=\"flex items-center gap-1\">\n          <Button\n            variant={gridEnabled ? \"default\" : \"ghost\"}\n            size=\"sm\"\n            onClick={() => setGridEnabled(!gridEnabled)}\n            title=\"Ø´Ø¨ÙƒØ©\"\n          >\n            <Grid3x3 className=\"w-4 h-4\" />\n          </Button>\n\n          <Button\n            variant={snapEnabled ? \"default\" : \"ghost\"}\n            size=\"sm\"\n            onClick={() => setSnapEnabled(!snapEnabled)}\n            title=\"Ø§Ù„ØªØµØ§Ù‚\"\n          >\n            <Magnet className=\"w-4 h-4\" />\n          </Button>\n        </div>\n\n        <Separator orientation=\"vertical\" className=\"h-6 mx-0.5\" />\n\n        {/* Text Formatting Dropdown - Show when text element is selected */}\n        {selectedElementId && elements.find(el => el.id === selectedElementId && el.type === 'text') && (() => {\n          const textElement = elements.find(el => el.id === selectedElementId && el.type === 'text') as TextElement;\n\n          return (\n            <>\n              <DropdownMenu>\n                <DropdownMenuTrigger asChild>\n                  <Button variant=\"outline\" size=\"sm\" className=\"gap-1\" title=\"ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ù†Øµ\">\n                    <Type className=\"w-3.5 h-3.5\" />\n                    <span className=\"text-xs\">Ù†Øµ</span>\n                  </Button>\n                </DropdownMenuTrigger>\n                <DropdownMenuContent align=\"start\" className=\"w-[300px] p-4 bg-white opacity-100 border shadow-lg\">\n                  <DropdownMenuLabel className=\"text-sm font-semibold mb-2\">ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ù†Øµ</DropdownMenuLabel>\n                  <DropdownMenuSeparator />\n\n                  {/* Font Size Controls */}\n                  <div className=\"py-2\">\n                    <div className=\"text-xs text-gray-600 mb-2\">Ø­Ø¬Ù… Ø§Ù„Ø®Ø·</div>\n                    <div className=\"flex items-center gap-2\">\n                      <Button\n                        variant=\"outline\"\n                        size=\"sm\"\n                        onClick={() => {\n                          updateElement(selectedElementId, {\n                            fontSize: Math.max(8, textElement.fontSize - 2)\n                          } as any);\n                        }}\n                        title=\"ØªØµØºÙŠØ± Ø§Ù„Ø®Ø·\"\n                      >\n                        <Minus className=\"w-3 h-3\" />\n                      </Button>\n\n                      <div className=\"px-3 py-1.5 text-sm font-medium min-w-[50px] text-center bg-gray-100 rounded\">\n                        {textElement.fontSize}px\n                      </div>\n\n                      <Button\n                        variant=\"outline\"\n                        size=\"sm\"\n                        onClick={() => {\n                          updateElement(selectedElementId, {\n                            fontSize: Math.min(72, textElement.fontSize + 2)\n                          } as any);\n                        }}\n                        title=\"ØªÙƒØ¨ÙŠØ± Ø§Ù„Ø®Ø·\"\n                      >\n                        <Plus className=\"w-3 h-3\" />\n                      </Button>\n                    </div>\n                  </div>\n\n                  <DropdownMenuSeparator />\n\n                  {/* Text Style Toggles */}\n                  <div className=\"py-2\">\n                    <div className=\"text-xs text-gray-600 mb-2\">Ù†Ù…Ø· Ø§Ù„Ù†Øµ</div>\n                    <div className=\"flex items-center gap-2\">\n                      <Button\n                        variant={textElement.fontWeight === 'bold' ? \"default\" : \"outline\"}\n                        size=\"sm\"\n                        onClick={() => {\n                          updateElement(selectedElementId, {\n                            fontWeight: textElement.fontWeight === 'bold' ? 'normal' : 'bold'\n                          } as any);\n                        }}\n                        title=\"Ø¹Ø±ÙŠØ¶\"\n                        className=\"flex-1\"\n                      >\n                        <Bold className=\"w-4 h-4 mr-1\" />\n                        <span className=\"text-xs\">Ø¹Ø±ÙŠØ¶</span>\n                      </Button>\n\n                      <Button\n                        variant={textElement.fontStyle === 'italic' ? \"default\" : \"outline\"}\n                        size=\"sm\"\n                        onClick={() => {\n                          updateElement(selectedElementId, {\n                            fontStyle: textElement.fontStyle === 'italic' ? 'normal' : 'italic'\n                          } as any);\n                        }}\n                        title=\"Ù…Ø§Ø¦Ù„\"\n                        className=\"flex-1\"\n                      >\n                        <Italic className=\"w-4 h-4 mr-1\" />\n                        <span className=\"text-xs\">Ù…Ø§Ø¦Ù„</span>\n                      </Button>\n\n                      <Button\n                        variant={textElement.textDecoration === 'underline' ? \"default\" : \"outline\"}\n                        size=\"sm\"\n                        onClick={() => {\n                          updateElement(selectedElementId, {\n                            textDecoration: textElement.textDecoration === 'underline' ? 'none' : 'underline'\n                          } as any);\n                        }}\n                        title=\"ØªØ³Ø·ÙŠØ±\"\n                        className=\"flex-1\"\n                      >\n                        <Underline className=\"w-4 h-4 mr-1\" />\n                        <span className=\"text-xs\">ØªØ³Ø·ÙŠØ±</span>\n                      </Button>\n                    </div>\n                  </div>\n\n                  <DropdownMenuSeparator />\n\n                  {/* Text Alignment */}\n                  <div className=\"py-2\">\n                    <div className=\"text-xs text-gray-600 mb-2\">Ø§Ù„Ù…Ø­Ø§Ø°Ø§Ø©</div>\n                    <div className=\"grid grid-cols-4 gap-2\">\n                      <Button\n                        variant={textElement.textAlign === 'left' ? \"default\" : \"outline\"}\n                        size=\"sm\"\n                        onClick={() => {\n                          updateElement(selectedElementId, { textAlign: 'left' } as any);\n                        }}\n                        title=\"Ù…Ø­Ø§Ø°Ø§Ø© Ù„Ù„ÙŠØ³Ø§Ø±\"\n                      >\n                        <AlignLeft className=\"w-4 h-4\" />\n                      </Button>\n\n                      <Button\n                        variant={textElement.textAlign === 'center' ? \"default\" : \"outline\"}\n                        size=\"sm\"\n                        onClick={() => {\n                          updateElement(selectedElementId, { textAlign: 'center' } as any);\n                        }}\n                        title=\"Ù…Ø­Ø§Ø°Ø§Ø© Ù„Ù„ÙˆØ³Ø·\"\n                      >\n                        <AlignCenter className=\"w-4 h-4\" />\n                      </Button>\n\n                      <Button\n                        variant={textElement.textAlign === 'right' ? \"default\" : \"outline\"}\n                        size=\"sm\"\n                        onClick={() => {\n                          updateElement(selectedElementId, { textAlign: 'right' } as any);\n                        }}\n                        title=\"Ù…Ø­Ø§Ø°Ø§Ø© Ù„Ù„ÙŠÙ…ÙŠÙ†\"\n                      >\n                        <AlignRight className=\"w-4 h-4\" />\n                      </Button>\n\n                      <Button\n                        variant={textElement.textAlign === 'justify' ? \"default\" : \"outline\"}\n                        size=\"sm\"\n                        onClick={() => {\n                          updateElement(selectedElementId, { textAlign: 'justify' } as any);\n                        }}\n                        title=\"Ø¶Ø¨Ø·\"\n                      >\n                        <AlignJustify className=\"w-4 h-4\" />\n                      </Button>\n                    </div>\n                  </div>\n\n                  <DropdownMenuSeparator />\n\n                  {/* Color Picker */}\n                  <div className=\"py-2\">\n                    <div className=\"text-xs text-gray-600 mb-2\">Ù„ÙˆÙ† Ø§Ù„Ù†Øµ</div>\n                    <input\n                      type=\"color\"\n                      value={textElement.color}\n                      onChange={(e) => {\n                        updateElement(selectedElementId, { color: e.target.value } as any);\n                      }}\n                      className=\"w-full h-10 rounded cursor-pointer border-2 border-gray-300\"\n                      title=\"Ù„ÙˆÙ† Ø§Ù„Ù†Øµ\"\n                    />\n                  </div>\n                </DropdownMenuContent>\n              </DropdownMenu>\n\n              <Separator orientation=\"vertical\" className=\"h-6 mx-0.5\" />\n            </>\n          );\n        })()}\n\n        {/* Phase 4: Multi-Selection Actions */}\n        {selectedElementIds.length > 0 && (\n          <>\n            <div className=\"flex items-center gap-1\">\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={copySelectedElements}\n                title=\"Ù†Ø³Ø® (Ctrl+C)\"\n              >\n                <Copy className=\"w-4 h-4\" />\n              </Button>\n\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={pasteElements}\n                disabled={clipboard.length === 0}\n                title=\"Ù„ØµÙ‚ (Ctrl+V)\"\n              >\n                <Clipboard className=\"w-4 h-4\" />\n              </Button>\n\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={deleteSelectedElements}\n                title=\"Ø­Ø°Ù (Delete)\"\n                className=\"text-red-500 hover:text-red-700\"\n              >\n                <Trash2 className=\"w-4 h-4\" />\n              </Button>\n            </div>\n\n            <Separator orientation=\"vertical\" className=\"h-6 mx-0.5\" />\n\n            {/* Grouping Actions (show only when 2+ elements selected) */}\n            {selectedElementIds.length >= 2 && (\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={createGroup}\n                title=\"ØªØ¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©\"\n              >\n                <Group className=\"w-4 h-4\" />\n              </Button>\n            )}\n\n            {/* Ungroup Action (show only when a single group is selected) */}\n            {selectedElementIds.length === 1 && elements.find(el => el.id === selectedElementIds[0])?.type === 'group' && (\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={() => ungroupGroup(selectedElementIds[0])}\n                title=\"ÙÙƒ ØªØ¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©\"\n              >\n                <Ungroup className=\"w-4 h-4\" />\n              </Button>\n            )}\n\n            {/* Alignment & Distribution Dropdown (show only when 2+ elements selected) */}\n            {selectedElementIds.length >= 2 && (\n              <>\n                <DropdownMenu>\n                  <DropdownMenuTrigger asChild>\n                    <Button variant=\"outline\" size=\"sm\" className=\"gap-1\" title=\"Ø§Ù„Ù…Ø­Ø§Ø°Ø§Ø©\">\n                      <AlignHorizontalJustifyCenter className=\"w-3.5 h-3.5\" />\n                    </Button>\n                  </DropdownMenuTrigger>\n                  <DropdownMenuContent align=\"start\" className=\"w-[280px] p-3 bg-white opacity-100 border shadow-lg\">\n                    <DropdownMenuLabel className=\"text-sm font-semibold mb-2\">Ø§Ù„Ù…Ø­Ø§Ø°Ø§Ø© ÙˆØ§Ù„ØªÙˆØ²ÙŠØ¹</DropdownMenuLabel>\n                    <DropdownMenuSeparator />\n\n                    {/* Horizontal Alignment */}\n                    <div className=\"py-2\">\n                      <div className=\"text-xs text-gray-600 mb-2\">Ø§Ù„Ù…Ø­Ø§Ø°Ø§Ø© Ø§Ù„Ø£ÙÙ‚ÙŠØ©</div>\n                      <div className=\"grid grid-cols-3 gap-2\">\n                        <Button\n                          variant=\"outline\"\n                          size=\"sm\"\n                          onClick={alignLeft}\n                          title=\"Ù…Ø­Ø§Ø°Ø§Ø© Ù„Ù„ÙŠØ³Ø§Ø±\"\n                        >\n                          <AlignHorizontalJustifyStart className=\"w-4 h-4\" />\n                        </Button>\n\n                        <Button\n                          variant=\"outline\"\n                          size=\"sm\"\n                          onClick={alignCenterHorizontal}\n                          title=\"Ù…Ø­Ø§Ø°Ø§Ø© Ù„Ù„ÙˆØ³Ø· Ø£ÙÙ‚ÙŠØ§Ù‹\"\n                        >\n                          <AlignHorizontalJustifyCenter className=\"w-4 h-4\" />\n                        </Button>\n\n                        <Button\n                          variant=\"outline\"\n                          size=\"sm\"\n                          onClick={alignRight}\n                          title=\"Ù…Ø­Ø§Ø°Ø§Ø© Ù„Ù„ÙŠÙ…ÙŠÙ†\"\n                        >\n                          <AlignHorizontalJustifyEnd className=\"w-4 h-4\" />\n                        </Button>\n                      </div>\n                    </div>\n\n                    <DropdownMenuSeparator />\n\n                    {/* Vertical Alignment */}\n                    <div className=\"py-2\">\n                      <div className=\"text-xs text-gray-600 mb-2\">Ø§Ù„Ù…Ø­Ø§Ø°Ø§Ø© Ø§Ù„Ø¹Ù…ÙˆØ¯ÙŠØ©</div>\n                      <div className=\"grid grid-cols-3 gap-2\">\n                        <Button\n                          variant=\"outline\"\n                          size=\"sm\"\n                          onClick={alignTop}\n                          title=\"Ù…Ø­Ø§Ø°Ø§Ø© Ù„Ù„Ø£Ø¹Ù„Ù‰\"\n                        >\n                          <AlignVerticalJustifyStart className=\"w-4 h-4\" />\n                        </Button>\n\n                        <Button\n                          variant=\"outline\"\n                          size=\"sm\"\n                          onClick={alignMiddleVertical}\n                          title=\"Ù…Ø­Ø§Ø°Ø§Ø© Ù„Ù„ÙˆØ³Ø· Ø¹Ù…ÙˆØ¯ÙŠØ§Ù‹\"\n                        >\n                          <AlignVerticalJustifyCenter className=\"w-4 h-4\" />\n                        </Button>\n\n                        <Button\n                          variant=\"outline\"\n                          size=\"sm\"\n                          onClick={alignBottom}\n                          title=\"Ù…Ø­Ø§Ø°Ø§Ø© Ù„Ù„Ø£Ø³ÙÙ„\"\n                        >\n                          <AlignVerticalJustifyEnd className=\"w-4 h-4\" />\n                        </Button>\n                      </div>\n                    </div>\n\n                    {/* Distribution (show only when 3+ elements selected) */}\n                    {selectedElementIds.length >= 3 && (\n                      <>\n                        <DropdownMenuSeparator />\n                        <div className=\"py-2\">\n                          <div className=\"text-xs text-gray-600 mb-2\">Ø§Ù„ØªÙˆØ²ÙŠØ¹</div>\n                          <div className=\"grid grid-cols-2 gap-2\">\n                            <Button\n                              variant=\"outline\"\n                              size=\"sm\"\n                              onClick={distributeHorizontal}\n                              title=\"ØªÙˆØ²ÙŠØ¹ Ø£ÙÙ‚ÙŠ Ù…ØªØ³Ø§ÙˆÙŠ\"\n                              className=\"gap-2\"\n                            >\n                              <ArrowLeftRight className=\"w-4 h-4\" />\n                              <span className=\"text-xs\">Ø£ÙÙ‚ÙŠ</span>\n                            </Button>\n\n                            <Button\n                              variant=\"outline\"\n                              size=\"sm\"\n                              onClick={distributeVertical}\n                              title=\"ØªÙˆØ²ÙŠØ¹ Ø¹Ù…ÙˆØ¯ÙŠ Ù…ØªØ³Ø§ÙˆÙŠ\"\n                              className=\"gap-2\"\n                            >\n                              <ArrowUpDown className=\"w-4 h-4\" />\n                              <span className=\"text-xs\">Ø¹Ù…ÙˆØ¯ÙŠ</span>\n                            </Button>\n                          </div>\n                        </div>\n                      </>\n                    )}\n                  </DropdownMenuContent>\n                </DropdownMenu>\n\n                <Separator orientation=\"vertical\" className=\"h-6 mx-0.5\" />\n              </>\n            )}\n\n            {/* Selection Info - Compact */}\n            <div className=\"text-[10px] px-1\">\n              <div className=\"flex items-center gap-0.5\">\n                <span className=\"text-gray-600\">{selectedElementIds.length}</span>\n                {selectedElementIds.length > 1 && (\n                  <span className=\"text-blue-600 text-[9px] bg-blue-50 px-1 py-0.5 rounded\">\n                    Ù…ØªØ¹Ø¯Ø¯\n                  </span>\n                )}\n              </div>\n            </div>\n\n            <Separator orientation=\"vertical\" className=\"h-6 mx-0.5\" />\n\n            {/* Move to Page (show only when elements are selected and there are multiple pages) */}\n            {selectedElementIds.length > 0 && pages.length > 1 && (\n              <>\n                <select\n                  className=\"text-[10px] border rounded px-1.5 py-0.5 bg-white hover:bg-gray-50 cursor-pointer\"\n                  value=\"\"\n                  onChange={(e) => {\n                    if (e.target.value) {\n                      moveElementsToPage(selectedElementIds, e.target.value);\n                    }\n                  }}\n                  title=\"Ù†Ù‚Ù„ Ø¥Ù„Ù‰ ØµÙØ­Ø©\"\n                >\n                  <option value=\"\">Ù†Ù‚Ù„...</option>\n                  {pages\n                    .filter(p => p.id !== currentPageId)\n                    .sort((a, b) => a.order - b.order)\n                    .map(page => (\n                      <option key={page.id} value={page.id}>\n                        {page.name}\n                      </option>\n                    ))}\n                </select>\n\n                <Separator orientation=\"vertical\" className=\"h-6 mx-0.5\" />\n              </>\n            )}\n          </>\n        )}\n\n        {/* Undo/Redo */}\n        <Button\n          variant=\"ghost\"\n          size=\"sm\"\n          onClick={undo}\n          disabled={!canUndo}\n          title=\"ØªØ±Ø§Ø¬Ø¹ (Ctrl+Z)\"\n        >\n          <Undo2 className=\"w-4 h-4\" />\n        </Button>\n\n        <Button\n          variant=\"ghost\"\n          size=\"sm\"\n          onClick={redo}\n          disabled={!canRedo}\n          title=\"Ø¥Ø¹Ø§Ø¯Ø© (Ctrl+Y)\"\n        >\n          <Redo2 className=\"w-4 h-4\" />\n        </Button>\n\n        <Separator orientation=\"vertical\" className=\"h-6 mx-0.5\" />\n\n        {/* Transform Controls Dropdown (when element is selected) */}\n        {selectedElementId && (() => {\n          const selectedElement = elements.find(el => el.id === selectedElementId);\n          if (!selectedElement || !('transform' in selectedElement)) return null;\n\n          const element = selectedElement as TableElement | TitleElement;\n\n          return (\n            <>\n              <DropdownMenu>\n                <DropdownMenuTrigger asChild>\n                  <Button variant=\"outline\" size=\"sm\" className=\"gap-1\" title=\"Ø§Ù„ØªØ­ÙˆÙŠÙ„Ø§Øª\">\n                    <Settings2 className=\"w-3.5 h-3.5\" />\n                  </Button>\n                </DropdownMenuTrigger>\n                <DropdownMenuContent align=\"start\" className=\"w-[250px] p-3 bg-white opacity-100 border shadow-lg\">\n                  <DropdownMenuLabel className=\"text-sm font-semibold mb-2\">Ø§Ù„ØªØ­ÙˆÙŠÙ„Ø§Øª</DropdownMenuLabel>\n                  <DropdownMenuSeparator />\n\n                  {/* Flip Horizontal */}\n                  <div className=\"py-2\">\n                    <Button\n                      variant={element.transform.flipHorizontal ? \"default\" : \"outline\"}\n                      size=\"sm\"\n                      onClick={() => {\n                        updateElement(element.id, {\n                          transform: {\n                            ...element.transform,\n                            flipHorizontal: !element.transform.flipHorizontal\n                          }\n                        } as Partial<EditorElement>);\n                      }}\n                      className=\"w-full justify-start gap-2\"\n                    >\n                      <FlipHorizontal className=\"w-4 h-4\" />\n                      <span>Ù‚Ù„Ø¨ Ø£ÙÙ‚ÙŠ</span>\n                    </Button>\n                  </div>\n\n                  <DropdownMenuSeparator />\n\n                  {/* Transform Panel Toggle */}\n                  <div className=\"py-2\">\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={() => setShowTransformPanel(!showTransformPanel)}\n                      className=\"w-full justify-start gap-2\"\n                    >\n                      <Settings2 className=\"w-4 h-4\" />\n                      <span>Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªØ­ÙˆÙŠÙ„Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©</span>\n                    </Button>\n                  </div>\n                </DropdownMenuContent>\n              </DropdownMenu>\n\n              <Separator orientation=\"vertical\" className=\"h-6 mx-0.5\" />\n\n              {/* Color Picker for Tables - Icon Only */}\n              {element.type === 'table' && (\n                <Button\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  title=\"ØªØºÙŠÙŠØ± Ù„ÙˆÙ† Ø§Ù„Ø¬Ø¯ÙˆÙ„\"\n                >\n                  <Palette className=\"w-4 h-4\" />\n                </Button>\n              )}\n            </>\n          );\n        })()}\n\n        {/* Title Controls (when title is selected) */}\n        {selectedElementId === 'event-title' && (() => {\n          const titleElement = elements.find(el => el.id === 'event-title') as TitleElement | undefined;\n          if (!titleElement) return null;\n\n          return (\n            <>\n              <div className=\"flex items-center gap-1\">\n                <Button\n                  variant={showBackgroundPanel ? \"default\" : \"ghost\"}\n                  size=\"sm\"\n                  onClick={() => setShowBackgroundPanel(!showBackgroundPanel)}\n                  title=\"Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø®Ù„ÙÙŠØ©\"\n                >\n                  <Palette className=\"w-4 h-4\" />\n                </Button>\n\n                <input\n                  type=\"color\"\n                  value={titleElement.style.color}\n                  onChange={(e) => {\n                    updateElement('event-title', {\n                      style: {\n                        ...titleElement.style,\n                        color: e.target.value\n                      }\n                    } as Partial<TitleElement>);\n                  }}\n                  className=\"w-8 h-8 rounded cursor-pointer\"\n                  title=\"Ù„ÙˆÙ† Ø§Ù„Ù†Øµ\"\n                />\n              </div>\n\n              <Separator orientation=\"vertical\" className=\"h-8\" />\n            </>\n          );\n        })()}\n\n        {/* Layers Toggle */}\n        <Button\n          variant={showLayers ? \"default\" : \"ghost\"}\n          size=\"sm\"\n          onClick={() => setShowLayers(!showLayers)}\n          title=\"Ø§Ù„Ø·Ø¨Ù‚Ø§Øª\"\n        >\n          <Layers className=\"w-4 h-4\" />\n        </Button>\n        </div>\n      </div>\n\n      {/* Background Settings Panel */}\n      {showBackgroundPanel && selectedElementId === 'event-title' && (() => {\n        const titleElement = elements.find(el => el.id === 'event-title') as TitleElement | undefined;\n        if (!titleElement) return null;\n\n        return (\n          <BackgroundSettingsPanel\n            background={titleElement.style.background}\n            onUpdate={(background) => {\n              updateElement('event-title', {\n                style: {\n                  ...titleElement.style,\n                  background\n                }\n              } as Partial<TitleElement>);\n            }}\n            onClose={() => setShowBackgroundPanel(false)}\n            tableHeaderColor={editorSettings.colors.headerBg}\n          />\n        );\n      })()}\n\n      {/* Transform Control Panel */}\n      {showTransformPanel && selectedElementId && (() => {\n        const selectedElement = elements.find(el => el.id === selectedElementId);\n        if (!selectedElement || !('transform' in selectedElement)) return null;\n\n        const element = selectedElement as TableElement | TitleElement;\n\n        return (\n          <TransformControlPanel\n            position={element.position}\n            size={element.size}\n            transform={element.transform}\n            onUpdatePosition={(position) => {\n              updateElement(element.id, { position } as Partial<EditorElement>);\n            }}\n            onUpdateSize={(size) => {\n              updateElement(element.id, { size } as Partial<EditorElement>);\n            }}\n            onUpdateTransform={(transform) => {\n              updateElement(element.id, {\n                transform: { ...element.transform, ...transform }\n              } as Partial<EditorElement>);\n            }}\n            onClose={() => setShowTransformPanel(false)}\n          />\n        );\n      })()}\n\n      {/* Main Content */}\n      <div className=\"flex-1 flex relative\" dir=\"ltr\" style={{ minHeight: 0, minWidth: 0 }}>\n        {/* Layers Panel - Desktop Only */}\n        {showLayers && (\n          <div className=\"hidden lg:flex w-64 border-r bg-white overflow-hidden flex-col shrink-0\">\n            <div className=\"p-3 border-b\">\n              <h3 className=\"font-semibold text-sm\">Ø§Ù„Ø·Ø¨Ù‚Ø§Øª (Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©)</h3>\n            </div>\n\n            <ScrollArea className=\"flex-1\">\n              <div className=\"p-2 space-y-1\">\n                {getCurrentPageElements().length === 0 ? (\n                  <p className=\"text-xs text-gray-400 text-center py-4\">\n                    Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ø¨Ù‚Ø§Øª ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„ØµÙØ­Ø©\n                  </p>\n                ) : (\n                  getCurrentPageElements()\n                    .sort((a, b) => b.zIndex - a.zIndex)\n                    .map(element => (\n                      <div\n                        key={element.id}\n                        className={cn(\n                          \"flex items-center gap-2 p-2 rounded cursor-pointer hover:bg-gray-100 transition-colors\",\n                          selectedElementIds.includes(element.id) && \"bg-blue-100 hover:bg-blue-200\"\n                        )}\n                        onClick={(e) => handleElementSelect(element.id, e.ctrlKey)}\n                      >\n                        <Move className=\"w-4 h-4 text-gray-400\" />\n\n                        <div className=\"flex-1 min-w-0\">\n                          <p className=\"text-xs font-medium truncate\">\n                            {element.type === 'title' && 'ğŸ¯ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø­Ø¯Ø«'}\n                            {element.type === 'table-title' && `ğŸ“ ${(element as TableTitleElement).content}`}\n                            {element.type === 'table' && 'ğŸ“Š Ø¬Ø¯ÙˆÙ„'}\n                            {element.type === 'text' && 'Ù†Øµ Ø­Ø±'}\n                            {element.type === 'image' && 'ØµÙˆØ±Ø©'}\n                            {element.type === 'group' && 'ğŸ“¦ Ù…Ø¬Ù…ÙˆØ¹Ø©'}\n                          </p>\n                        </div>\n\n                        {/* Layer Order Buttons */}\n                        <div className=\"flex items-center\">\n                          <Button\n                            variant=\"ghost\"\n                            size=\"sm\"\n                            className=\"h-6 w-6 p-0 hover:bg-blue-100\"\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              bringForward(element.id);\n                            }}\n                            title=\"Ø±ÙØ¹ Ø·Ø¨Ù‚Ø© Ù„Ù„Ø£Ø¹Ù„Ù‰\"\n                          >\n                            <ChevronUp className=\"w-3 h-3\" />\n                          </Button>\n                          <Button\n                            variant=\"ghost\"\n                            size=\"sm\"\n                            className=\"h-6 w-6 p-0 hover:bg-blue-100\"\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              sendBackward(element.id);\n                            }}\n                            title=\"Ø¥Ù†Ø²Ø§Ù„ Ø·Ø¨Ù‚Ø© Ù„Ù„Ø£Ø³ÙÙ„\"\n                          >\n                            <ChevronDown className=\"w-3 h-3\" />\n                          </Button>\n                        </div>\n\n                        <Button\n                          variant=\"ghost\"\n                          size=\"sm\"\n                          className=\"h-6 w-6 p-0\"\n                          onClick={(e) => {\n                            e.stopPropagation();\n                            toggleElementVisibility(element.id);\n                          }}\n                          title={element.visible ? \"Ø¥Ø®ÙØ§Ø¡\" : \"Ø¥Ø¸Ù‡Ø§Ø±\"}\n                        >\n                          {element.visible ? (\n                            <Eye className=\"w-3 h-3\" />\n                          ) : (\n                            <EyeOff className=\"w-3 h-3\" />\n                          )}\n                        </Button>\n\n                        <Button\n                          variant=\"ghost\"\n                          size=\"sm\"\n                          className=\"h-6 w-6 p-0 hover:bg-red-100 hover:text-red-600\"\n                          onClick={(e) => {\n                            e.stopPropagation();\n                            deleteElement(element.id);\n                          }}\n                          title=\"Ø­Ø°Ù\"\n                        >\n                          <Trash2 className=\"w-3 h-3\" />\n                        </Button>\n                      </div>\n                    ))\n                )}\n              </div>\n            </ScrollArea>\n          </div>\n        )}\n\n        {/* Pages Sidebar - Desktop Only */}\n        <div className=\"hidden lg:flex w-48 border-r bg-white overflow-hidden flex-col shrink-0\">\n          <div className=\"p-3 border-b\">\n            <h3 className=\"font-semibold text-sm\">Ø§Ù„ØµÙØ­Ø§Øª</h3>\n          </div>\n\n          <ScrollArea className=\"flex-1\">\n            <div className=\"p-2 space-y-2\">\n              {pages.sort((a, b) => a.order - b.order).map((page) => {\n                const pageElements = elements.filter(el => el.pageId === page.id);\n                const isCurrentPage = page.id === currentPageId;\n\n                return (\n                  <div\n                    key={page.id}\n                    className={cn(\n                      \"border rounded-lg p-2 cursor-pointer transition-all hover:shadow-md\",\n                      isCurrentPage ? \"border-blue-500 bg-blue-50\" : \"border-gray-200 hover:border-gray-300\"\n                    )}\n                    onClick={() => goToPage(page.id)}\n                  >\n                    {/* Page Preview Placeholder */}\n                    <div className={cn(\n                      \"w-full aspect-[794/1122] bg-white border rounded mb-2 flex items-center justify-center\",\n                      isCurrentPage ? \"border-blue-400\" : \"border-gray-300\"\n                    )}>\n                      <FileText className={cn(\n                        \"w-8 h-8\",\n                        isCurrentPage ? \"text-blue-500\" : \"text-gray-400\"\n                      )} />\n                    </div>\n\n                    {/* Page Info */}\n                    <div className=\"text-xs\">\n                      <div className={cn(\n                        \"font-medium mb-1\",\n                        isCurrentPage ? \"text-blue-700\" : \"text-gray-700\"\n                      )}>\n                        {page.name}\n                      </div>\n                      <div className=\"text-gray-500\">\n                        {pageElements.length} Ø¹Ù†ØµØ±\n                      </div>\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          </ScrollArea>\n        </div>\n\n        {/* Canvas Area - RIGHT SIDE (third in LTR) */}\n        <div className=\"flex-1 relative bg-gray-100 scrollbar-visible\"\n          style={{\n            overflow: 'scroll',\n            scrollbarWidth: 'auto',\n            scrollbarColor: '#a0a0a0 #f0f0f0',\n            minHeight: 0,\n            minWidth: 0,\n          }}\n        >\n          {/* Wrapper div with actual scaled dimensions for proper scrolling */}\n          <div\n            style={{\n              width: `${Math.max(pageWidth * zoom + 64, 100)}px`,\n              height: `${Math.max(pageHeight * zoom + 64, 100)}px`,\n              padding: '32px',\n              boxSizing: 'border-box',\n              display: 'inline-block',\n            }}\n          >\n            <div\n              ref={canvasRef}\n              className=\"relative bg-white shadow-2xl rounded-lg\"\n              style={{\n                width: `${pageWidth}px`,\n                height: `${pageHeight}px`,\n                transform: `scale(${zoom})`,\n                transformOrigin: 'top left',\n                border: '2px solid #e5e7eb',\n              }}\n              onClick={() => setSelectedElementId(null)}\n            >\n            {/* Grid Background */}\n            {gridEnabled && (\n              <div\n                className=\"absolute inset-0 pointer-events-none\"\n                style={{\n                  backgroundImage: `\n                    linear-gradient(to right, #e5e7eb 1px, transparent 1px),\n                    linear-gradient(to bottom, #e5e7eb 1px, transparent 1px)\n                  `,\n                  backgroundSize: `${GRID_SIZE}px ${GRID_SIZE}px`,\n                }}\n              />\n            )}\n\n            {/* Print Area Boundaries (Visual Guide) */}\n            {!isExporting && (\n              <div\n                className=\"absolute pointer-events-none border-2 border-dashed border-green-400 opacity-30\"\n                style={{\n                  left: `${margins.left}px`,\n                  top: `${margins.top}px`,\n                  width: `${pageWidth - margins.left - margins.right}px`,\n                  height: `${pageHeight - margins.top - margins.bottom}px`,\n                }}\n              />\n            )}\n\n            {/* Content Container */}\n            <div className=\"absolute inset-0\">\n              {/* Render Elements */}\n              {elements.map(element => {\n                // Phase 7: Only render elements on current page\n                if (!element.visible || element.pageId !== currentPageId) return null;\n\n                // Phase 4: Check if element is in multi-selection\n                const isSelected = selectedElementIds.includes(element.id);\n                const isOutOfBounds = isElementOutOfBounds(element);\n                const isOutOfPrintArea = isElementOutOfPrintArea(element);\n\n                // Render Title Element\n                if (element.type === 'title') {\n                  return (\n                    <DraggableTitle\n                      key={element.id}\n                      element={element as TitleElement}\n                      isSelected={isSelected}\n                      isExporting={isExporting}\n                      snapEnabled={snapEnabled}\n                      GRID_SIZE={GRID_SIZE}\n                      pageWidth={pageWidth}\n                      pageHeight={pageHeight}\n                      margins={margins}\n                      onDrag={handleDrag}\n                      onDragStop={handleDragStop}\n                      onResizeStop={handleResizeStop}\n                      onSelect={handleElementSelect}\n                      onUpdateElement={updateElement}\n                      isOutOfBounds={isOutOfBounds}\n                      isOutOfPrintArea={isOutOfPrintArea}\n                    />\n                  );\n                }\n\n                // Render Table Title Element\n                if (element.type === 'table-title') {\n                  return (\n                    <DraggableTableTitle\n                      key={element.id}\n                      element={element as TableTitleElement}\n                      isSelected={isSelected}\n                      isExporting={isExporting}\n                      editorSettings={editorSettings}\n                      snapEnabled={snapEnabled}\n                      GRID_SIZE={GRID_SIZE}\n                      pageWidth={pageWidth}\n                      pageHeight={pageHeight}\n                      margins={margins}\n                      onDrag={handleDrag}\n                      onDragStop={handleDragStop}\n                      onResizeStop={handleResizeStop}\n                      onSelect={handleElementSelect}\n                      onUpdateElement={updateElement}\n                      onToggleLink={handleToggleTableTitleLink}\n                      isOutOfBounds={isOutOfBounds}\n                      isOutOfPrintArea={isOutOfPrintArea}\n                    />\n                  );\n                }\n\n                // Render Table Element (Optimized)\n                if (element.type === 'table') {\n                  return (\n                    <DraggableTable\n                      key={element.id}\n                      element={element as TableElement}\n                      isSelected={isSelected}\n                      isExporting={isExporting}\n                      editorSettings={editorSettings}\n                      snapEnabled={snapEnabled}\n                      GRID_SIZE={GRID_SIZE}\n                      pageWidth={pageWidth}\n                      pageHeight={pageHeight}\n                      margins={margins}\n                      onDrag={handleDrag}\n                      onDragStop={handleDragStop}\n                      onResizeStop={handleResizeStop}\n                      onSelect={handleElementSelect}\n                      onUpdateElement={updateElement}\n                      isOutOfBounds={isOutOfBounds}\n                      isOutOfPrintArea={isOutOfPrintArea}\n                    />\n                  );\n                }\n\n                // Render Text Element - With Resize Handles for Font Size Control\n                if (element.type === 'text') {\n                  const textElement = element as TextElement;\n                  const textNodeRef = createRef<HTMLDivElement>();\n                  const isEditing = editingTextElementId === element.id;\n                  const isEmpty = !textElement.content || textElement.content.trim() === '' || textElement.content === 'Ø§Ù†Ù‚Ø± Ù…Ø±ØªÙŠÙ† Ù„Ù„ØªØ­Ø±ÙŠØ±';\n\n                  return (\n                    <Draggable\n                      key={element.id}\n                      nodeRef={textNodeRef}\n                      defaultPosition={element.position}\n                      onDrag={(e, data) => handleDrag(element.id, e, data)}\n                      onStop={(e, data) => handleDragStop(element.id, e, data)}\n                      bounds=\"parent\"\n                      disabled={element.locked || isEditing}\n                      grid={snapEnabled ? [GRID_SIZE, GRID_SIZE] : undefined}\n                      cancel=\".react-resizable-handle\"\n                    >\n                      <div\n                        ref={textNodeRef}\n                        className={cn(\n                          \"absolute\",\n                          isSelected && !isExporting && \"element-selected\"\n                        )}\n                        style={{\n                          zIndex: element.zIndex,\n                        }}\n                      >\n                        <Resizable\n                          width={resizingElements[element.id]?.width ?? element.size.width}\n                          height={resizingElements[element.id]?.height ?? element.size.height}\n                          onResizeStart={(e, {size}) => {\n                            // Store original font size and width at the start of resize\n                            setResizingElements(prev => ({\n                              ...prev,\n                              [element.id]: {\n                                width: size.width,\n                                height: size.height,\n                                originalFontSize: textElement.fontSize,\n                                originalWidth: size.width,\n                              }\n                            }));\n                          }}\n                          onResize={(e, {size}) => {\n                            // Get the original values from resizingElements\n                            const resizeData = resizingElements[element.id];\n                            const originalFontSize = resizeData?.originalFontSize ?? textElement.fontSize;\n                            const originalWidth = resizeData?.originalWidth ?? element.size.width;\n\n                            // Calculate new font size based on original values\n                            const scaleFactor = size.width / originalWidth;\n                            const newFontSize = Math.round(originalFontSize * scaleFactor);\n                            const clampedFontSize = Math.max(12, Math.min(72, newFontSize));\n\n                            handleResize(element.id, e, {\n                              size: { width: size.width, height: size.height },\n                              node: e.target as HTMLElement,\n                              handle: 'se'\n                            });\n\n                            // âœ… Update font size immediately during resize for smooth feedback\n                            setElements(prev => prev.map(el =>\n                              el.id === element.id && el.type === 'text'\n                                ? { ...el, fontSize: clampedFontSize }\n                                : el\n                            ));\n                          }}\n                          onResizeStop={(e, data) => {\n                            // Get the original values from resizingElements\n                            const resizeData = resizingElements[element.id];\n                            const originalFontSize = resizeData?.originalFontSize ?? textElement.fontSize;\n                            const originalWidth = resizeData?.originalWidth ?? element.size.width;\n\n                            // Calculate final font size based on original values\n                            const scaleFactor = data.size.width / originalWidth;\n                            const newFontSize = Math.round(originalFontSize * scaleFactor);\n                            const clampedFontSize = Math.max(12, Math.min(72, newFontSize));\n\n                            handleResizeStop(element.id, e, data);\n\n                            // Update font size and keep the new size (don't reset!)\n                            setElements(prev => prev.map(el =>\n                              el.id === element.id && el.type === 'text'\n                                ? {\n                                    ...el,\n                                    fontSize: clampedFontSize,\n                                    size: data.size // Keep the new size instead of resetting\n                                  }\n                                : el\n                            ));\n\n                            // Clear resizing data\n                            setResizingElements(prev => {\n                              const newState = { ...prev };\n                              delete newState[element.id];\n                              return newState;\n                            });\n                          }}\n                          resizeHandles={['se', 'sw', 'ne', 'nw']}\n                          minConstraints={[100, 24]}\n                          maxConstraints={[600, 400]}\n                        >\n                          {/* Border wrapper - auto-fits content naturally */}\n                          <div\n                            style={{\n                              display: 'inline-block',\n                              border: isSelected ? '2px solid #8b5cf6' : '2px solid transparent',\n                              borderRadius: '2px',\n                              padding: '8px',\n                              background: 'transparent',\n                              transition: 'border-color 0.15s ease',\n                              cursor: isEditing ? 'text' : 'move',\n                            }}\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              if (!isSelected) {\n                                setSelectedElementId(element.id);\n                              }\n                            }}\n                            onDoubleClick={(e) => {\n                              e.stopPropagation();\n                              const target = e.currentTarget;\n                              setEditingTextElementId(element.id);\n\n                              requestAnimationFrame(() => {\n                                const editableDiv = target?.querySelector('.text-content-editable') as HTMLDivElement;\n                                if (editableDiv) {\n                                  editableDiv.focus();\n\n                                  if (isEmpty) {\n                                    try {\n                                      const range = document.createRange();\n                                      range.selectNodeContents(editableDiv);\n                                      const sel = window.getSelection();\n                                      sel?.removeAllRanges();\n                                      sel?.addRange(range);\n                                    } catch {\n                                      // Ignore selection errors\n                                    }\n                                  }\n                                }\n                              });\n                            }}\n                          >\n                          <div\n                            className=\"text-content-editable\"\n                            contentEditable={isEditing}\n                            suppressContentEditableWarning\n                            style={{\n                              minWidth: '100px',\n                              maxWidth: '600px',\n                              fontSize: `${textElement.fontSize}px`,\n                              color: isEmpty && !isEditing ? '#9ca3af' : textElement.color,\n                              fontWeight: textElement.fontWeight ?? 'normal',\n                              fontStyle: isEmpty && !isEditing ? 'italic' : (textElement.fontStyle ?? 'normal'),\n                              textDecoration: textElement.textDecoration ?? 'none',\n                              textAlign: textElement.textAlign ?? 'right',\n                              outline: 'none',\n                              wordWrap: 'break-word',\n                              whiteSpace: 'pre-wrap',\n                              minHeight: '24px',\n                              lineHeight: '1.5',\n                            }}\n                            onFocus={(e) => {\n                              setEditingTextElementId(element.id);\n                              if (isEmpty) {\n                                e.currentTarget.textContent = '';\n                              }\n                            }}\n                            onBlur={(e) => {\n                              setEditingTextElementId(null);\n                              const newContent = e.currentTarget.textContent?.trim() || '';\n\n                              setElements(prev => prev.map(el =>\n                                el.id === element.id && el.type === 'text'\n                                  ? { ...el, content: newContent || 'Ø§Ù†Ù‚Ø± Ù…Ø±ØªÙŠÙ† Ù„Ù„ØªØ­Ø±ÙŠØ±' }\n                                  : el\n                              ));\n\n                              if (!newContent) {\n                                e.currentTarget.textContent = 'Ø§Ù†Ù‚Ø± Ù…Ø±ØªÙŠÙ† Ù„Ù„ØªØ­Ø±ÙŠØ±';\n                              }\n                            }}\n                            onKeyDown={(e) => {\n                              e.stopPropagation();\n                              if (e.key === 'Escape') {\n                                e.currentTarget.blur();\n                              }\n                            }}\n                          >\n                            {isEmpty && !isEditing ? 'Ø§Ù†Ù‚Ø± Ù…Ø±ØªÙŠÙ† Ù„Ù„ØªØ­Ø±ÙŠØ±' : textElement.content}\n                          </div>\n                        </div>\n                        </Resizable>\n                      </div>\n                    </Draggable>\n                  );\n                }\n\n                // Render Image Element\n                if (element.type === 'image') {\n                  const imageElement = element as ImageElement;\n                  const imageNodeRef = createRef<HTMLDivElement>();\n\n                  return (\n                    <Draggable\n                      key={element.id}\n                      nodeRef={imageNodeRef}\n                      defaultPosition={element.position}\n                      onDrag={(e, data) => handleDrag(element.id, e, data)}\n                      onStop={(e, data) => handleDragStop(element.id, e, data)}\n                      bounds=\"parent\"\n                      disabled={element.locked}\n                      grid={snapEnabled ? [GRID_SIZE, GRID_SIZE] : undefined}\n                      cancel=\".react-resizable-handle\"\n                    >\n                      <div ref={imageNodeRef} className=\"absolute cursor-default\" style={{ zIndex: element.zIndex }}>\n                        {/* Border wrapper with element-selected class */}\n                        <div\n                          className={cn(\n                            \"relative transition-all duration-200\",\n                            isSelected && \"ring-4 ring-green-500 ring-offset-2 element-selected\"\n                          )}\n                          onClick={(e) => {\n                            e.stopPropagation();\n                            setSelectedElementId(element.id);\n                          }}\n                        >\n                          <Resizable\n                            width={resizingElements[element.id]?.width ?? element.size.width}\n                            height={resizingElements[element.id]?.height ?? element.size.height}\n                            onResize={(e, {size, node, handle}) => {\n                              // Apply grid snapping for smoother, faster resize (10px increments)\n                              const snappedWidth = Math.round(size.width / 10) * 10;\n                              const snappedHeight = Math.round(size.height / 10) * 10;\n                              handleResize(element.id, e, { node, size: { width: snappedWidth, height: snappedHeight }, handle });\n                            }}\n                            onResizeStop={(e, data) => {\n                              // Apply grid snapping to final size\n                              const snappedWidth = Math.round(data.size.width / 10) * 10;\n                              const snappedHeight = Math.round(data.size.height / 10) * 10;\n                              handleResizeStop(element.id, e, { ...data, size: { width: snappedWidth, height: snappedHeight } });\n                            }}\n                            resizeHandles={['se', 'sw', 'ne', 'nw']}\n                            minConstraints={[50, 50]}\n                            maxConstraints={[800, 800]}\n                          >\n                            <div\n                              style={{\n                                width: resizingElements[element.id]?.width ?? element.size.width,\n                                height: resizingElements[element.id]?.height ?? element.size.height,\n                              }}\n                            >\n                              <img\n                                src={imageElement.src}\n                                alt=\"Element\"\n                                className=\"w-full h-full object-contain\"\n                              />\n                            </div>\n                          </Resizable>\n                        </div>\n                      </div>\n                    </Draggable>\n                  );\n                }\n\n                // Phase 6: Render Group Element\n                if (element.type === 'group') {\n                  const groupElement = element as GroupElement;\n                  const groupNodeRef = createRef<HTMLDivElement>();\n\n                  // Get all elements in the group\n                  const groupElements = elements.filter(el => groupElement.elementIds.includes(el.id));\n\n                  // Calculate bounding box\n                  if (groupElements.length === 0) return null;\n\n                  const minX = Math.min(...groupElements.map(el => el.position.x));\n                  const minY = Math.min(...groupElements.map(el => el.position.y));\n                  const maxX = Math.max(...groupElements.map(el => el.position.x + el.size.width));\n                  const maxY = Math.max(...groupElements.map(el => el.position.y + el.size.height));\n\n                  return (\n                    <Draggable\n                      key={element.id}\n                      nodeRef={groupNodeRef}\n                      defaultPosition={{ x: minX, y: minY }}\n                      onStop={(_e, data) => {\n                        // Calculate delta from original position\n                        const deltaX = data.x - minX;\n                        const deltaY = data.y - minY;\n\n                        // Move all elements in the group\n                        setElements(prev => {\n                          const updated = prev.map(el => {\n                            if (groupElement.elementIds.includes(el.id)) {\n                              return {\n                                ...el,\n                                position: {\n                                  x: el.position.x + deltaX,\n                                  y: el.position.y + deltaY,\n                                }\n                              };\n                            }\n                            return el;\n                          });\n                          saveToHistory(updated);\n                          return updated;\n                        });\n                      }}\n                      bounds=\"parent\"\n                      disabled={element.locked}\n                      grid={snapEnabled ? [GRID_SIZE, GRID_SIZE] : undefined}\n                    >\n                      <div\n                        ref={groupNodeRef}\n                        className=\"absolute cursor-move\"\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          handleElementSelect(element.id, e.ctrlKey);\n                        }}\n                      >\n                        {/* Group Bounding Box */}\n                        <div\n                          className={cn(\n                            \"relative border-2 border-dashed transition-all duration-200\",\n                            isSelected\n                              ? \"border-blue-500 bg-blue-50/10\"\n                              : \"border-gray-400 bg-gray-50/5\"\n                          )}\n                          style={{\n                            width: maxX - minX,\n                            height: maxY - minY,\n                            pointerEvents: 'none', // Allow clicking through to elements\n                          }}\n                        >\n                          {/* Group Label */}\n                          {!isExporting && (\n                            <div className=\"absolute -top-6 left-0 bg-blue-500 text-white text-xs px-2 py-0.5 rounded shadow-sm pointer-events-auto\">\n                              {groupElement.name} ({groupElement.elementIds.length} Ø¹Ù†Ø§ØµØ±)\n                            </div>\n                          )}\n                        </div>\n                      </div>\n                    </Draggable>\n                  );\n                }\n\n                return null;\n              })}\n\n              {/* Empty State */}\n              {elements.length === 0 && (\n                <div className=\"flex items-center justify-center h-full\">\n                  <p className=\"text-gray-400\">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¹Ù†Ø§ØµØ±</p>\n                </div>\n              )}\n\n              {/* Alignment Guides (Phase 2) */}\n              {isDragging && !isExporting && (\n                <>\n                  {/* Alignment Type Tooltip */}\n                  {alignmentType && (\n                    <div\n                      className=\"absolute top-4 left-1/2 transform -translate-x-1/2 pointer-events-none z-[10000]\"\n                    >\n                      <div className=\"bg-gray-900 text-white text-xs px-3 py-1.5 rounded-lg shadow-lg animate-in fade-in duration-150\">\n                        {alignmentType}\n                      </div>\n                    </div>\n                  )}\n\n                  {/* Vertical guides */}\n                  {alignmentGuides.vertical.map((x, index) => {\n                    // Check if this is a center guide\n                    const isCenter = Math.abs(x - pageWidth / 2) < 1;\n                    const isMargin = Math.abs(x - margins.left) < 1 || Math.abs(x - (pageWidth - margins.right)) < 1;\n\n                    return (\n                      <div\n                        key={`v-${index}`}\n                        className=\"absolute top-0 bottom-0 pointer-events-none animate-in fade-in duration-150\"\n                        style={{\n                          left: `${x}px`,\n                          width: isCenter ? '2px' : '1px',\n                          backgroundColor: isCenter ? '#3b82f6' : isMargin ? '#10b981' : '#ef4444', // blue for center, green for margins, red for elements\n                          boxShadow: isCenter\n                            ? '0 0 8px rgba(59, 130, 246, 0.6)'\n                            : isMargin\n                            ? '0 0 6px rgba(16, 185, 129, 0.5)'\n                            : '0 0 4px rgba(239, 68, 68, 0.5)',\n                          zIndex: 9999,\n                        }}\n                      />\n                    );\n                  })}\n\n                  {/* Horizontal guides */}\n                  {alignmentGuides.horizontal.map((y, index) => {\n                    // Check if this is a center guide\n                    const isCenter = Math.abs(y - pageHeight / 2) < 1;\n                    const isMargin = Math.abs(y - margins.top) < 1 || Math.abs(y - (pageHeight - margins.bottom)) < 1;\n\n                    return (\n                      <div\n                        key={`h-${index}`}\n                        className=\"absolute left-0 right-0 pointer-events-none animate-in fade-in duration-150\"\n                        style={{\n                          top: `${y}px`,\n                          height: isCenter ? '2px' : '1px',\n                          backgroundColor: isCenter ? '#3b82f6' : isMargin ? '#10b981' : '#ef4444', // blue for center, green for margins, red for elements\n                          boxShadow: isCenter\n                            ? '0 0 8px rgba(59, 130, 246, 0.6)'\n                            : isMargin\n                            ? '0 0 6px rgba(16, 185, 129, 0.5)'\n                            : '0 0 4px rgba(239, 68, 68, 0.5)',\n                          zIndex: 9999,\n                        }}\n                      />\n                    );\n                  })}\n                </>\n              )}\n            </div>\n          </div>\n          </div>\n        </div>\n\n        {/* Mobile Layers Overlay Panel */}\n        {mobileLayersOpen && (\n          <div className=\"lg:hidden absolute inset-0 z-40 flex\">\n            {/* Backdrop */}\n            <div\n              className=\"absolute inset-0 bg-black/30\"\n              onClick={() => setMobileLayersOpen(false)}\n            />\n            {/* Panel */}\n            <div className=\"relative w-72 max-w-[80vw] bg-white shadow-xl flex flex-col animate-in slide-in-from-left duration-200\">\n              <div className=\"p-3 border-b flex items-center justify-between\">\n                <h3 className=\"font-semibold text-sm\">Ø§Ù„Ø·Ø¨Ù‚Ø§Øª (Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©)</h3>\n                <Button\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  onClick={() => setMobileLayersOpen(false)}\n                  className=\"h-8 w-8 p-0\"\n                >\n                  <X className=\"w-4 h-4\" />\n                </Button>\n              </div>\n              <ScrollArea className=\"flex-1\">\n                <div className=\"p-2 space-y-1\">\n                  {getCurrentPageElements().length === 0 ? (\n                    <p className=\"text-xs text-gray-400 text-center py-4\">\n                      Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ø¨Ù‚Ø§Øª ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„ØµÙØ­Ø©\n                    </p>\n                  ) : (\n                    getCurrentPageElements()\n                      .sort((a, b) => b.zIndex - a.zIndex)\n                      .map(element => (\n                        <div\n                          key={element.id}\n                          className={cn(\n                            \"flex items-center gap-2 p-2 rounded cursor-pointer hover:bg-gray-100 transition-colors\",\n                            selectedElementIds.includes(element.id) && \"bg-blue-100 hover:bg-blue-200\"\n                          )}\n                          onClick={(e) => {\n                            handleElementSelect(element.id, e.ctrlKey);\n                            setMobileLayersOpen(false);\n                          }}\n                        >\n                          <Move className=\"w-4 h-4 text-gray-400\" />\n                          <div className=\"flex-1 min-w-0\">\n                            <p className=\"text-xs font-medium truncate\">\n                              {element.type === 'title' && 'ğŸ¯ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø­Ø¯Ø«'}\n                              {element.type === 'table-title' && `ğŸ“ ${(element as TableTitleElement).content}`}\n                              {element.type === 'table' && 'ğŸ“Š Ø¬Ø¯ÙˆÙ„'}\n                              {element.type === 'text' && 'Ù†Øµ Ø­Ø±'}\n                              {element.type === 'image' && 'ØµÙˆØ±Ø©'}\n                              {element.type === 'group' && 'ğŸ“¦ Ù…Ø¬Ù…ÙˆØ¹Ø©'}\n                            </p>\n                          </div>\n                          <Button\n                            variant=\"ghost\"\n                            size=\"sm\"\n                            className=\"h-6 w-6 p-0\"\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              toggleElementVisibility(element.id);\n                            }}\n                            title={element.visible ? \"Ø¥Ø®ÙØ§Ø¡\" : \"Ø¥Ø¸Ù‡Ø§Ø±\"}\n                          >\n                            {element.visible ? <Eye className=\"w-3 h-3\" /> : <EyeOff className=\"w-3 h-3\" />}\n                          </Button>\n                          <Button\n                            variant=\"ghost\"\n                            size=\"sm\"\n                            className=\"h-6 w-6 p-0 hover:bg-red-100 hover:text-red-600\"\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              deleteElement(element.id);\n                            }}\n                            title=\"Ø­Ø°Ù\"\n                          >\n                            <Trash2 className=\"w-3 h-3\" />\n                          </Button>\n                        </div>\n                      ))\n                  )}\n                </div>\n              </ScrollArea>\n            </div>\n          </div>\n        )}\n\n        {/* Mobile Pages Overlay Panel */}\n        {mobilePagesOpen && (\n          <div className=\"lg:hidden absolute inset-0 z-40 flex\">\n            {/* Backdrop */}\n            <div\n              className=\"absolute inset-0 bg-black/30\"\n              onClick={() => setMobilePagesOpen(false)}\n            />\n            {/* Panel */}\n            <div className=\"relative w-56 max-w-[70vw] bg-white shadow-xl flex flex-col animate-in slide-in-from-left duration-200\">\n              <div className=\"p-3 border-b flex items-center justify-between\">\n                <h3 className=\"font-semibold text-sm\">Ø§Ù„ØµÙØ­Ø§Øª</h3>\n                <Button\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  onClick={() => setMobilePagesOpen(false)}\n                  className=\"h-8 w-8 p-0\"\n                >\n                  <X className=\"w-4 h-4\" />\n                </Button>\n              </div>\n              <ScrollArea className=\"flex-1\">\n                <div className=\"p-2 space-y-2\">\n                  {pages.sort((a, b) => a.order - b.order).map((page) => {\n                    const pageElements = elements.filter(el => el.pageId === page.id);\n                    const isCurrentPage = page.id === currentPageId;\n                    return (\n                      <div\n                        key={page.id}\n                        className={cn(\n                          \"border rounded-lg p-2 cursor-pointer transition-all hover:shadow-md\",\n                          isCurrentPage ? \"border-blue-500 bg-blue-50\" : \"border-gray-200 hover:border-gray-300\"\n                        )}\n                        onClick={() => {\n                          goToPage(page.id);\n                          setMobilePagesOpen(false);\n                        }}\n                      >\n                        <div className={cn(\n                          \"w-full aspect-[794/1122] bg-white border rounded mb-2 flex items-center justify-center\",\n                          isCurrentPage ? \"border-blue-400\" : \"border-gray-300\"\n                        )}>\n                          <FileText className={cn(\n                            \"w-8 h-8\",\n                            isCurrentPage ? \"text-blue-500\" : \"text-gray-400\"\n                          )} />\n                        </div>\n                        <div className=\"text-xs\">\n                          <div className={cn(\n                            \"font-medium mb-1\",\n                            isCurrentPage ? \"text-blue-700\" : \"text-gray-700\"\n                          )}>\n                            {page.name}\n                          </div>\n                          <div className=\"text-gray-500\">\n                            {pageElements.length} Ø¹Ù†ØµØ±\n                          </div>\n                        </div>\n                      </div>\n                    );\n                  })}\n                </div>\n              </ScrollArea>\n            </div>\n          </div>\n        )}\n\n        {/* Mobile Floating Action Buttons */}\n        <div className=\"lg:hidden absolute bottom-4 left-4 right-4 flex justify-center gap-3 z-50\">\n          <Button\n            variant={mobileLayersOpen ? \"default\" : \"secondary\"}\n            size=\"sm\"\n            onClick={() => {\n              setMobileLayersOpen(!mobileLayersOpen);\n              setMobilePagesOpen(false);\n            }}\n            className=\"shadow-lg gap-2\"\n          >\n            <Layers className=\"w-4 h-4\" />\n            Ø§Ù„Ø·Ø¨Ù‚Ø§Øª\n          </Button>\n          <Button\n            variant={mobilePagesOpen ? \"default\" : \"secondary\"}\n            size=\"sm\"\n            onClick={() => {\n              setMobilePagesOpen(!mobilePagesOpen);\n              setMobileLayersOpen(false);\n            }}\n            className=\"shadow-lg gap-2\"\n          >\n            <FileStack className=\"w-4 h-4\" />\n            Ø§Ù„ØµÙØ­Ø§Øª\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// Default export for dynamic imports\nexport default EnhancedHTMLEditor;\n"],"names":[],"mappings":"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","debugId":null}}]
}
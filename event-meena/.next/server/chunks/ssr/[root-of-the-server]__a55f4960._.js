module.exports=[19700,a=>{"use strict";let b=(0,a.i(70712).default)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);a.s(["BarChart3",()=>b],19700)},6562,a=>{"use strict";let b=(0,a.i(70712).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);a.s(["Clock",()=>b],6562)},72025,a=>{"use strict";let b=(0,a.i(70712).default)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]]);a.s(["Home",()=>b],72025)},60570,a=>{"use strict";var b=a.i(21910),c=a.i(45544),d=a.i(24669),e=a.i(92001);let f=(0,d.cva)("inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function g({className:a,variant:d,asChild:g=!1,...h}){let i=g?c.Slot:"span";return(0,b.jsx)(i,{"data-slot":"badge",className:(0,e.cn)(f({variant:d}),a),...h})}a.s(["Badge",()=>g])},85020,a=>{"use strict";let b=(0,a.i(70712).default)("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);a.s(["LayoutDashboard",()=>b],85020)},90941,a=>{"use strict";let b=(0,a.i(70712).default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);a.s(["LogOut",()=>b],90941)},21892,a=>{"use strict";let b=(0,a.i(70712).default)("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]);a.s(["Menu",()=>b],21892)},45610,a=>{"use strict";var b=a.i(89517);a.s(["ChevronDown",()=>b.default])},46195,a=>{"use strict";let b=(0,a.i(70712).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);a.s(["Search",()=>b],46195)},5742,47752,48041,a=>{"use strict";var b=a.i(21910),c=a.i(9765),d=a.i(61393),e=a.i(53377),f=a.i(69798);function g({children:a}){let g=(0,d.useRouter)(),{isAuthenticated:h,isLoading:i,checkAuth:j}=(0,f.useAuthStore)();return((0,c.useEffect)(()=>{j()},[j]),(0,c.useEffect)(()=>{i||h||g.push("/login")},[h,i,g]),i||!h)?(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(e.Loader2,{className:"w-12 h-12 text-primary animate-spin mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-gray-600",children:"جاري التحقق من الجلسة..."})]})}):(0,b.jsx)(b.Fragment,{children:a})}a.s(["default",()=>g],5742);let h=(0,a.i(70712).default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);a.s(["default",()=>h],47752),a.s(["ChevronRight",()=>h],48041)},79487,a=>{"use strict";let b=(0,a.i(70712).default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);a.s(["Users",()=>b],79487)},80950,a=>{"use strict";let b=(0,a.i(70712).default)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Settings",()=>b],80950)},84578,a=>{"use strict";var b=a.i(21910),c=a.i(92001);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardHeader",()=>e,"CardTitle",()=>f])},67763,a=>{"use strict";let b=(0,a.i(70712).default)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]);a.s(["Sparkles",()=>b],67763)},89517,a=>{"use strict";let b=(0,a.i(70712).default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);a.s(["default",()=>b])},18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},24361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},14747,(a,b,c)=>{b.exports=a.x("path",()=>require("path"))},92439,85977,a=>{"use strict";let b=(0,a.i(70712).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);a.s(["default",()=>b],85977),a.s(["X",()=>b],92439)},69798,33268,a=>{"use strict";var b=a.i(9765);let c=a=>{let b,c=new Set,d=(a,d)=>{let e="function"==typeof a?a(b):a;if(!Object.is(e,b)){let a=b;b=(null!=d?d:"object"!=typeof e||null===e)?e:Object.assign({},b,e),c.forEach(c=>c(b,a))}},e=()=>b,f={setState:d,getState:e,getInitialState:()=>g,subscribe:a=>(c.add(a),()=>c.delete(a))},g=b=a(d,e,f);return f},d=a=>{let d=a?c(a):c,e=a=>(function(a,c=a=>a){let d=b.default.useSyncExternalStore(a.subscribe,b.default.useCallback(()=>c(a.getState()),[a,c]),b.default.useCallback(()=>c(a.getInitialState()),[a,c]));return b.default.useDebugValue(d),d})(d,a);return Object.assign(e,d),e},e=a=>a?d(a):d;a.s(["create",()=>e],33268);var f=a.i(18230),g=a.i(19114);let h=e(a=>({user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null,login:async b=>{a({isLoading:!0,error:null});try{let c=await f.authService.login(b);a({user:c.user,token:c.token,isAuthenticated:!0,isLoading:!1,error:null})}catch(b){throw a({user:null,token:null,isAuthenticated:!1,isLoading:!1,error:b instanceof g.ApiError||b instanceof Error?b.message:"حدث خطأ أثناء تسجيل الدخول"}),b}},signup:async b=>{a({isLoading:!0,error:null});try{let c=await f.authService.register(b);a({user:c.user,token:c.token,isAuthenticated:!0,isLoading:!1,error:null})}catch(b){throw a({user:null,token:null,isAuthenticated:!1,isLoading:!1,error:b instanceof g.ApiError||b instanceof Error?b.message:"حدث خطأ أثناء إنشاء الحساب"}),b}},logout:async()=>{a({isLoading:!0});try{await f.authService.logout()}finally{a({user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null})}},checkAuth:async()=>{if(!g.tokenManager.hasValidToken())return void a({user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null});a({isLoading:!0});try{let b=await f.authService.getCurrentUser(),c=g.tokenManager.getAccessToken();a({user:b,token:c,isAuthenticated:!0,isLoading:!1,error:null})}catch{g.tokenManager.clearTokens(),a({user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null})}},updateProfile:async b=>{a({isLoading:!0,error:null});try{let c=await f.authService.updateProfile(b);a({user:c,isLoading:!1,error:null})}catch(b){throw a({isLoading:!1,error:b instanceof g.ApiError||b instanceof Error?b.message:"حدث خطأ أثناء تحديث الملف الشخصي"}),b}},clearError:()=>{a({error:null})}}));a.s(["useAuthStore",0,h],69798)},17775,a=>{"use strict";let b=(0,a.i(70712).default)("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);a.s(["default",()=>b])},35032,a=>{"use strict";let b=(0,a.i(70712).default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);a.s(["Copy",()=>b],35032)},10551,a=>{"use strict";let b=(0,a.i(70712).default)("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);a.s(["Share2",()=>b],10551)},28675,a=>{"use strict";let b=(0,a.i(70712).default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);a.s(["Send",()=>b],28675)},17579,a=>{"use strict";let b=(0,a.i(70712).default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);a.s(["Mail",()=>b],17579)},16066,a=>{"use strict";let b=(0,a.i(70712).default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);a.s(["Phone",()=>b],16066)},25560,a=>{"use strict";let b=(0,a.i(70712).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);a.s(["CheckCircle2",()=>b],25560)},42370,a=>{"use strict";let b=(0,a.i(70712).default)("pen-tool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);a.s(["PenTool",()=>b],42370)},66680,(a,b,c)=>{b.exports=a.x("node:crypto",()=>require("node:crypto"))},80197,a=>{"use strict";var b=a.i(66680);let c={randomUUID:b.randomUUID},d=new Uint8Array(256),e=d.length,f=[];for(let a=0;a<256;++a)f.push((a+256).toString(16).slice(1));a.s(["v4",0,function(a,g,h){if(c.randomUUID&&!g&&!a)return c.randomUUID();var i=a,j=h;let k=(i=i||{}).random??i.rng?.()??(e>d.length-16&&((0,b.randomFillSync)(d),e=0),d.slice(e,e+=16));if(k.length<16)throw Error("Random bytes length must be >= 16");if(k[6]=15&k[6]|64,k[8]=63&k[8]|128,g){if((j=j||0)<0||j+16>g.length)throw RangeError(`UUID byte range ${j}:${j+15} is out of buffer bounds`);for(let a=0;a<16;++a)g[j+a]=k[a];return g}return function(a,b=0){return(f[a[b+0]]+f[a[b+1]]+f[a[b+2]]+f[a[b+3]]+"-"+f[a[b+4]]+f[a[b+5]]+"-"+f[a[b+6]]+f[a[b+7]]+"-"+f[a[b+8]]+f[a[b+9]]+"-"+f[a[b+10]]+f[a[b+11]]+f[a[b+12]]+f[a[b+13]]+f[a[b+14]]+f[a[b+15]]).toLowerCase()}(k)}],80197)},19488,a=>{"use strict";let b=(0,a.i(70712).default)("link-2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);a.s(["Link2",()=>b],19488)},64082,a=>{"use strict";function b(){return{toast:({title:a,description:b,variant:c})=>{let d=b?`${a}
${b}`:a;"destructive"===c?alert(`❌ ${d}`):alert(`✅ ${d}`)}}}a.s(["useToast",()=>b])},66691,a=>{"use strict";let b=(0,a.i(70712).default)("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);a.s(["HelpCircle",()=>b],66691)},21914,a=>{"use strict";let b=(0,a.i(70712).default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);a.s(["Star",()=>b],21914)},86632,a=>{"use strict";let b=(0,a.i(70712).default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);a.s(["ExternalLink",()=>b],86632)},65049,a=>{"use strict";let b=(0,a.i(70712).default)("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);a.s(["Video",()=>b],65049)},83692,a=>{"use strict";let b=(0,a.i(70712).default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);a.s(["AlertTriangle",()=>b],83692)},70133,a=>{"use strict";let b=(0,a.i(70712).default)("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);a.s(["Layers",()=>b],70133)},18747,a=>{"use strict";var b=a.i(33268),c=a.i(6643),d=a.i(19114);let e=(0,b.create)((a,b)=>({contacts:[],groups:[],currentContact:null,currentGroup:null,isLoading:!1,error:null,filters:{},groupsFilters:{},fetchContacts:async()=>{a({isLoading:!0,error:null});try{let b=await c.contactsService.getAll();a({contacts:b,isLoading:!1})}catch(b){a({error:b instanceof d.ApiError||b instanceof Error?b.message:"فشل تحميل جهات الاتصال",isLoading:!1})}},fetchContactById:async b=>{a({isLoading:!0,error:null});try{let d=await c.contactsService.getById(b);a({currentContact:d,isLoading:!1})}catch(b){a({error:b instanceof d.ApiError||b instanceof Error?b.message:"فشل تحميل جهة الاتصال",isLoading:!1})}},createContact:async e=>{a({isLoading:!0,error:null});try{let d=await c.contactsService.create(e);return a(a=>({contacts:[d,...a.contacts],isLoading:!1})),e.groupIds&&e.groupIds.length>0&&await b().fetchGroups(),d}catch(b){throw a({error:b instanceof d.ApiError||b instanceof Error?b.message:"فشل إنشاء جهة الاتصال",isLoading:!1}),b}},updateContact:async(e,f)=>{a({isLoading:!0,error:null});try{let d=await c.contactsService.update(e,f);a(a=>({contacts:a.contacts.map(a=>a.id===e?d:a),currentContact:a.currentContact?.id===e?d:a.currentContact,isLoading:!1})),await b().fetchGroups()}catch(b){throw a({error:b instanceof d.ApiError||b instanceof Error?b.message:"فشل تحديث جهة الاتصال",isLoading:!1}),b}},deleteContact:async e=>{a({isLoading:!0,error:null});try{await c.contactsService.delete(e),a(a=>({contacts:a.contacts.filter(a=>a.id!==e),currentContact:a.currentContact?.id===e?null:a.currentContact,isLoading:!1})),await b().fetchGroups()}catch(b){throw a({error:b instanceof d.ApiError||b instanceof Error?b.message:"فشل حذف جهة الاتصال",isLoading:!1}),b}},fetchGroups:async()=>{a({isLoading:!0,error:null});try{let b=await c.groupsService.getAll();a({groups:b,isLoading:!1})}catch(b){a({error:b instanceof d.ApiError||b instanceof Error?b.message:"فشل تحميل المجموعات",isLoading:!1})}},fetchGroupById:async b=>{a({isLoading:!0,error:null});try{let d=await c.groupsService.getById(b);a({currentGroup:d,isLoading:!1})}catch(b){a({error:b instanceof d.ApiError||b instanceof Error?b.message:"فشل تحميل المجموعة",isLoading:!1})}},createGroup:async e=>{a({isLoading:!0,error:null});try{let d=await c.groupsService.create(e);return a(a=>({groups:[d,...a.groups],isLoading:!1})),e.contactIds&&e.contactIds.length>0&&await b().fetchContacts(),d}catch(b){throw a({error:b instanceof d.ApiError||b instanceof Error?b.message:"فشل إنشاء المجموعة",isLoading:!1}),b}},updateGroup:async(e,f)=>{a({isLoading:!0,error:null});try{let d=await c.groupsService.update(e,f);a(a=>({groups:a.groups.map(a=>a.id===e?d:a),currentGroup:a.currentGroup?.id===e?d:a.currentGroup,isLoading:!1})),await b().fetchContacts()}catch(b){throw a({error:b instanceof d.ApiError||b instanceof Error?b.message:"فشل تحديث المجموعة",isLoading:!1}),b}},deleteGroup:async e=>{a({isLoading:!0,error:null});try{await c.groupsService.delete(e),a(a=>({groups:a.groups.filter(a=>a.id!==e),currentGroup:a.currentGroup?.id===e?null:a.currentGroup,isLoading:!1})),await b().fetchContacts()}catch(b){throw a({error:b instanceof d.ApiError||b instanceof Error?b.message:"فشل حذف المجموعة",isLoading:!1}),b}},addContactsToGroup:async(e,f)=>{a({isLoading:!0,error:null});try{await c.groupsService.addContacts(e,f),await b().fetchGroups(),await b().fetchContacts(),a({isLoading:!1})}catch(b){throw a({error:b instanceof d.ApiError||b instanceof Error?b.message:"فشل إضافة جهات الاتصال",isLoading:!1}),b}},removeContactsFromGroup:async(e,f)=>{a({isLoading:!0,error:null});try{await c.groupsService.removeContacts(e,f),await b().fetchGroups(),await b().fetchContacts(),a({isLoading:!1})}catch(b){throw a({error:b instanceof d.ApiError||b instanceof Error?b.message:"فشل إزالة جهات الاتصال",isLoading:!1}),b}},setFilters:b=>{a({filters:b})},setGroupsFilters:b=>{a({groupsFilters:b})},getFilteredContacts:()=>{let{contacts:a,filters:c}=b(),d=[...a];if(c.search){let a=c.search.toLowerCase();d=d.filter(b=>b.name.toLowerCase().includes(a)||b.email.toLowerCase().includes(a)||b.phone?.toLowerCase().includes(a))}return c.groupId&&(d=d.filter(a=>a.groupIds.includes(c.groupId))),c.tags&&c.tags.length>0&&(d=d.filter(a=>c.tags.some(b=>a.tags.includes(b)))),d},getFilteredGroups:()=>{let{groups:a,groupsFilters:c}=b(),d=[...a];if(c.search){let a=c.search.toLowerCase();d=d.filter(b=>b.name.toLowerCase().includes(a)||b.description?.toLowerCase().includes(a))}return d},getContactsByGroup:a=>{let{contacts:c}=b();return c.filter(b=>b.groupIds.includes(a))},getGroupsByContact:a=>{let{groups:c}=b();return c.filter(b=>b.contactIds.includes(a))},searchContacts:a=>{let{contacts:c}=b(),d=a.toLowerCase();return c.filter(a=>a.name.toLowerCase().includes(d)||a.email.toLowerCase().includes(d)||a.phone?.toLowerCase().includes(d))},searchGroups:a=>{let{groups:c}=b(),d=a.toLowerCase();return c.filter(a=>a.name.toLowerCase().includes(d)||a.description?.toLowerCase().includes(d))}}));a.s(["useContactsStore",0,e])},11242,a=>{"use strict";let b=(0,a.i(70712).default)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);a.s(["UserPlus",()=>b],11242)},32884,a=>{"use strict";let b=(0,a.i(70712).default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);a.s(["XCircle",()=>b],32884)},46017,a=>{"use strict";var b=a.i(33268),c=a.i(80197);let d=a=>{},e=(0,b.create)((a,b)=>({templates:[],isLoading:!1,error:null,loadTemplates:()=>{a({isLoading:!0});try{a({templates:[],isLoading:!1,error:null})}catch(b){a({isLoading:!1,error:b instanceof Error?b.message:"Failed to load templates"})}},createTemplate:e=>{let f=new Date().toISOString(),g={id:(0,c.v4)(),userId:"",...e,usageCount:0,createdAt:f,updatedAt:f,isFavorite:!1},h=[...b().templates,g];return a({templates:h}),d(h),g},updateTemplate:(c,e)=>{let f=b().templates.map(a=>a.id===c?{...a,...e,updatedAt:new Date().toISOString()}:a);a({templates:f}),d(f)},deleteTemplate:c=>{let e=b().templates.filter(a=>a.id!==c);a({templates:e}),d(e)},duplicateTemplate:e=>{let f=b().templates.find(a=>a.id===e);if(!f)throw Error("Template not found");let g=new Date().toISOString(),h={...f,id:(0,c.v4)(),name:`${f.name} (نسخة)`,usageCount:0,createdAt:g,updatedAt:g,isFavorite:!1},i=[...b().templates,h];return a({templates:i}),d(i),h},incrementUsageCount:c=>{let e=b().templates.map(a=>a.id===c?{...a,usageCount:a.usageCount+1}:a);a({templates:e}),d(e)},toggleFavorite:c=>{let e=b().templates.map(a=>a.id===c?{...a,isFavorite:!a.isFavorite}:a);a({templates:e}),d(e)},getTemplateById:a=>b().templates.find(b=>b.id===a),getTemplatesByType:a=>b().templates.filter(b=>b.type===a),searchTemplates:a=>{let c=a.toLowerCase();return b().templates.filter(a=>a.name.toLowerCase().includes(c)||a.description.toLowerCase().includes(c)||a.tags?.some(a=>a.toLowerCase().includes(c)))},clearTemplates:()=>{a({templates:[]}),d([])}}));a.s(["useUserTemplatesStore",0,e])},11115,a=>{"use strict";let b=(0,a.i(70712).default)("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);a.s(["MoreVertical",()=>b],11115)},2995,91084,a=>{"use strict";var b=a.i(21910),c=a.i(60570),d=a.i(47278),e=a.i(14833);let f=(0,a.i(70712).default)("archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);a.s(["Archive",()=>f],91084);let g={draft:{label:"مسودة",icon:d.FileText,className:"bg-yellow-100 text-yellow-800 hover:bg-yellow-100"},active:{label:"نشط",icon:e.CheckCircle,className:"bg-green-100 text-green-800 hover:bg-green-100"},archived:{label:"مؤرشف",icon:f,className:"bg-gray-100 text-gray-800 hover:bg-gray-100"}};function h({status:a,showIcon:d=!0}){let e=g[a],f=e.icon;return(0,b.jsxs)(c.Badge,{className:e.className,children:[d&&(0,b.jsx)(f,{className:"w-3 h-3 ml-1"}),e.label]})}a.s(["default",()=>h],2995)},82828,a=>{"use strict";var b=a.i(21910),c=a.i(19631),d=a.i(70791),e=a.i(83692),f=a.i(20226);function g({open:a,onOpenChange:g,onConfirm:h,eventTitle:i,isLoading:j=!1}){return(0,b.jsx)(c.Dialog,{open:a,onOpenChange:g,children:(0,b.jsxs)(c.DialogContent,{className:"max-w-md",children:[(0,b.jsxs)(c.DialogHeader,{className:"text-right",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,b.jsx)("div",{className:"p-3 rounded-full bg-red-100",children:(0,b.jsx)(e.AlertTriangle,{className:"w-6 h-6 text-red-600"})}),(0,b.jsx)(c.DialogTitle,{className:"text-xl text-gray-900",children:"تأكيد الحذف"})]}),(0,b.jsxs)(c.DialogDescription,{className:"text-base text-right text-gray-600 leading-relaxed",children:["هل أنت متأكد من حذف الحدث"," ",i&&(0,b.jsxs)("span",{className:"font-semibold text-gray-900",children:['"',i,'"']}),"؟",(0,b.jsx)("br",{}),(0,b.jsx)("span",{className:"text-red-600 font-medium mt-2 block",children:"لا يمكن التراجع عن هذا الإجراء."})]})]}),(0,b.jsxs)(c.DialogFooter,{className:"flex-row-reverse gap-3 mt-4",children:[(0,b.jsx)(d.Button,{variant:"outline",onClick:()=>g(!1),disabled:j,className:"min-w-[100px]",children:"إلغاء"}),(0,b.jsxs)(d.Button,{onClick:h,disabled:j,className:"bg-red-600 hover:bg-red-700 text-white min-w-[100px]",children:[(0,b.jsx)(f.Trash2,{className:"w-4 h-4 ml-2"}),j?"جاري الحذف...":"حذف"]})]})]})})}a.s(["default",()=>g])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__a55f4960._.js.map
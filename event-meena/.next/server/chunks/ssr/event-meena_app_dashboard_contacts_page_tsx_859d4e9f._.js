module.exports=[74713,a=>{"use strict";var b=a.i(21910),c=a.i(9765),d=a.i(61393),e=a.i(18747),f=a.i(5742),g=a.i(75983),h=a.i(84578),i=a.i(70791),j=a.i(32476),k=a.i(34625),l=a.i(46195),m=a.i(79487),n=a.i(11242),o=a.i(31204),p=a.i(35754),q=a.i(27308),r=a.i(68960),s=a.i(86312),t=a.i(17579),u=a.i(16066),v=a.i(33270),w=a.i(20226),x=a.i(70712);let y=(0,x.default)("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]),z=(0,x.default)("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);var A=a.i(32926),B=a.i(60570);function C({contact:a,groups:c,onEdit:d,onDelete:e}){let f=c.filter(b=>a.groupIds.includes(b.id)),g=a.name.split(" ").map(a=>a[0]).join("").toUpperCase().slice(0,2);return(0,b.jsxs)(h.Card,{className:"p-6 hover:shadow-lg transition-all duration-300 hover:border-primary/20 group",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex items-start gap-3 flex-1",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-primary to-blue-600 flex items-center justify-center text-white font-bold text-lg flex-shrink-0",children:g}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("h3",{className:"font-bold text-gray-900 mb-1 truncate",children:a.name}),a.jobTitle&&(0,b.jsxs)("div",{className:"flex items-center gap-1 text-sm text-gray-600 mb-1",children:[(0,b.jsx)(y,{className:"w-3 h-3"}),(0,b.jsx)("span",{className:"truncate",children:a.jobTitle})]}),a.company&&(0,b.jsx)("p",{className:"text-xs text-gray-500 truncate",children:a.company})]})]}),(0,b.jsxs)("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,b.jsx)(i.Button,{variant:"ghost",size:"sm",onClick:()=>d(a),className:"h-8 w-8 p-0",children:(0,b.jsx)(v.Edit,{className:"w-4 h-4"})}),(0,b.jsx)(i.Button,{variant:"ghost",size:"sm",onClick:()=>e(a.id),className:"h-8 w-8 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",children:(0,b.jsx)(w.Trash2,{className:"w-4 h-4"})})]})]}),(0,b.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,b.jsx)(t.Mail,{className:"w-4 h-4 flex-shrink-0"}),(0,b.jsx)("span",{className:"truncate",children:a.email})]}),a.phone&&(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",dir:"ltr",children:[(0,b.jsx)(u.Phone,{className:"w-4 h-4 flex-shrink-0"}),(0,b.jsx)("span",{className:"truncate",children:a.phone})]})]}),f.length>0&&(0,b.jsx)("div",{className:"mb-4",children:(0,b.jsxs)("div",{className:"flex flex-wrap gap-2",children:[f.slice(0,3).map(a=>(0,b.jsx)(B.Badge,{variant:"outline",className:"text-xs",style:{borderColor:a.color,color:a.color},children:a.name},a.id)),f.length>3&&(0,b.jsxs)(B.Badge,{variant:"outline",className:"text-xs",children:["+",f.length-3]})]})}),a.tags&&a.tags.length>0&&(0,b.jsx)("div",{className:"mb-4",children:(0,b.jsxs)("div",{className:"flex flex-wrap gap-2",children:[a.tags.slice(0,3).map(a=>(0,b.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded text-xs text-gray-600",children:[(0,b.jsx)(z,{className:"w-3 h-3"}),a]},a)),a.tags.length>3&&(0,b.jsxs)("div",{className:"px-2 py-1 bg-gray-100 rounded text-xs text-gray-600",children:["+",a.tags.length-3]})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-2 pt-4 border-t border-gray-100",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"الأحداث"}),(0,b.jsx)("p",{className:"text-sm font-bold text-gray-900",children:a.stats.eventsSent})]}),(0,b.jsxs)("div",{className:"text-center border-x border-gray-100",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"المكتملة"}),(0,b.jsx)("p",{className:"text-sm font-bold text-green-600",children:a.stats.eventsCompleted})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"الاستجابة"}),(0,b.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,b.jsx)(A.TrendingUp,{className:"w-3 h-3 text-blue-600"}),(0,b.jsxs)("p",{className:"text-sm font-bold text-blue-600",children:[a.stats.responseRate,"%"]})]})]})]}),a.notes&&(0,b.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-100",children:(0,b.jsx)("p",{className:"text-xs text-gray-600 line-clamp-2",children:a.notes})})]})}function D({contacts:a,groups:c,isLoading:d,onEdit:e,onDelete:f}){return d?(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(a=>(0,b.jsx)(h.Card,{className:"p-6 animate-pulse",children:(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-full bg-gray-200"}),(0,b.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,b.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),(0,b.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]})},a))}):0===a.length?(0,b.jsx)(h.Card,{className:"p-12 text-center",children:(0,b.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,b.jsx)("div",{className:"w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center",children:(0,b.jsx)(m.Users,{className:"w-8 h-8 text-gray-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"لا توجد جهات اتصال"}),(0,b.jsx)("p",{className:"text-gray-600",children:"ابدأ بإضافة جهات اتصال جديدة لإرسال الأحداث إليهم"})]})]})}):(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(a=>(0,b.jsx)(C,{contact:a,groups:c,onEdit:e,onDelete:f},a.id))})}function E({group:a,contacts:c,onEdit:d,onDelete:e}){let f=c.filter(b=>a.contactIds.includes(b.id));return(0,b.jsxs)(h.Card,{className:"p-6 hover:shadow-lg transition-all duration-300 hover:border-primary/20 group",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex items-start gap-3 flex-1",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-white flex-shrink-0",style:{backgroundColor:a.color},children:(0,b.jsx)(m.Users,{className:"w-6 h-6"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("h3",{className:"font-bold text-gray-900 mb-1 truncate",children:a.name}),a.description&&(0,b.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2",children:a.description})]})]}),(0,b.jsxs)("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,b.jsx)(i.Button,{variant:"ghost",size:"sm",onClick:()=>d(a),className:"h-8 w-8 p-0",children:(0,b.jsx)(v.Edit,{className:"w-4 h-4"})}),(0,b.jsx)(i.Button,{variant:"ghost",size:"sm",onClick:()=>e(a.id),className:"h-8 w-8 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",children:(0,b.jsx)(w.Trash2,{className:"w-4 h-4"})})]})]}),(0,b.jsx)("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(m.Users,{className:"w-5 h-5 text-gray-600"}),(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"عدد الأعضاء"})]}),(0,b.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:a.membersCount})]})}),f.length>0&&(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(t.Mail,{className:"w-4 h-4 text-gray-500"}),(0,b.jsx)("span",{className:"text-xs text-gray-500",children:"الأعضاء:"})]}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-2",children:[f.slice(0,3).map(c=>{let d=c.name.split(" ").map(a=>a[0]).join("").toUpperCase().slice(0,2);return(0,b.jsxs)("div",{className:"flex items-center gap-2 px-2 py-1 bg-white border border-gray-200 rounded-lg",title:c.name,children:[(0,b.jsx)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-white text-xs font-bold",style:{backgroundColor:a.color},children:d}),(0,b.jsx)("span",{className:"text-xs text-gray-700 truncate max-w-[100px]",children:c.name})]},c.id)}),f.length>3&&(0,b.jsx)("div",{className:"flex items-center justify-center px-3 py-1 bg-gray-100 rounded-lg",children:(0,b.jsxs)("span",{className:"text-xs text-gray-600 font-medium",children:["+",f.length-3]})})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2 pt-4 border-t border-gray-100",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"الأحداث المرسلة"}),(0,b.jsx)("p",{className:"text-sm font-bold text-gray-900",children:a.stats.eventsSent})]}),(0,b.jsxs)("div",{className:"text-center border-r border-gray-100",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"معدل الاستجابة"}),(0,b.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,b.jsx)(A.TrendingUp,{className:"w-3 h-3 text-blue-600"}),(0,b.jsxs)("p",{className:"text-sm font-bold text-blue-600",children:[a.stats.averageResponseRate,"%"]})]})]})]}),a.stats.lastEventSent&&(0,b.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-100",children:(0,b.jsxs)("p",{className:"text-xs text-gray-500",children:["آخر حدث:"," ",new Date(a.stats.lastEventSent).toLocaleDateString("ar-SA")]})})]})}function F({groups:a,contacts:c,isLoading:d,onEdit:e,onDelete:f}){return d?(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(a=>(0,b.jsx)(h.Card,{className:"p-6 animate-pulse",children:(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-lg bg-gray-200"}),(0,b.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,b.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),(0,b.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]})},a))}):0===a.length?(0,b.jsx)(h.Card,{className:"p-12 text-center",children:(0,b.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,b.jsx)("div",{className:"w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center",children:(0,b.jsx)(m.Users,{className:"w-8 h-8 text-gray-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"لا توجد مجموعات"}),(0,b.jsx)("p",{className:"text-gray-600",children:"ابدأ بإنشاء مجموعات لتنظيم جهات الاتصال"})]})]})}):(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(a=>(0,b.jsx)(E,{group:a,contacts:c,onEdit:e,onDelete:f},a.id))})}var G=a.i(19631),H=a.i(16550),I=a.i(23511),J=a.i(5275),K=a.i(64082);function L({open:a,onClose:d,contact:f,groups:g}){let{toast:h}=(0,K.useToast)(),{createContact:k,updateContact:l}=(0,e.useContactsStore)(),[m,n]=(0,c.useState)({name:"",email:"",phone:"",company:"",jobTitle:"",notes:"",tags:[],groupIds:[]}),[o,p]=(0,c.useState)({}),[q,r]=(0,c.useState)(!1);(0,c.useEffect)(()=>{f?n({name:f.name,email:f.email,phone:f.phone||"",company:f.company,jobTitle:f.jobTitle,notes:f.notes,tags:f.tags,groupIds:f.groupIds}):n({name:"",email:"",phone:"",company:"",jobTitle:"",notes:"",tags:[],groupIds:[]}),p({})},[f,a]);let s=async a=>{let b;if(a.preventDefault(),b={},m.name.trim()||(b.name="الاسم مطلوب"),m.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(m.email)||(b.email="البريد الإلكتروني غير صحيح"):b.email="البريد الإلكتروني مطلوب",p(b),0===Object.keys(b).length){r(!0);try{f?(await l(f.id,m),h({title:"تم التحديث!",description:"تم تحديث جهة الاتصال بنجاح"})):(await k(m),h({title:"تم الإنشاء!",description:"تم إضافة جهة الاتصال بنجاح"})),d()}catch(a){h({title:"خطأ",description:a instanceof Error?a.message:"حدث خطأ ما",variant:"destructive"})}finally{r(!1)}}};return(0,b.jsx)(G.Dialog,{open:a,onOpenChange:d,children:(0,b.jsxs)(G.DialogContent,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)(G.DialogHeader,{children:[(0,b.jsx)(G.DialogTitle,{children:f?"تعديل جهة الاتصال":"إضافة جهة اتصال جديدة"}),(0,b.jsx)(G.DialogDescription,{children:f?"قم بتعديل معلومات جهة الاتصال":"أضف معلومات جهة الاتصال الجديدة"})]}),(0,b.jsxs)("form",{onSubmit:s,className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)(H.Label,{htmlFor:"name",children:["الاسم الكامل ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)(j.Input,{id:"name",value:m.name,onChange:a=>n({...m,name:a.target.value}),placeholder:"أحمد محمد",className:o.name?"border-red-500":""}),o.name&&(0,b.jsx)("p",{className:"text-sm text-red-500 mt-1",children:o.name})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)(H.Label,{htmlFor:"email",children:["البريد الإلكتروني ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)(j.Input,{id:"email",type:"email",value:m.email,onChange:a=>n({...m,email:a.target.value}),placeholder:"ahmed@example.com",className:o.email?"border-red-500":""}),o.email&&(0,b.jsx)("p",{className:"text-sm text-red-500 mt-1",children:o.email})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(H.Label,{htmlFor:"phone",children:"رقم الهاتف"}),(0,b.jsx)(j.Input,{id:"phone",type:"tel",value:m.phone,onChange:a=>n({...m,phone:a.target.value}),placeholder:"+966501234567",dir:"ltr"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(H.Label,{htmlFor:"company",children:"الشركة"}),(0,b.jsx)(j.Input,{id:"company",value:m.company||"",onChange:a=>n({...m,company:a.target.value}),placeholder:"شركة التقنية"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(H.Label,{htmlFor:"jobTitle",children:"المسمى الوظيفي"}),(0,b.jsx)(j.Input,{id:"jobTitle",value:m.jobTitle||"",onChange:a=>n({...m,jobTitle:a.target.value}),placeholder:"مطور برمجيات"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(H.Label,{htmlFor:"notes",children:"ملاحظات"}),(0,b.jsx)(I.Textarea,{id:"notes",value:m.notes||"",onChange:a=>n({...m,notes:a.target.value}),placeholder:"أي ملاحظات إضافية...",rows:3})]}),g.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsx)(H.Label,{children:"المجموعات"}),(0,b.jsx)("div",{className:"mt-2 space-y-2 max-h-40 overflow-y-auto border border-gray-200 rounded-lg p-3",children:g.map(a=>(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(J.Checkbox,{id:`group-${a.id}`,checked:m.groupIds?.includes(a.id),onCheckedChange:()=>{var b;return b=a.id,void n(a=>({...a,groupIds:a.groupIds?.includes(b)?a.groupIds.filter(a=>a!==b):[...a.groupIds||[],b]}))}}),(0,b.jsxs)("label",{htmlFor:`group-${a.id}`,className:"flex items-center gap-2 cursor-pointer flex-1",children:[(0,b.jsx)("div",{className:"w-4 h-4 rounded",style:{backgroundColor:a.color}}),(0,b.jsx)("span",{className:"text-sm",children:a.name}),(0,b.jsxs)("span",{className:"text-xs text-gray-500",children:["(",a.membersCount," عضو)"]})]})]},a.id))})]}),(0,b.jsxs)("div",{className:"flex gap-3 justify-end pt-4 border-t",children:[(0,b.jsx)(i.Button,{type:"button",variant:"outline",onClick:d,disabled:q,children:"إلغاء"}),(0,b.jsx)(i.Button,{type:"submit",disabled:q,className:"bg-primary hover:bg-primary/90",children:q?"جاري الحفظ...":f?"حفظ التغييرات":"إضافة جهة الاتصال"})]})]})]})})}let M=["#1a56db","#16a34a","#dc2626","#ea580c","#9333ea","#0891b2","#ca8a04","#e11d48"];var N=a.i(41987);function O({open:a,onClose:d,group:f,contacts:g}){let{toast:h}=(0,K.useToast)(),{createGroup:k,updateGroup:l}=(0,e.useContactsStore)(),[m,n]=(0,c.useState)({name:"",description:"",color:M[0],icon:"Users",contactIds:[]}),[o,p]=(0,c.useState)({}),[q,r]=(0,c.useState)(!1);(0,c.useEffect)(()=>{f?n({name:f.name,description:f.description,color:f.color,icon:f.icon,contactIds:f.contactIds}):n({name:"",description:"",color:M[0],icon:"Users",contactIds:[]}),p({})},[f,a]);let s=async a=>{let b;if(a.preventDefault(),b={},m.name.trim()||(b.name="اسم المجموعة مطلوب"),p(b),0===Object.keys(b).length){r(!0);try{f?(await l(f.id,m),h({title:"تم التحديث!",description:"تم تحديث المجموعة بنجاح"})):(await k(m),h({title:"تم الإنشاء!",description:"تم إنشاء المجموعة بنجاح"})),d()}catch(a){h({title:"خطأ",description:a instanceof Error?a.message:"حدث خطأ ما",variant:"destructive"})}finally{r(!1)}}};return(0,b.jsx)(G.Dialog,{open:a,onOpenChange:d,children:(0,b.jsxs)(G.DialogContent,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)(G.DialogHeader,{children:[(0,b.jsx)(G.DialogTitle,{children:f?"تعديل المجموعة":"إنشاء مجموعة جديدة"}),(0,b.jsx)(G.DialogDescription,{children:f?"قم بتعديل معلومات المجموعة":"أنشئ مجموعة جديدة لتنظيم جهات الاتصال"})]}),(0,b.jsxs)("form",{onSubmit:s,className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)(H.Label,{htmlFor:"name",children:["اسم المجموعة ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)(j.Input,{id:"name",value:m.name,onChange:a=>n({...m,name:a.target.value}),placeholder:"العائلة، الأصدقاء، العمل...",className:o.name?"border-red-500":""}),o.name&&(0,b.jsx)("p",{className:"text-sm text-red-500 mt-1",children:o.name})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(H.Label,{htmlFor:"description",children:"الوصف"}),(0,b.jsx)(I.Textarea,{id:"description",value:m.description||"",onChange:a=>n({...m,description:a.target.value}),placeholder:"وصف المجموعة...",rows:3})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(H.Label,{children:"اللون"}),(0,b.jsx)("div",{className:"grid grid-cols-8 gap-2 mt-2",children:M.map(a=>(0,b.jsx)("button",{type:"button",onClick:()=>n({...m,color:a}),className:`w-10 h-10 rounded-lg transition-all ${m.color===a?"ring-2 ring-offset-2 ring-primary scale-110":"hover:scale-105"}`,style:{backgroundColor:a},children:m.color===a&&(0,b.jsx)(N.Check,{className:"w-5 h-5 text-white mx-auto"})},a))})]}),g.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsxs)(H.Label,{children:["جهات الاتصال (",m.contactIds?.length||0,")"]}),(0,b.jsx)("div",{className:"mt-2 space-y-2 max-h-60 overflow-y-auto border border-gray-200 rounded-lg p-3",children:g.map(a=>{let c=a.name.split(" ").map(a=>a[0]).join("").toUpperCase().slice(0,2);return(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(J.Checkbox,{id:`contact-${a.id}`,checked:m.contactIds?.includes(a.id),onCheckedChange:()=>{var b;return b=a.id,void n(a=>({...a,contactIds:a.contactIds?.includes(b)?a.contactIds.filter(a=>a!==b):[...a.contactIds||[],b]}))}}),(0,b.jsxs)("label",{htmlFor:`contact-${a.id}`,className:"flex items-center gap-3 cursor-pointer flex-1",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-primary to-blue-600 flex items-center justify-center text-white text-xs font-bold",children:c}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-sm font-medium",children:a.name}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:a.email})]})]})]},a.id)})})]}),(0,b.jsxs)("div",{className:"flex gap-3 justify-end pt-4 border-t",children:[(0,b.jsx)(i.Button,{type:"button",variant:"outline",onClick:d,disabled:q,children:"إلغاء"}),(0,b.jsx)(i.Button,{type:"submit",disabled:q,className:"bg-primary hover:bg-primary/90",children:q?"جاري الحفظ...":f?"حفظ التغييرات":"إنشاء المجموعة"})]})]})]})})}function P(){(0,d.useRouter)();let[a,f]=(0,c.useState)("contacts"),[t,u]=(0,c.useState)(""),[v,w]=(0,c.useState)(!1),[x,y]=(0,c.useState)(!1),[z,A]=(0,c.useState)(null),[B,C]=(0,c.useState)(null),{contacts:E,groups:G,isLoading:H,fetchContacts:I,fetchGroups:J,deleteContact:K,deleteGroup:M,setFilters:N,setGroupsFilters:P}=(0,e.useContactsStore)();(0,c.useEffect)(()=>{I(),J()},[I,J]),(0,c.useEffect)(()=>{"contacts"===a?N({search:t}):P({search:t})},[t,a,N,P]);let Q=async a=>{if(confirm("هل أنت متأكد من حذف جهة الاتصال هذه؟"))try{await K(a)}catch(a){console.error("Error deleting contact:",a)}},R=async a=>{if(confirm("هل أنت متأكد من حذف المجموعة هذه؟"))try{await M(a)}catch(a){console.error("Error deleting group:",a)}};return(0,b.jsxs)(g.default,{children:[(0,b.jsx)("div",{className:"bg-gradient-to-br from-blue-50 via-white to-purple-50 border-b border-gray-200",children:(0,b.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[(0,b.jsx)("div",{className:"mb-4",children:(0,b.jsxs)(s.default,{href:"/dashboard",className:"inline-flex items-center text-sm text-gray-600 hover:text-primary transition-colors",children:[(0,b.jsx)(r.ArrowRight,{className:"w-4 h-4 ml-1"}),"العودة إلى لوحة التحكم"]})}),(0,b.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:"جهات الاتصال والمجموعات"}),(0,b.jsx)("p",{className:"text-gray-600 text-lg",children:"إدارة جهات الاتصال والمجموعات لإرسال الأحداث بسهولة"})]}),(0,b.jsx)("div",{className:"flex flex-col sm:flex-row gap-3",children:"contacts"===a?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(i.Button,{variant:"outline",size:"lg",onClick:()=>{},className:"border-2 border-gray-200 hover:border-primary hover:bg-primary/5",children:[(0,b.jsx)(q.Upload,{className:"w-5 h-5 ml-2"}),"استيراد"]}),(0,b.jsxs)(i.Button,{variant:"outline",size:"lg",onClick:()=>{},className:"border-2 border-gray-200 hover:border-primary hover:bg-primary/5",children:[(0,b.jsx)(p.Download,{className:"w-5 h-5 ml-2"}),"تصدير"]}),(0,b.jsxs)(i.Button,{size:"lg",onClick:()=>{A(null),w(!0)},className:"bg-primary hover:bg-primary/90 shadow-lg shadow-primary/30",children:[(0,b.jsx)(n.UserPlus,{className:"w-5 h-5 ml-2"}),"إضافة جهة اتصال"]})]}):(0,b.jsxs)(i.Button,{size:"lg",onClick:()=>{C(null),y(!0)},className:"bg-primary hover:bg-primary/90 shadow-lg shadow-primary/30",children:[(0,b.jsx)(k.Plus,{className:"w-5 h-5 ml-2"}),"إنشاء مجموعة"]})})]})]})}),(0,b.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[(0,b.jsx)(h.Card,{className:"p-6 hover:shadow-lg transition-shadow",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-14 h-14 rounded-xl bg-blue-100 flex items-center justify-center",children:(0,b.jsx)(m.Users,{className:"w-7 h-7 text-blue-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"إجمالي جهات الاتصال"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:E.length})]})]})}),(0,b.jsx)(h.Card,{className:"p-6 hover:shadow-lg transition-shadow",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-14 h-14 rounded-xl bg-green-100 flex items-center justify-center",children:(0,b.jsx)(m.Users,{className:"w-7 h-7 text-green-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"عدد المجموعات"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:G.length})]})]})}),(0,b.jsx)(h.Card,{className:"p-6 hover:shadow-lg transition-shadow",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-14 h-14 rounded-xl bg-purple-100 flex items-center justify-center",children:(0,b.jsx)(n.UserPlus,{className:"w-7 h-7 text-purple-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"جهات اتصال جديدة"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:E.filter(a=>new Date(a.createdAt)>new Date(Date.now()-6048e5)).length})]})]})})]}),(0,b.jsx)(h.Card,{className:"p-6 mb-6",children:(0,b.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex gap-2 p-1 bg-gray-100 rounded-lg",children:[(0,b.jsxs)("button",{onClick:()=>f("contacts"),className:`px-6 py-2.5 rounded-md font-medium transition-all ${"contacts"===a?"bg-white text-primary shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:["جهات الاتصال (",E.length,")"]}),(0,b.jsxs)("button",{onClick:()=>f("groups"),className:`px-6 py-2.5 rounded-md font-medium transition-all ${"groups"===a?"bg-white text-primary shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:["المجموعات (",G.length,")"]})]}),(0,b.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,b.jsx)(l.Search,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,b.jsx)(j.Input,{type:"text",placeholder:"contacts"===a?"ابحث عن جهة اتصال...":"ابحث عن مجموعة...",value:t,onChange:a=>u(a.target.value),className:"pr-10 h-11"})]}),(0,b.jsxs)(i.Button,{variant:"outline",size:"lg",className:"gap-2",children:[(0,b.jsx)(o.Filter,{className:"w-4 h-4"}),"فلترة"]})]})}),"contacts"===a?(0,b.jsx)(D,{contacts:E,groups:G,isLoading:H,onEdit:a=>{A(a),w(!0)},onDelete:Q}):(0,b.jsx)(F,{groups:G,contacts:E,isLoading:H,onEdit:a=>{C(a),y(!0)},onDelete:R})]}),(0,b.jsx)(L,{open:v,onClose:()=>{w(!1),A(null)},contact:z,groups:G}),(0,b.jsx)(O,{open:x,onClose:()=>{y(!1),C(null)},group:B,contacts:E})]})}function Q(){return(0,b.jsx)(f.default,{children:(0,b.jsx)(P,{})})}a.s(["default",()=>Q],74713)}];

//# sourceMappingURL=event-meena_app_dashboard_contacts_page_tsx_859d4e9f._.js.map
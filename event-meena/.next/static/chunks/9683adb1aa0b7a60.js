(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,93115,(e,t,i)=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},69540,(e,t,i)=>{"use strict";var s=e.r(93115);function a(){}function n(){}n.resetWarningCache=a,t.exports=function(){function e(e,t,i,a,n,r){if(r!==s){var l=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var i={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:n,resetWarningCache:a};return i.PropTypes=i,i}},89568,(e,t,i)=>{t.exports=e.r(69540)()},66521,(e,t,i)=>{function s(){for(var e,t,i=0,s="",a=arguments.length;i<a;i++)(e=arguments[i])&&(t=function e(t){var i,s,a="";if("string"==typeof t||"number"==typeof t)a+=t;else if("object"==typeof t)if(Array.isArray(t)){var n=t.length;for(i=0;i<n;i++)t[i]&&(s=e(t[i]))&&(a&&(a+=" "),a+=s)}else for(s in t)t[s]&&(a&&(a+=" "),a+=s);return a}(e))&&(s&&(s+=" "),s+=t);return s}t.exports=s,t.exports.clsx=s},49642,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.dontSetMe=function(e,t,i){if(e[t])return Error(`Invalid prop ${t} passed to ${i} - do not set this, set it on the child.`)},i.findInArray=function(e,t){for(let i=0,s=e.length;i<s;i++)if(t.apply(t,[e[i],i,e]))return e[i]},i.int=function(e){return parseInt(e,10)},i.isFunction=function(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)},i.isNum=function(e){return"number"==typeof e&&!isNaN(e)}},19932,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.browserPrefixToKey=n,i.browserPrefixToStyle=function(e,t){return t?`-${t.toLowerCase()}-${e}`:e},i.default=void 0,i.getPrefix=a;let s=["Moz","Webkit","O","ms"];function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window)return"";let t=window.document?.documentElement?.style;if(!t||e in t)return"";for(let i=0;i<s.length;i++)if(n(e,s[i])in t)return s[i];return""}function n(e,t){return t?`${t}${function(e){let t="",i=!0;for(let s=0;s<e.length;s++)i?(t+=e[s].toUpperCase(),i=!1):"-"===e[s]?i=!0:t+=e[s];return t}(e)}`:e}i.default=a()},5995,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.addClassName=c,i.addEvent=function(e,t,i,s){if(!e)return;let a={capture:!0,...s};e.addEventListener?e.addEventListener(t,i,a):e.attachEvent?e.attachEvent("on"+t,i):e["on"+t]=i},i.addUserSelectStyles=function(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||((t=e.createElement("style")).type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t)),e.body&&c(e.body,"react-draggable-transparent-selection")},i.createCSSTransform=function(e,t){let i=o(e,t,"px");return{[(0,a.browserPrefixToKey)("transform",a.default)]:i}},i.createSVGTransform=function(e,t){return o(e,t,"")},i.getTouch=function(e,t){return e.targetTouches&&(0,s.findInArray)(e.targetTouches,e=>t===e.identifier)||e.changedTouches&&(0,s.findInArray)(e.changedTouches,e=>t===e.identifier)},i.getTouchIdentifier=function(e){return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0].identifier:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0].identifier:void 0},i.getTranslation=o,i.innerHeight=function(e){let t=e.clientHeight,i=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,s.int)(i.paddingTop),t-=(0,s.int)(i.paddingBottom)},i.innerWidth=function(e){let t=e.clientWidth,i=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,s.int)(i.paddingLeft),t-=(0,s.int)(i.paddingRight)},i.matchesSelector=l,i.matchesSelectorAndParentsTo=function(e,t,i){let s=e;do{if(l(s,t))return!0;if(s===i)break;s=s.parentNode}while(s)return!1},i.offsetXYFromParent=function(e,t,i){let s=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect();return{x:(e.clientX+t.scrollLeft-s.left)/i,y:(e.clientY+t.scrollTop-s.top)/i}},i.outerHeight=function(e){let t=e.clientHeight,i=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,s.int)(i.borderTopWidth),t+=(0,s.int)(i.borderBottomWidth)},i.outerWidth=function(e){let t=e.clientWidth,i=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,s.int)(i.borderLeftWidth),t+=(0,s.int)(i.borderRightWidth)},i.removeClassName=h,i.removeEvent=function(e,t,i,s){if(!e)return;let a={capture:!0,...s};e.removeEventListener?e.removeEventListener(t,i,a):e.detachEvent?e.detachEvent("on"+t,i):e["on"+t]=null},i.scheduleRemoveUserSelectStyles=function(e){window.requestAnimationFrame?window.requestAnimationFrame(()=>{d(e)}):d(e)};var s=e.r(49642),a=n(e.r(19932));function n(e,t){if("function"==typeof WeakMap)var i=new WeakMap,s=new WeakMap;return(n=function(e,t){if(!t&&e&&e.__esModule)return e;var a,n,r={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return r;if(a=t?s:i){if(a.has(e))return a.get(e);a.set(e,r)}for(let t in e)"default"!==t&&({}).hasOwnProperty.call(e,t)&&((n=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(n.get||n.set)?a(r,t,n):r[t]=e[t]);return r})(e,t)}let r="";function l(e,t){return r||(r=(0,s.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(t){return(0,s.isFunction)(e[t])})),!!(0,s.isFunction)(e[r])&&e[r](t)}function o(e,t,i){let{x:s,y:a}=e,n=`translate(${s}${i},${a}${i})`;if(t){let e=`${"string"==typeof t.x?t.x:t.x+i}`,s=`${"string"==typeof t.y?t.y:t.y+i}`;n=`translate(${e}, ${s})`+n}return n}function d(e){if(e)try{if(e.body&&h(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{let t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}}catch(e){}}function c(e,t){e.classList?e.classList.add(t):e.className.match(RegExp(`(?:^|\\s)${t}(?!\\S)`))||(e.className+=` ${t}`)}function h(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(RegExp(`(?:^|\\s)${t}(?!\\S)`,"g"),"")}},14715,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.canDragX=function(e){return"both"===e.props.axis||"x"===e.props.axis},i.canDragY=function(e){return"both"===e.props.axis||"y"===e.props.axis},i.createCoreData=function(e,t,i){let a=!(0,s.isNum)(e.lastX),r=n(e);return a?{node:r,deltaX:0,deltaY:0,lastX:t,lastY:i,x:t,y:i}:{node:r,deltaX:t-e.lastX,deltaY:i-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:i}},i.createDraggableData=function(e,t){let i=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/i,y:e.state.y+t.deltaY/i,deltaX:t.deltaX/i,deltaY:t.deltaY/i,lastX:e.state.x,lastY:e.state.y}},i.getBoundPosition=function(e,t,i){var r;if(!e.props.bounds)return[t,i];let{bounds:l}=e.props;l="string"==typeof l?l:{left:(r=l).left,top:r.top,right:r.right,bottom:r.bottom};let o=n(e);if("string"==typeof l){let e,{ownerDocument:t}=o,i=t.defaultView;if(!((e="parent"===l?o.parentNode:o.getRootNode().querySelector(l))instanceof i.HTMLElement))throw Error('Bounds selector "'+l+'" could not find an element.');let n=i.getComputedStyle(o),r=i.getComputedStyle(e);l={left:-o.offsetLeft+(0,s.int)(r.paddingLeft)+(0,s.int)(n.marginLeft),top:-o.offsetTop+(0,s.int)(r.paddingTop)+(0,s.int)(n.marginTop),right:(0,a.innerWidth)(e)-(0,a.outerWidth)(o)-o.offsetLeft+(0,s.int)(r.paddingRight)-(0,s.int)(n.marginRight),bottom:(0,a.innerHeight)(e)-(0,a.outerHeight)(o)-o.offsetTop+(0,s.int)(r.paddingBottom)-(0,s.int)(n.marginBottom)}}return(0,s.isNum)(l.right)&&(t=Math.min(t,l.right)),(0,s.isNum)(l.bottom)&&(i=Math.min(i,l.bottom)),(0,s.isNum)(l.left)&&(t=Math.max(t,l.left)),(0,s.isNum)(l.top)&&(i=Math.max(i,l.top)),[t,i]},i.getControlPosition=function(e,t,i){let s="number"==typeof t?(0,a.getTouch)(e,t):null;if("number"==typeof t&&!s)return null;let r=n(i),l=i.props.offsetParent||r.offsetParent||r.ownerDocument.body;return(0,a.offsetXYFromParent)(s||e,l,i.props.scale)},i.snapToGrid=function(e,t,i){return[Math.round(t/e[0])*e[0],Math.round(i/e[1])*e[1]]};var s=e.r(49642),a=e.r(5995);function n(e){let t=e.findDOMNode();if(!t)throw Error("<DraggableCore>: Unmounted during event!");return t}},60735,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(){}},54216,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=h(e.r(94335)),a=c(e.r(89568)),n=c(e.r(43259)),r=e.r(5995),l=e.r(14715),o=e.r(49642),d=c(e.r(60735));function c(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if("function"==typeof WeakMap)var i=new WeakMap,s=new WeakMap;return(h=function(e,t){if(!t&&e&&e.__esModule)return e;var a,n,r={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return r;if(a=t?s:i){if(a.has(e))return a.get(e);a.set(e,r)}for(let t in e)"default"!==t&&({}).hasOwnProperty.call(e,t)&&((n=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(n.get||n.set)?a(r,t,n):r[t]=e[t]);return r})(e,t)}function p(e,t,i){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?s:s+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let u={start:"touchstart",move:"touchmove",stop:"touchend"},g={start:"mousedown",move:"mousemove",stop:"mouseup"},x=g;class f extends s.Component{constructor(){super(...arguments),p(this,"dragging",!1),p(this,"lastX",NaN),p(this,"lastY",NaN),p(this,"touchIdentifier",null),p(this,"mounted",!1),p(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&"number"==typeof e.button&&0!==e.button)return!1;let t=this.findDOMNode();if(!t||!t.ownerDocument||!t.ownerDocument.body)throw Error("<DraggableCore> not mounted on DragStart!");let{ownerDocument:i}=t;if(this.props.disabled||!(e.target instanceof i.defaultView.Node)||this.props.handle&&!(0,r.matchesSelectorAndParentsTo)(e.target,this.props.handle,t)||this.props.cancel&&(0,r.matchesSelectorAndParentsTo)(e.target,this.props.cancel,t))return;"touchstart"!==e.type||this.props.allowMobileScroll||e.preventDefault();let s=(0,r.getTouchIdentifier)(e);this.touchIdentifier=s;let a=(0,l.getControlPosition)(e,s,this);if(null==a)return;let{x:n,y:o}=a,c=(0,l.createCoreData)(this,n,o);(0,d.default)("DraggableCore: handleDragStart: %j",c),(0,d.default)("calling",this.props.onStart),!1!==this.props.onStart(e,c)&&!1!==this.mounted&&(this.props.enableUserSelectHack&&(0,r.addUserSelectStyles)(i),this.dragging=!0,this.lastX=n,this.lastY=o,(0,r.addEvent)(i,x.move,this.handleDrag),(0,r.addEvent)(i,x.stop,this.handleDragStop))}),p(this,"handleDrag",e=>{let t=(0,l.getControlPosition)(e,this.touchIdentifier,this);if(null==t)return;let{x:i,y:s}=t;if(Array.isArray(this.props.grid)){let e=i-this.lastX,t=s-this.lastY;if([e,t]=(0,l.snapToGrid)(this.props.grid,e,t),!e&&!t)return;i=this.lastX+e,s=this.lastY+t}let a=(0,l.createCoreData)(this,i,s);if((0,d.default)("DraggableCore: handleDrag: %j",a),!1===this.props.onDrag(e,a)||!1===this.mounted){try{this.handleDragStop(new MouseEvent("mouseup"))}catch(t){let e=document.createEvent("MouseEvents");e.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(e)}return}this.lastX=i,this.lastY=s}),p(this,"handleDragStop",e=>{if(!this.dragging)return;let t=(0,l.getControlPosition)(e,this.touchIdentifier,this);if(null==t)return;let{x:i,y:s}=t;if(Array.isArray(this.props.grid)){let e=i-this.lastX||0,t=s-this.lastY||0;[e,t]=(0,l.snapToGrid)(this.props.grid,e,t),i=this.lastX+e,s=this.lastY+t}let a=(0,l.createCoreData)(this,i,s);if(!1===this.props.onStop(e,a)||!1===this.mounted)return!1;let n=this.findDOMNode();n&&this.props.enableUserSelectHack&&(0,r.scheduleRemoveUserSelectStyles)(n.ownerDocument),(0,d.default)("DraggableCore: handleDragStop: %j",a),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,n&&((0,d.default)("DraggableCore: Removing handlers"),(0,r.removeEvent)(n.ownerDocument,x.move,this.handleDrag),(0,r.removeEvent)(n.ownerDocument,x.stop,this.handleDragStop))}),p(this,"onMouseDown",e=>(x=g,this.handleDragStart(e))),p(this,"onMouseUp",e=>(x=g,this.handleDragStop(e))),p(this,"onTouchStart",e=>(x=u,this.handleDragStart(e))),p(this,"onTouchEnd",e=>(x=u,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;let e=this.findDOMNode();e&&(0,r.addEvent)(e,u.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;let e=this.findDOMNode();if(e){let{ownerDocument:t}=e;(0,r.removeEvent)(t,g.move,this.handleDrag),(0,r.removeEvent)(t,u.move,this.handleDrag),(0,r.removeEvent)(t,g.stop,this.handleDragStop),(0,r.removeEvent)(t,u.stop,this.handleDragStop),(0,r.removeEvent)(e,u.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,r.scheduleRemoveUserSelectStyles)(t)}}findDOMNode(){return this.props?.nodeRef?this.props?.nodeRef?.current:n.default.findDOMNode(this)}render(){return s.cloneElement(s.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}i.default=f,p(f,"displayName","DraggableCore"),p(f,"propTypes",{allowAnyClick:a.default.bool,allowMobileScroll:a.default.bool,children:a.default.node.isRequired,disabled:a.default.bool,enableUserSelectHack:a.default.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw Error("Draggable's offsetParent must be a DOM Node.")},grid:a.default.arrayOf(a.default.number),handle:a.default.string,cancel:a.default.string,nodeRef:a.default.object,onStart:a.default.func,onDrag:a.default.func,onStop:a.default.func,onMouseDown:a.default.func,scale:a.default.number,className:o.dontSetMe,style:o.dontSetMe,transform:o.dontSetMe}),p(f,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},59492,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"DraggableCore",{enumerable:!0,get:function(){return c.default}}),i.default=void 0;var s=u(e.r(94335)),a=p(e.r(89568)),n=p(e.r(43259)),r=e.r(66521),l=e.r(5995),o=e.r(14715),d=e.r(49642),c=p(e.r(54216)),h=p(e.r(60735));function p(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if("function"==typeof WeakMap)var i=new WeakMap,s=new WeakMap;return(u=function(e,t){if(!t&&e&&e.__esModule)return e;var a,n,r={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return r;if(a=t?s:i){if(a.has(e))return a.get(e);a.set(e,r)}for(let t in e)"default"!==t&&({}).hasOwnProperty.call(e,t)&&((n=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(n.get||n.set)?a(r,t,n):r[t]=e[t]);return r})(e,t)}function g(){return(g=Object.assign.bind()).apply(null,arguments)}function x(e,t,i){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?s:s+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class f extends s.Component{static getDerivedStateFromProps(e,t){let{position:i}=e,{prevPropsPosition:s}=t;return i&&(!s||i.x!==s.x||i.y!==s.y)?((0,h.default)("Draggable: getDerivedStateFromProps %j",{position:i,prevPropsPosition:s}),{x:i.x,y:i.y,prevPropsPosition:{...i}}):null}constructor(e){super(e),x(this,"onDragStart",(e,t)=>{if((0,h.default)("Draggable: onDragStart: %j",t),!1===this.props.onStart(e,(0,o.createDraggableData)(this,t)))return!1;this.setState({dragging:!0,dragged:!0})}),x(this,"onDrag",(e,t)=>{if(!this.state.dragging)return!1;(0,h.default)("Draggable: onDrag: %j",t);let i=(0,o.createDraggableData)(this,t),s={x:i.x,y:i.y,slackX:0,slackY:0};if(this.props.bounds){let{x:e,y:t}=s;s.x+=this.state.slackX,s.y+=this.state.slackY;let[a,n]=(0,o.getBoundPosition)(this,s.x,s.y);s.x=a,s.y=n,s.slackX=this.state.slackX+(e-s.x),s.slackY=this.state.slackY+(t-s.y),i.x=s.x,i.y=s.y,i.deltaX=s.x-this.state.x,i.deltaY=s.y-this.state.y}if(!1===this.props.onDrag(e,i))return!1;this.setState(s)}),x(this,"onDragStop",(e,t)=>{if(!this.state.dragging||!1===this.props.onStop(e,(0,o.createDraggableData)(this,t)))return!1;(0,h.default)("Draggable: onDragStop: %j",t);let i={dragging:!1,slackX:0,slackY:0};if(this.props.position){let{x:e,y:t}=this.props.position;i.x=e,i.y=t}this.setState(i)}),this.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:{...e.position},slackX:0,slackY:0,isElementSVG:!1},e.position&&!(e.onDrag||e.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){void 0!==window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){return this.props?.nodeRef?.current??n.default.findDOMNode(this)}render(){let{axis:e,bounds:t,children:i,defaultPosition:a,defaultClassName:n,defaultClassNameDragging:d,defaultClassNameDragged:h,position:p,positionOffset:u,scale:x,...f}=this.props,m={},y=null,b=!p||this.state.dragging,w=p||a,v={x:(0,o.canDragX)(this)&&b?this.state.x:w.x,y:(0,o.canDragY)(this)&&b?this.state.y:w.y};this.state.isElementSVG?y=(0,l.createSVGTransform)(v,u):m=(0,l.createCSSTransform)(v,u);let j=(0,r.clsx)(i.props.className||"",n,{[d]:this.state.dragging,[h]:this.state.dragged});return s.createElement(c.default,g({},f,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),s.cloneElement(s.Children.only(i),{className:j,style:{...i.props.style,...m},transform:y}))}}i.default=f,x(f,"displayName","Draggable"),x(f,"propTypes",{...c.default.propTypes,axis:a.default.oneOf(["both","x","y","none"]),bounds:a.default.oneOfType([a.default.shape({left:a.default.number,right:a.default.number,top:a.default.number,bottom:a.default.number}),a.default.string,a.default.oneOf([!1])]),defaultClassName:a.default.string,defaultClassNameDragging:a.default.string,defaultClassNameDragged:a.default.string,defaultPosition:a.default.shape({x:a.default.number,y:a.default.number}),positionOffset:a.default.shape({x:a.default.oneOfType([a.default.number,a.default.string]),y:a.default.oneOfType([a.default.number,a.default.string])}),position:a.default.shape({x:a.default.number,y:a.default.number}),className:d.dontSetMe,style:d.dontSetMe,transform:d.dontSetMe}),x(f,"defaultProps",{...c.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})},77662,(e,t,i)=>{"use strict";let{default:s,DraggableCore:a}=e.r(59492);t.exports=s,t.exports.default=s,t.exports.DraggableCore=a},69990,(e,t,i)=>{"use strict";i.__esModule=!0,i.cloneElement=function(e,t){return t.style&&e.props.style&&(t.style=r(r({},e.props.style),t.style)),t.className&&e.props.className&&(t.className=e.props.className+" "+t.className),a.default.cloneElement(e,t)};var s,a=(s=e.r(94335))&&s.__esModule?s:{default:s};function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,s)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach(function(t){var s,a,n;s=e,a=t,n=i[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(a))in s?Object.defineProperty(s,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[a]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}},15274,(e,t,i)=>{"use strict";i.__esModule=!0,i.resizableProps=void 0;var s,a=(s=e.r(89568))&&s.__esModule?s:{default:s};e.r(77662),i.resizableProps={axis:a.default.oneOf(["both","x","y","none"]),className:a.default.string,children:a.default.element.isRequired,draggableOpts:a.default.shape({allowAnyClick:a.default.bool,cancel:a.default.string,children:a.default.node,disabled:a.default.bool,enableUserSelectHack:a.default.bool,offsetParent:a.default.node,grid:a.default.arrayOf(a.default.number),handle:a.default.string,nodeRef:a.default.object,onStart:a.default.func,onDrag:a.default.func,onStop:a.default.func,onMouseDown:a.default.func,scale:a.default.number}),height:function(){for(var e,t=arguments.length,i=Array(t),s=0;s<t;s++)i[s]=arguments[s];var n=i[0];return"both"===n.axis||"y"===n.axis?(e=a.default.number).isRequired.apply(e,i):a.default.number.apply(a.default,i)},handle:a.default.oneOfType([a.default.node,a.default.func]),handleSize:a.default.arrayOf(a.default.number),lockAspectRatio:a.default.bool,maxConstraints:a.default.arrayOf(a.default.number),minConstraints:a.default.arrayOf(a.default.number),onResizeStop:a.default.func,onResizeStart:a.default.func,onResize:a.default.func,resizeHandles:a.default.arrayOf(a.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:a.default.number,width:function(){for(var e,t=arguments.length,i=Array(t),s=0;s<t;s++)i[s]=arguments[s];var n=i[0];return"both"===n.axis||"x"===n.axis?(e=a.default.number).isRequired.apply(e,i):a.default.number.apply(a.default,i)}}},80366,(e,t,i)=>{"use strict";i.__esModule=!0,i.default=void 0;var s=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=o(void 0);if(i&&i.has(e))return i.get(e);var s={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var r=a?Object.getOwnPropertyDescriptor(e,n):null;r&&(r.get||r.set)?Object.defineProperty(s,n,r):s[n]=e[n]}return s.default=e,i&&i.set(e,s),s}(e.r(94335)),a=e.r(77662),n=e.r(69990),r=e.r(15274),l=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(o=function(e){return e?i:t})(e)}function d(){return(d=Object.assign.bind()).apply(this,arguments)}function c(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,s)}return i}function h(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?c(Object(i),!0).forEach(function(t){var s,a,n;s=e,a=t,n=i[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(a))in s?Object.defineProperty(s,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[a]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var u=function(e){function t(){for(var t,i=arguments.length,s=Array(i),a=0;a<i;a++)s[a]=arguments[a];return(t=e.call.apply(e,[this].concat(s))||this).handleRefs={},t.lastHandleRect=null,t.slack=null,t}t.prototype=Object.create(e.prototype),t.prototype.constructor=t,p(t,e);var i=t.prototype;return i.componentWillUnmount=function(){this.resetData()},i.resetData=function(){this.lastHandleRect=this.slack=null},i.runConstraints=function(e,t){var i=this.props,s=i.minConstraints,a=i.maxConstraints,n=i.lockAspectRatio;if(!s&&!a&&!n)return[e,t];if(n){var r=this.props.width/this.props.height;Math.abs(e-this.props.width)>Math.abs((t-this.props.height)*r)?t=e/r:e=t*r}var l=e,o=t,d=this.slack||[0,0],c=d[0],h=d[1];return e+=c,t+=h,s&&(e=Math.max(s[0],e),t=Math.max(s[1],t)),a&&(e=Math.min(a[0],e),t=Math.min(a[1],t)),this.slack=[c+(l-e),h+(o-t)],[e,t]},i.resizeHandler=function(e,t){var i=this;return function(s,a){var n=a.node,r=a.deltaX,l=a.deltaY;"onResizeStart"===e&&i.resetData();var o=("both"===i.props.axis||"x"===i.props.axis)&&"n"!==t&&"s"!==t,d=("both"===i.props.axis||"y"===i.props.axis)&&"e"!==t&&"w"!==t;if(o||d){var c=t[0],h=t[t.length-1],p=n.getBoundingClientRect();null!=i.lastHandleRect&&("w"===h&&(r+=p.left-i.lastHandleRect.left),"n"===c&&(l+=p.top-i.lastHandleRect.top)),i.lastHandleRect=p,"w"===h&&(r=-r),"n"===c&&(l=-l);var u=i.props.width+(o?r/i.props.transformScale:0),g=i.props.height+(d?l/i.props.transformScale:0),x=i.runConstraints(u,g);u=x[0],g=x[1];var f=u!==i.props.width||g!==i.props.height,m="function"==typeof i.props[e]?i.props[e]:null;m&&!("onResize"===e&&!f)&&(null==s.persist||s.persist(),m(s,{node:n,size:{width:u,height:g},handle:t})),"onResizeStop"===e&&i.resetData()}}},i.renderResizeHandle=function(e,t){var i=this.props.handle;if(!i)return s.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+e,ref:t});if("function"==typeof i)return i(e,t);var a=h({ref:t},"string"==typeof i.type?{}:{handleAxis:e});return s.cloneElement(i,a)},i.render=function(){var e=this,t=this.props,i=t.children,r=t.className,o=t.draggableOpts,c=(t.width,t.height,t.handle,t.handleSize,t.lockAspectRatio,t.axis,t.minConstraints,t.maxConstraints,t.onResize,t.onResizeStop,t.onResizeStart,t.resizeHandles),p=(t.transformScale,function(e,t){if(null==e)return{};var i,s,a={},n=Object.keys(e);for(s=0;s<n.length;s++)i=n[s],t.indexOf(i)>=0||(a[i]=e[i]);return a}(t,l));return(0,n.cloneElement)(i,h(h({},p),{},{className:(r?r+" ":"")+"react-resizable",children:[].concat(i.props.children,c.map(function(t){var i,n=null!=(i=e.handleRefs[t])?i:e.handleRefs[t]=s.createRef();return s.createElement(a.DraggableCore,d({},o,{nodeRef:n,key:"resizableHandle-"+t,onStop:e.resizeHandler("onResizeStop",t),onStart:e.resizeHandler("onResizeStart",t),onDrag:e.resizeHandler("onResize",t)}),e.renderResizeHandle(t,n))}))}))},t}(s.Component);i.default=u,u.propTypes=r.resizableProps,u.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1}},19698,(e,t,i)=>{"use strict";i.__esModule=!0,i.default=void 0;var s=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=d(void 0);if(i&&i.has(e))return i.get(e);var s={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var r=a?Object.getOwnPropertyDescriptor(e,n):null;r&&(r.get||r.set)?Object.defineProperty(s,n,r):s[n]=e[n]}return s.default=e,i&&i.set(e,s),s}(e.r(94335)),a=o(e.r(89568)),n=o(e.r(80366)),r=e.r(15274),l=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function o(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(d=function(e){return e?i:t})(e)}function c(){return(c=Object.assign.bind()).apply(this,arguments)}function h(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,s)}return i}function p(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?h(Object(i),!0).forEach(function(t){var s,a,n;s=e,a=t,n=i[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(a))in s?Object.defineProperty(s,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[a]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function u(e,t){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function t(){for(var t,i=arguments.length,s=Array(i),a=0;a<i;a++)s[a]=arguments[a];return(t=e.call.apply(e,[this].concat(s))||this).state={width:t.props.width,height:t.props.height,propsWidth:t.props.width,propsHeight:t.props.height},t.onResize=function(e,i){var s=i.size;t.props.onResize?(null==e.persist||e.persist(),t.setState(s,function(){return t.props.onResize&&t.props.onResize(e,i)})):t.setState(s)},t}return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,u(t,e),t.getDerivedStateFromProps=function(e,t){return t.propsWidth!==e.width||t.propsHeight!==e.height?{width:e.width,height:e.height,propsWidth:e.width,propsHeight:e.height}:null},t.prototype.render=function(){var e=this.props,t=e.handle,i=e.handleSize,a=(e.onResize,e.onResizeStart),r=e.onResizeStop,o=e.draggableOpts,d=e.minConstraints,h=e.maxConstraints,u=e.lockAspectRatio,g=e.axis,x=(e.width,e.height,e.resizeHandles),f=e.style,m=e.transformScale,y=function(e,t){if(null==e)return{};var i,s,a={},n=Object.keys(e);for(s=0;s<n.length;s++)i=n[s],t.indexOf(i)>=0||(a[i]=e[i]);return a}(e,l);return s.createElement(n.default,{axis:g,draggableOpts:o,handle:t,handleSize:i,height:this.state.height,lockAspectRatio:u,maxConstraints:h,minConstraints:d,onResizeStart:a,onResize:this.onResize,onResizeStop:r,resizeHandles:x,transformScale:m,width:this.state.width},s.createElement("div",c({},y,{style:p(p({},f),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},t}(s.Component);i.default=g,g.propTypes=p(p({},r.resizableProps),{},{children:a.default.element})},43940,(e,t,i)=>{"use strict";t.exports=function(){throw Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},t.exports.Resizable=e.r(80366).default,t.exports.ResizableBox=e.r(19698).default},43437,e=>{"use strict";var t=e.i(39637),i=e.i(94335),s=e.i(77662),a=e.i(43940),n=e.i(70274),r=e.i(22967),l=e.i(43694),o=e.i(51333),d=e.i(57851),c=e.i(38923),h=e.i(98309),p=e.i(28356);let u=(0,p.default)("magnet",[["path",{d:"m12 15 4 4",key:"lnac28"}],["path",{d:"M2.352 10.648a1.205 1.205 0 0 0 0 1.704l2.296 2.296a1.205 1.205 0 0 0 1.704 0l6.029-6.029a1 1 0 1 1 3 3l-6.029 6.029a1.205 1.205 0 0 0 0 1.704l2.296 2.296a1.205 1.205 0 0 0 1.704 0l6.365-6.367A1 1 0 0 0 8.716 4.282z",key:"nlhkjb"}],["path",{d:"m5 8 4 4",key:"j6kj7e"}]]);var g=e.i(38810),x=e.i(68418);let f=(0,p.default)("undo-2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]),m=(0,p.default)("redo-2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]]);var y=e.i(97976),b=e.i(91060),w=e.i(40329),v=e.i(74283),j=e.i(39392),z=e.i(75315);let N=(0,p.default)("move",[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]]),k=(0,p.default)("flip-horizontal",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h3",key:"1i73f7"}],["path",{d:"M16 3h3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-3",key:"saxlbk"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 14v2",key:"8jcxud"}],["path",{d:"M12 8v2",key:"1woqiv"}],["path",{d:"M12 2v2",key:"tus03m"}]]),S=(0,p.default)("settings-2",[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);var C=e.i(17744);let M=(0,p.default)("clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]),D=(0,p.default)("align-horizontal-justify-start",[["rect",{width:"6",height:"14",x:"6",y:"5",rx:"2",key:"hsirpf"}],["rect",{width:"6",height:"10",x:"16",y:"7",rx:"2",key:"13zkjt"}],["path",{d:"M2 2v20",key:"1ivd8o"}]]),O=(0,p.default)("align-horizontal-justify-center",[["rect",{width:"6",height:"14",x:"2",y:"5",rx:"2",key:"dy24zr"}],["rect",{width:"6",height:"10",x:"16",y:"7",rx:"2",key:"13zkjt"}],["path",{d:"M12 2v20",key:"t6zp3m"}]]),P=(0,p.default)("align-horizontal-justify-end",[["rect",{width:"6",height:"14",x:"2",y:"5",rx:"2",key:"dy24zr"}],["rect",{width:"6",height:"10",x:"12",y:"7",rx:"2",key:"1ht384"}],["path",{d:"M22 2v20",key:"40qfg1"}]]),R=(0,p.default)("align-vertical-justify-start",[["rect",{width:"14",height:"6",x:"5",y:"16",rx:"2",key:"1i8z2d"}],["rect",{width:"10",height:"6",x:"7",y:"6",rx:"2",key:"13squh"}],["path",{d:"M2 2h20",key:"1ennik"}]]),T=(0,p.default)("align-vertical-justify-center",[["rect",{width:"14",height:"6",x:"5",y:"16",rx:"2",key:"1i8z2d"}],["rect",{width:"10",height:"6",x:"7",y:"2",rx:"2",key:"ypihtt"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),E=(0,p.default)("align-vertical-justify-end",[["rect",{width:"14",height:"6",x:"5",y:"12",rx:"2",key:"4l4tp2"}],["rect",{width:"10",height:"6",x:"7",y:"2",rx:"2",key:"ypihtt"}],["path",{d:"M2 22h20",key:"272qi7"}]]),I=(0,p.default)("arrow-left-right",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]),H=(0,p.default)("arrow-up-down",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]),B=(0,p.default)("group",[["path",{d:"M3 7V5c0-1.1.9-2 2-2h2",key:"adw53z"}],["path",{d:"M17 3h2c1.1 0 2 .9 2 2v2",key:"an4l38"}],["path",{d:"M21 17v2c0 1.1-.9 2-2 2h-2",key:"144t0e"}],["path",{d:"M7 21H5c-1.1 0-2-.9-2-2v-2",key:"rtnfgi"}],["rect",{width:"7",height:"5",x:"7",y:"7",rx:"1",key:"1eyiv7"}],["rect",{width:"7",height:"5",x:"10",y:"12",rx:"1",key:"1qlmkx"}]]),A=(0,p.default)("ungroup",[["rect",{width:"8",height:"6",x:"5",y:"4",rx:"1",key:"nzclkv"}],["rect",{width:"8",height:"6",x:"11",y:"14",rx:"1",key:"4tytwb"}]]);var L=e.i(52330),W=e.i(26155),$=e.i(77926),_=e.i(32740);let F=(0,p.default)("bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]),X=(0,p.default)("italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]),Y=(0,p.default)("underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);var V=e.i(23881),K=e.i(62902),U=e.i(76588);let q=(0,p.default)("text-align-justify",[["path",{d:"M3 5h18",key:"1u36vt"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 19h18",key:"awlh7x"}]]),G=(0,p.default)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);var J=e.i(30543),Z=e.i(35721),Q=e.i(66128);let ee=(0,p.default)("file-stack",[["path",{d:"M11 21a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-8a1 1 0 0 1 1-1",key:"likhh7"}],["path",{d:"M16 16a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1",key:"17ky3x"}],["path",{d:"M21 6a2 2 0 0 0-.586-1.414l-2-2A2 2 0 0 0 17 2h-3a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1z",key:"1hyeo0"}]]);var et=e.i(33042),ei=e.i(90201),es=e.i(38433),ea=e.i(45004),en=e.i(76624),er=e.i(52380),el=e.i(2029),eo=e.i(3594),ed=e.i(36034);let ec=[{name:"Ø§Ø­ØªØ±Ø§ÙÙŠ Ø¯Ø§ÙƒÙ†",style:{type:"gradient",opacity:1,gradient:{type:"linear",angle:135,startColor:"#1e293b",endColor:"#334155"},border:{width:0,color:"#e5e7eb",radius:12,style:"none"},shadow:{enabled:!0,color:"rgba(0, 0, 0, 0.1)",blur:12,offsetX:0,offsetY:4}}},{name:"Ø£Ø²Ø±Ù‚ Ø­Ø¯ÙŠØ«",style:{type:"gradient",opacity:1,gradient:{type:"linear",angle:135,startColor:"#3b82f6",endColor:"#1e40af"},border:{width:0,color:"#e5e7eb",radius:12,style:"none"},shadow:{enabled:!0,color:"rgba(59, 130, 246, 0.3)",blur:16,offsetX:0,offsetY:4}}},{name:"Ø¨Ù†ÙØ³Ø¬ÙŠ Ø£Ù†ÙŠÙ‚",style:{type:"gradient",opacity:1,gradient:{type:"linear",angle:135,startColor:"#8b5cf6",endColor:"#6d28d9"},border:{width:0,color:"#e5e7eb",radius:12,style:"none"},shadow:{enabled:!0,color:"rgba(139, 92, 246, 0.3)",blur:16,offsetX:0,offsetY:4}}},{name:"Ø´ÙØ§Ù Ø®ÙÙŠÙ",style:{type:"semi-transparent",solidColor:"#ffffff",opacity:.9,border:{width:2,color:"#e5e7eb",radius:12,style:"solid"},shadow:{enabled:!0,color:"rgba(0, 0, 0, 0.05)",blur:8,offsetX:0,offsetY:2}}},{name:"Ø¨Ø¯ÙˆÙ† Ø®Ù„ÙÙŠØ©",style:{type:"none",opacity:1,border:{width:0,color:"transparent",radius:0,style:"none"},shadow:{enabled:!1,color:"rgba(0, 0, 0, 0)",blur:0,offsetX:0,offsetY:0}}}];function eh({background:e,onUpdate:i,onClose:s,tableHeaderColor:a}){let n=t=>{i({...e,...t})},l=t=>{i({...e,gradient:{...e.gradient,...t}})},o=t=>{i({...e,border:{...e.border,...t}})},d=t=>{i({...e,shadow:{...e.shadow,...t}})};return(0,t.jsxs)("div",{className:"absolute top-16 left-4 w-80 bg-white rounded-lg shadow-2xl border border-gray-200 z-50",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,t.jsx)("h3",{className:"font-semibold text-sm",children:"Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø®Ù„ÙÙŠØ©"}),(0,t.jsx)(r.Button,{variant:"ghost",size:"sm",onClick:s,children:(0,t.jsx)(et.X,{className:"w-4 h-4"})})]}),(0,t.jsx)(es.ScrollArea,{className:"h-[500px]",children:(0,t.jsxs)("div",{className:"p-4 space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(el.Label,{className:"text-xs",children:"Ù†ÙˆØ¹ Ø§Ù„Ø®Ù„ÙÙŠØ©"}),(0,t.jsxs)(ed.Select,{value:e.type,onValueChange:e=>n({type:e}),children:[(0,t.jsx)(ed.SelectTrigger,{children:(0,t.jsx)(ed.SelectValue,{})}),(0,t.jsxs)(ed.SelectContent,{children:[(0,t.jsx)(ed.SelectItem,{value:"none",children:"Ø¨Ø¯ÙˆÙ† Ø®Ù„ÙÙŠØ©"}),(0,t.jsx)(ed.SelectItem,{value:"solid",children:"Ù„ÙˆÙ† ØµÙ„Ø¨"}),(0,t.jsx)(ed.SelectItem,{value:"gradient",children:"ØªØ¯Ø±Ø¬ Ù„ÙˆÙ†ÙŠ"}),(0,t.jsx)(ed.SelectItem,{value:"semi-transparent",children:"Ø´ÙØ§Ù"})]})]})]}),("solid"===e.type||"semi-transparent"===e.type)&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(el.Label,{className:"text-xs",children:"Ø§Ù„Ù„ÙˆÙ†"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{type:"color",value:e.solidColor||"#1e293b",onChange:e=>n({solidColor:e.target.value}),className:"w-full h-10 rounded cursor-pointer"}),(0,t.jsx)("input",{type:"text",value:e.solidColor||"#1e293b",onChange:e=>n({solidColor:e.target.value}),className:"w-24 px-2 text-xs border rounded"})]})]}),"none"!==e.type&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(el.Label,{className:"text-xs",children:"Ø§Ù„Ø´ÙØ§ÙÙŠØ©"}),(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:[Math.round((e.opacity??1)*100),"%"]})]}),(0,t.jsx)(eo.Slider,{value:[(e.opacity??1)*100],onValueChange:([e])=>n({opacity:e/100}),min:0,max:100,step:1})]}),"gradient"===e.type&&e.gradient&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(ei.Separator,{}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(el.Label,{className:"text-xs font-semibold",children:"Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªØ¯Ø±Ø¬"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(el.Label,{className:"text-xs",children:"Ù†ÙˆØ¹ Ø§Ù„ØªØ¯Ø±Ø¬"}),(0,t.jsxs)(ed.Select,{value:e.gradient.type,onValueChange:e=>l({type:e}),children:[(0,t.jsx)(ed.SelectTrigger,{children:(0,t.jsx)(ed.SelectValue,{})}),(0,t.jsxs)(ed.SelectContent,{children:[(0,t.jsx)(ed.SelectItem,{value:"linear",children:"Ø®Ø·ÙŠ"}),(0,t.jsx)(ed.SelectItem,{value:"radial",children:"Ø¯Ø§Ø¦Ø±ÙŠ"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(el.Label,{className:"text-xs",children:"Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø£ÙˆÙ„"}),(0,t.jsx)("input",{type:"color",value:e.gradient.startColor,onChange:e=>l({startColor:e.target.value}),className:"w-full h-10 rounded cursor-pointer"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(el.Label,{className:"text-xs",children:"Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø«Ø§Ù†ÙŠ"}),(0,t.jsx)("input",{type:"color",value:e.gradient.endColor,onChange:e=>l({endColor:e.target.value}),className:"w-full h-10 rounded cursor-pointer"})]}),"linear"===e.gradient.type&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(el.Label,{className:"text-xs",children:"Ø§Ù„Ø²Ø§ÙˆÙŠØ©"}),(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:[e.gradient.angle||135,"Â°"]})]}),(0,t.jsx)(eo.Slider,{value:[e.gradient.angle||135],onValueChange:([e])=>l({angle:e}),min:0,max:360,step:15})]})]})]}),(0,t.jsx)(ei.Separator,{}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(el.Label,{className:"text-xs font-semibold",children:"Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø­Ø¯ÙˆØ¯"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(el.Label,{className:"text-xs",children:"Ù†Ù…Ø· Ø§Ù„Ø­Ø¯"}),(0,t.jsxs)(ed.Select,{value:e.border?.style||"none",onValueChange:e=>o({style:e}),children:[(0,t.jsx)(ed.SelectTrigger,{children:(0,t.jsx)(ed.SelectValue,{})}),(0,t.jsxs)(ed.SelectContent,{children:[(0,t.jsx)(ed.SelectItem,{value:"none",children:"Ø¨Ø¯ÙˆÙ†"}),(0,t.jsx)(ed.SelectItem,{value:"solid",children:"ØµÙ„Ø¨"}),(0,t.jsx)(ed.SelectItem,{value:"dashed",children:"Ù…ØªÙ‚Ø·Ø¹"}),(0,t.jsx)(ed.SelectItem,{value:"dotted",children:"Ù…Ù†Ù‚Ø·"})]})]})]}),e.border?.style!=="none"&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(el.Label,{className:"text-xs",children:"Ø³Ù…Ùƒ Ø§Ù„Ø­Ø¯"}),(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:[e.border?.width||0,"px"]})]}),(0,t.jsx)(eo.Slider,{value:[e.border?.width||0],onValueChange:([e])=>o({width:e}),min:0,max:10,step:1})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(el.Label,{className:"text-xs",children:"Ù„ÙˆÙ† Ø§Ù„Ø­Ø¯"}),(0,t.jsx)("input",{type:"color",value:e.border?.color||"#e5e7eb",onChange:e=>o({color:e.target.value}),className:"w-full h-10 rounded cursor-pointer"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(el.Label,{className:"text-xs",children:"Ø§Ø³ØªØ¯Ø§Ø±Ø© Ø§Ù„Ø²ÙˆØ§ÙŠØ§"}),(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:[e.border?.radius||0,"px"]})]}),(0,t.jsx)(eo.Slider,{value:[e.border?.radius||0],onValueChange:([e])=>o({radius:e}),min:0,max:50,step:2})]})]}),(0,t.jsx)(ei.Separator,{}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(el.Label,{className:"text-xs font-semibold",children:"Ø§Ù„Ø¸Ù„"}),(0,t.jsx)(r.Button,{variant:e.shadow?.enabled?"default":"outline",size:"sm",onClick:()=>d({enabled:!e.shadow?.enabled}),children:e.shadow?.enabled?"Ù…ÙØ¹Ù‘Ù„":"Ù…Ø¹Ø·Ù‘Ù„"})]}),e.shadow?.enabled&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(el.Label,{className:"text-xs",children:"Ø§Ù„ØªÙ…ÙˆÙŠÙ‡"}),(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:[e.shadow?.blur||0,"px"]})]}),(0,t.jsx)(eo.Slider,{value:[e.shadow?.blur||0],onValueChange:([e])=>d({blur:e}),min:0,max:50,step:2})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(el.Label,{className:"text-xs",children:"Ø§Ù„Ø¥Ø²Ø§Ø­Ø© Ø§Ù„Ø£ÙÙ‚ÙŠØ©"}),(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:[e.shadow?.offsetX||0,"px"]})]}),(0,t.jsx)(eo.Slider,{value:[e.shadow?.offsetX||0],onValueChange:([e])=>d({offsetX:e}),min:-20,max:20,step:1})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(el.Label,{className:"text-xs",children:"Ø§Ù„Ø¥Ø²Ø§Ø­Ø© Ø§Ù„Ø¹Ù…ÙˆØ¯ÙŠØ©"}),(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:[e.shadow?.offsetY||0,"px"]})]}),(0,t.jsx)(eo.Slider,{value:[e.shadow?.offsetY||0],onValueChange:([e])=>d({offsetY:e}),min:-20,max:20,step:1})]})]})]}),(0,t.jsx)(ei.Separator,{}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(el.Label,{className:"text-xs font-semibold",children:"Ø£Ù†Ù…Ø§Ø· Ø¬Ø§Ù‡Ø²Ø©"}),a&&(0,t.jsx)(r.Button,{variant:"default",size:"sm",onClick:()=>{i({type:"solid",solidColor:a,opacity:1,border:{width:0,color:"transparent",radius:12,style:"none"},shadow:{enabled:!0,color:"rgba(0, 0, 0, 0.1)",blur:12,offsetX:0,offsetY:4}})},className:"w-full text-xs",children:"ðŸŽ¨ Ù…Ø·Ø§Ø¨Ù‚Ø© Ù„ÙˆÙ† Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„"}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-2",children:ec.map((e,s)=>(0,t.jsx)(r.Button,{variant:"outline",size:"sm",onClick:()=>i(e.style),className:"text-xs",children:e.name},s))})]})]})})]})}var ep=e.i(35957),eu=e.i(79633);let eg=(0,p.default)("lock-open",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]),ex=(0,p.default)("flip-vertical",[["path",{d:"M21 8V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v3",key:"14bfxa"}],["path",{d:"M21 16v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-3",key:"14rx03"}],["path",{d:"M4 12H2",key:"rhcxmi"}],["path",{d:"M10 12H8",key:"s88cx1"}],["path",{d:"M16 12h-2",key:"10asgb"}],["path",{d:"M22 12h-2",key:"14jgyd"}]]),ef=(0,p.default)("rotate-cw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);var em=e.i(52019);function ey({position:e,size:i,transform:s,onUpdatePosition:a,onUpdateSize:n,onUpdateTransform:l,onClose:o}){let d=e=>{l({rotation:(parseFloat(e)||0)%360})};return(0,t.jsxs)("div",{className:"fixed left-4 top-1/2 -translate-y-1/2 w-80 bg-white dark:bg-gray-800 rounded-lg shadow-2xl border border-gray-200 dark:border-gray-700 z-50",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:"ðŸŽ¨ Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„ØªØ­ÙˆÙŠÙ„Ø§Øª"}),(0,t.jsx)(r.Button,{variant:"ghost",size:"sm",onClick:o,className:"h-6 w-6 p-0",children:(0,t.jsx)(et.X,{className:"w-4 h-4"})})]}),(0,t.jsx)(es.ScrollArea,{className:"h-[600px]",children:(0,t.jsxs)("div",{className:"p-4 space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(el.Label,{className:"text-xs font-semibold text-gray-700 dark:text-gray-300",children:"ðŸ“ Ø§Ù„Ù…ÙˆØ¶Ø¹ (Position)"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(el.Label,{className:"text-xs text-gray-600 dark:text-gray-400",children:"X"}),(0,t.jsx)(ep.Input,{type:"number",value:Math.round(e.x),onChange:t=>a({x:parseFloat(t.target.value)||0,y:e.y}),className:"h-8 text-xs"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(el.Label,{className:"text-xs text-gray-600 dark:text-gray-400",children:"Y"}),(0,t.jsx)(ep.Input,{type:"number",value:Math.round(e.y),onChange:t=>a({x:e.x,y:parseFloat(t.target.value)||0}),className:"h-8 text-xs"})]})]})]}),(0,t.jsx)(ei.Separator,{}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(el.Label,{className:"text-xs font-semibold text-gray-700 dark:text-gray-300",children:"ðŸ“ Ø§Ù„Ø­Ø¬Ù… (Size)"}),(0,t.jsx)(r.Button,{variant:"ghost",size:"sm",onClick:()=>{l({lockAspectRatio:!s.lockAspectRatio})},className:"h-6 w-6 p-0",title:s.lockAspectRatio?"ÙÙƒ Ù‚ÙÙ„ Ø§Ù„Ù†Ø³Ø¨Ø©":"Ù‚ÙÙ„ Ø§Ù„Ù†Ø³Ø¨Ø©",children:s.lockAspectRatio?(0,t.jsx)(eu.Lock,{className:"w-3 h-3 text-blue-500"}):(0,t.jsx)(eg,{className:"w-3 h-3 text-gray-400"})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(el.Label,{className:"text-xs text-gray-600 dark:text-gray-400",children:"Ø§Ù„Ø¹Ø±Ø¶ (W)"}),(0,t.jsx)(ep.Input,{type:"number",value:Math.round(i.width),onChange:e=>(e=>{let t=parseFloat(e)||i.width;if(s.lockAspectRatio){let e=t/(i.width/i.height);n({width:t,height:e})}else n({width:t,height:i.height})})(e.target.value),className:"h-8 text-xs"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(el.Label,{className:"text-xs text-gray-600 dark:text-gray-400",children:"Ø§Ù„Ø§Ø±ØªÙØ§Ø¹ (H)"}),(0,t.jsx)(ep.Input,{type:"number",value:Math.round(i.height),onChange:e=>{let t;return t=parseFloat(e.target.value)||i.height,void(s.lockAspectRatio?n({width:t*(i.width/i.height),height:t}):n({width:i.width,height:t}))},className:"h-8 text-xs"})]})]}),(0,t.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Ø§Ù„Ù†Ø³Ø¨Ø©: ",(i.width/i.height).toFixed(2)]})]}),(0,t.jsx)(ei.Separator,{}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(el.Label,{className:"text-xs font-semibold text-gray-700 dark:text-gray-300",children:"ðŸ”„ Ø§Ù„Ø¯ÙˆØ±Ø§Ù† (Rotation)"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(ep.Input,{type:"number",value:Math.round(s.rotation),onChange:e=>d(e.target.value),className:"h-8 text-xs flex-1",min:"0",max:"360"}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"Â°"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(r.Button,{variant:"outline",size:"sm",onClick:()=>{l({rotation:(s.rotation-90+360)%360})},className:"flex-1 text-xs",title:"Ø¯ÙˆØ±Ø§Ù† 90Â° Ø¹ÙƒØ³ Ø¹Ù‚Ø§Ø±Ø¨ Ø§Ù„Ø³Ø§Ø¹Ø©",children:[(0,t.jsx)(c.RotateCcw,{className:"w-3 h-3 mr-1"}),"90Â° â†"]}),(0,t.jsxs)(r.Button,{variant:"outline",size:"sm",onClick:()=>{l({rotation:(s.rotation+90)%360})},className:"flex-1 text-xs",title:"Ø¯ÙˆØ±Ø§Ù† 90Â° Ù…Ø¹ Ø¹Ù‚Ø§Ø±Ø¨ Ø§Ù„Ø³Ø§Ø¹Ø©",children:[(0,t.jsx)(ef,{className:"w-3 h-3 mr-1"}),"90Â° â†’"]})]}),(0,t.jsx)("input",{type:"range",min:"0",max:"360",value:s.rotation,onChange:e=>d(e.target.value),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700"})]}),(0,t.jsx)(ei.Separator,{}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(el.Label,{className:"text-xs font-semibold text-gray-700 dark:text-gray-300",children:"â†”ï¸ Ø§Ù„Ù‚Ù„Ø¨ (Flip)"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsxs)(r.Button,{variant:s.flipHorizontal?"default":"outline",size:"sm",onClick:()=>{l({flipHorizontal:!s.flipHorizontal})},className:"text-xs",children:[(0,t.jsx)(k,{className:"w-3 h-3 mr-1"}),"Ø£ÙÙ‚ÙŠ"]}),(0,t.jsxs)(r.Button,{variant:s.flipVertical?"default":"outline",size:"sm",onClick:()=>{l({flipVertical:!s.flipVertical})},className:"text-xs",children:[(0,t.jsx)(ex,{className:"w-3 h-3 mr-1"}),"Ø¹Ù…ÙˆØ¯ÙŠ"]})]})]}),(0,t.jsx)(ei.Separator,{}),(0,t.jsxs)(r.Button,{variant:"destructive",size:"sm",onClick:()=>{l({rotation:0,flipHorizontal:!1,flipVertical:!1,scale:{x:1,y:1}})},className:"w-full text-xs",children:[(0,t.jsx)(em.RefreshCw,{className:"w-3 h-3 mr-1"}),"Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„ØªØ­ÙˆÙŠÙ„Ø§Øª"]}),(0,t.jsxs)("div",{className:"p-3 bg-gray-50 dark:bg-gray-900 rounded-lg space-y-1",children:[(0,t.jsxs)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:[(0,t.jsx)("strong",{children:"Ø§Ù„Ø¯ÙˆØ±Ø§Ù†:"})," ",Math.round(s.rotation),"Â°"]}),(0,t.jsxs)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:[(0,t.jsx)("strong",{children:"Ø§Ù„Ù‚Ù„Ø¨ Ø§Ù„Ø£ÙÙ‚ÙŠ:"})," ",s.flipHorizontal?"Ù†Ø¹Ù…":"Ù„Ø§"]}),(0,t.jsxs)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:[(0,t.jsx)("strong",{children:"Ø§Ù„Ù‚Ù„Ø¨ Ø§Ù„Ø¹Ù…ÙˆØ¯ÙŠ:"})," ",s.flipVertical?"Ù†Ø¹Ù…":"Ù„Ø§"]}),(0,t.jsxs)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:[(0,t.jsx)("strong",{children:"Ù‚ÙÙ„ Ø§Ù„Ù†Ø³Ø¨Ø©:"})," ",s.lockAspectRatio?"Ù…Ù‚ÙÙ„":"Ù…ÙØªÙˆØ­"]})]})]})})]})}function eb({rotation:e,onRotate:s,elementRef:a,snapToAngles:n=!0}){let[r,l]=(0,i.useState)(!1),[o,d]=(0,i.useState)(e),[c,h]=(0,i.useState)(!1),p=(0,i.useRef)(null);return(0,i.useEffect)(()=>{d(e)},[e]),(0,i.useEffect)(()=>{let e=e=>{"Shift"===e.key&&h(!0)},t=e=>{"Shift"===e.key&&h(!1)};return window.addEventListener("keydown",e),window.addEventListener("keyup",t),()=>{window.removeEventListener("keydown",e),window.removeEventListener("keyup",t)}},[]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{ref:p,className:"absolute -top-10 left-1/2 -translate-x-1/2 cursor-grab active:cursor-grabbing z-50",onMouseDown:e=>{e.stopPropagation(),e.preventDefault(),l(!0);let t=a.current;if(!t)return;let i=t.getBoundingClientRect(),r=i.left+i.width/2,o=i.top+i.height/2,h=e=>{let t=e.clientX-r,i=180/Math.PI*Math.atan2(e.clientY-o,t)+90;i<0&&(i+=360),c&&n&&(i=45*Math.round(i/45)),d(i),s(i)},p=()=>{l(!1),document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",p)};document.addEventListener("mousemove",h),document.addEventListener("mouseup",p)},style:{pointerEvents:"auto"},children:[(0,t.jsx)("div",{className:"absolute top-full left-1/2 -translate-x-1/2 w-0.5 h-8 bg-blue-400"}),(0,t.jsx)("div",{className:"relative w-8 h-8 bg-white border-2 border-blue-500 rounded-full shadow-lg flex items-center justify-center hover:bg-blue-50 transition-colors",children:(0,t.jsx)(ef,{className:"w-4 h-4 text-blue-500"})})]}),r&&(0,t.jsxs)("div",{className:"absolute -top-20 left-1/2 -translate-x-1/2 bg-black/80 text-white px-3 py-1 rounded text-sm font-medium whitespace-nowrap z-50",children:[Math.round(o),"Â°",c&&n&&(0,t.jsx)("span",{className:"ml-2 text-xs text-blue-300",children:"(Snap)"})]})]})}let ew={page:{size:"a4",orientation:"portrait",width:1400,height:1980,margins:{top:40,right:40,bottom:40,left:40}},colors:{eventTitleText:"#ffffff",headerBg:"#1e293b",headerText:"#ffffff",rowBg:"#ffffff",rowText:"#1f2937",borderColor:"#e5e7eb"},fonts:{family:"'Cairo', 'Amiri', 'Tajawal', 'Tahoma', 'Arial', sans-serif",sizes:{eventTitle:32,tableTitle:18,tableHeader:14,tableCell:12},weights:{eventTitle:700,tableTitle:600,tableHeader:600,tableCell:400}}},ev={rotation:0,flipHorizontal:!1,flipVertical:!1,scale:{x:1,y:1},lockAspectRatio:!1},ej=({element:e,isSelected:r,isExporting:l,snapEnabled:o,GRID_SIZE:d,pageWidth:c,pageHeight:h,margins:p,onDrag:u,onDragStop:g,onResizeStop:x,onSelect:f,onUpdateElement:m,isOutOfBounds:y,isOutOfPrintArea:b})=>{let w=(0,i.useRef)(null),[v,j]=(0,i.useState)(!1),[z,N]=(0,i.useState)(!1),[k,S]=(0,i.useState)({width:0,height:0}),[C,M]=(0,i.useState)(e.position),[D,O]=(0,i.useState)(!1);console.log("ðŸŽ¨ [RENDER] DraggableTitle:",{elementId:e.id,elementSize:e.size,isResizing:z,resizingSize:k,computedWidth:z?k.width:e.size.width,computedHeight:z?k.height:e.size.height,isSelected:r}),i.default.useEffect(()=>{console.log("ðŸ” [useEffect] Running DOM check:",{elementId:e.id,isSelected:r,nodeRefExists:!!w.current}),r&&w.current&&setTimeout(()=>{let t=w.current?.querySelector(".react-resizable"),i=w.current?.querySelectorAll(".react-resizable-handle");console.log("ðŸŽ¯ [DOM CHECK] Resize handles found:",{elementId:e.id,resizableDivExists:!!t,handleCount:i?.length||0,handles:i?Array.from(i).map(e=>({className:e.className,computedStyle:window.getComputedStyle(e),pointerEvents:window.getComputedStyle(e).pointerEvents,opacity:window.getComputedStyle(e).opacity,zIndex:window.getComputedStyle(e).zIndex,display:window.getComputedStyle(e).display})):[]})},100)},[r,e.id]);let P=D?C:e.position,R=P.x<0||P.x+e.size.width>c||P.y<0||P.y+e.size.height>h,T=!R&&(P.x<p.left||P.x+e.size.width>c-p.right||P.y<p.top||P.y+e.size.height>h-p.bottom);return(0,t.jsx)(s.default,{nodeRef:w,defaultPosition:e.position,onDrag:(t,i)=>{O(!0),M({x:i.x,y:i.y}),u&&u(e.id,t,i)},onStop:(t,i)=>{O(!1),M({x:i.x,y:i.y}),g(e.id,t,i)},bounds:"parent",disabled:e.locked||v,grid:o?[d,d]:void 0,cancel:".react-resizable-handle",children:(0,t.jsxs)("div",{ref:w,className:"absolute cursor-default",style:{zIndex:e.zIndex},children:[!l&&R&&(0,t.jsx)("div",{className:"absolute -top-8 left-0 bg-red-500 text-white text-xs px-2 py-1 rounded shadow-lg pointer-events-none z-[10000] whitespace-nowrap",children:"âš ï¸ Ø®Ø§Ø±Ø¬ Ø­Ø¯ÙˆØ¯ Ø§Ù„ØµÙØ­Ø©"}),!l&&T&&(0,t.jsx)("div",{className:"absolute -top-8 left-0 bg-yellow-500 text-white text-xs px-2 py-1 rounded shadow-lg pointer-events-none z-[10000] whitespace-nowrap",children:"âš ï¸ Ø®Ø§Ø±Ø¬ Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©"}),(0,t.jsx)("div",{className:(0,n.cn)("relative",r&&!l&&"ring-4 ring-purple-500 ring-offset-2 element-selected"),style:{overflow:"visible",contain:"none"},children:(0,t.jsx)(a.Resizable,{width:z?k.width:e.size.width,height:z?k.height:e.size.height,onResize:(t,{size:i})=>{console.log("ðŸ”µ [onResize] Title resize started:",{elementId:e.id,originalSize:i,snappedWidth:10*Math.round(i.width/10),snappedHeight:10*Math.round(i.height/10),event:t.type}),N(!0);let s=10*Math.round(i.width/10),a=10*Math.round(i.height/10);S({width:s,height:a}),console.log("ðŸŸ¢ [onResize] State updated:",{isResizing:!0,resizingSize:{width:s,height:a}})},onResizeStart:(t,{size:i})=>{console.log("ðŸŸ¡ [onResizeStart] Title resize starting:",{elementId:e.id,initialSize:i,event:t.type})},onResizeStop:(t,i)=>{console.log("ðŸ”´ [onResizeStop] Title resize stopped:",{elementId:e.id,finalSize:i.size,snappedWidth:10*Math.round(i.size.width/10),snappedHeight:10*Math.round(i.size.height/10)}),N(!1);let s=10*Math.round(i.size.width/10),a=10*Math.round(i.size.height/10);x(e.id,t,{...i,size:{width:s,height:a}})},resizeHandles:["se","sw","ne","nw"],minConstraints:[300,60],maxConstraints:[c-p.left-p.right,300],children:(0,t.jsxs)("div",{style:{width:z?k.width:e.size.width,height:z?k.height:e.size.height,overflow:"visible",contain:"none",background:(()=>{let t=e.style.background;if("none"===t.type)return"transparent";if("solid"===t.type){let e=t.solidColor||"#1e293b",i=t.opacity??1;if(i<1){let t=parseInt(e.slice(1,3),16),s=parseInt(e.slice(3,5),16),a=parseInt(e.slice(5,7),16);return`rgba(${t}, ${s}, ${a}, ${i})`}return e}if("semi-transparent"===t.type){let e=t.solidColor||"#1e293b",i=t.opacity??.9,s=parseInt(e.slice(1,3),16),a=parseInt(e.slice(3,5),16),n=parseInt(e.slice(5,7),16);return`rgba(${s}, ${a}, ${n}, ${i})`}if("gradient"===t.type&&t.gradient){let{type:e,angle:i,startColor:s,endColor:a}=t.gradient;return(t.opacity,"radial"===e)?`radial-gradient(circle, ${s} 0%, ${a} 100%)`:`linear-gradient(${i||135}deg, ${s} 0%, ${a} 100%)`}return"transparent"})(),opacity:"none"===e.style.background.type?1:"gradient"===e.style.background.type?e.style.background.opacity??1:1,borderWidth:"none"===e.style.background.type?0:e.style.background.border?.width||0,borderColor:"none"===e.style.background.type?"transparent":e.style.background.border?.color||"transparent",borderStyle:"none"===e.style.background.type?"none":e.style.background.border?.style||"none",borderRadius:"none"===e.style.background.type?0:`${e.style.background.border?.radius||12}px`,boxShadow:"none"!==e.style.background.type&&e.style.background.shadow?.enabled?`${e.style.background.shadow.offsetX}px ${e.style.background.shadow.offsetY}px ${e.style.background.shadow.blur}px ${e.style.background.shadow.color}`:"none",transform:`
                rotate(${e.transform.rotation}deg)
                scaleX(${e.transform.flipHorizontal?-1:1})
                scaleY(${e.transform.flipVertical?-1:1})
                scale(${e.transform.scale.x}, ${e.transform.scale.y})
              `,transformOrigin:"center center"},onClick:t=>{t.stopPropagation(),f(e.id,t.ctrlKey)},onDoubleClick:e=>{e.stopPropagation(),j(!0)},children:[(0,t.jsx)("div",{className:"w-full flex justify-center",style:{textAlign:e.style.textAlign,paddingTop:"48px",paddingBottom:"48px",paddingLeft:"24px",paddingRight:"24px",overflow:"visible",contain:"none",minHeight:"100%"},children:v?(0,t.jsx)("input",{type:"text",value:e.content,onChange:t=>{m(e.id,{content:t.target.value})},onBlur:()=>j(!1),onKeyDown:e=>{"Enter"===e.key&&j(!1)},autoFocus:!0,className:"w-full bg-transparent border-2 border-white/50 rounded px-4 py-2 text-center outline-none",style:{fontSize:`${e.style.fontSize}px`,fontWeight:e.style.fontWeight,color:e.style.color,direction:"rtl"}}):(0,t.jsx)("h1",{className:"font-bold select-none",style:{fontSize:`${e.style.fontSize}px`,fontWeight:e.style.fontWeight,color:e.style.color,direction:"rtl",lineHeight:2.2,wordBreak:"break-word",fontFamily:"'Cairo', 'Amiri', 'Tajawal', 'Tahoma', 'Arial', sans-serif",textRendering:"optimizeLegibility",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",paddingTop:"0",paddingBottom:"0",marginTop:"0",marginBottom:"0",whiteSpace:"normal",overflow:"visible",contain:"none",display:"block",width:"100%",boxSizing:"content-box"},children:e.content})}),z&&(0,t.jsx)("div",{className:"resize-tooltip absolute -top-16 left-1/2 transform -translate-x-1/2 bg-gradient-to-r from-purple-600 to-purple-500 text-white px-4 py-2 rounded-lg text-sm font-bold whitespace-nowrap z-50 shadow-2xl border-2 border-white",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-purple-100",children:"ðŸ“"}),(0,t.jsxs)("span",{children:[Math.round(k.width)," Ã— ",Math.round(k.height)," px"]})]})}),r&&!l&&(0,t.jsx)(eb,{rotation:e.transform.rotation,onRotate:t=>{m(e.id,{transform:{...e.transform,rotation:t}})},elementRef:w,snapToAngles:!0})]})})})]})})},ez=({element:e,isSelected:r,isExporting:l,editorSettings:o,snapEnabled:d,GRID_SIZE:c,pageWidth:h,pageHeight:p,margins:u,onDrag:g,onDragStop:x,onResizeStop:f,onSelect:m,onUpdateElement:y,onToggleLink:b,isOutOfBounds:w,isOutOfPrintArea:v})=>{let j=(0,i.useRef)(null),[z,N]=(0,i.useState)(!1),[k,S]=(0,i.useState)(e.content),[C,M]=(0,i.useState)(!1),[D,O]=(0,i.useState)({width:0,height:0}),[P,R]=(0,i.useState)(e.position),[T,E]=(0,i.useState)(!1),I=T?P:e.position,H=I.x<0||I.x+e.size.width>h||I.y<0||I.y+e.size.height>p,B=!H&&(I.x<u.left||I.x+e.size.width>h-u.right||I.y<u.top||I.y+e.size.height>p-u.bottom),A=()=>{N(!1),k!==e.content&&y(e.id,{content:k})};return(0,t.jsx)(s.default,{nodeRef:j,defaultPosition:e.position,onDrag:(t,i)=>{E(!0),R({x:i.x,y:i.y}),g&&g(e.id,t,i)},onStop:(t,i)=>{E(!1),R({x:i.x,y:i.y}),x(e.id,t,i)},bounds:"parent",disabled:e.locked||z,grid:d?[c,c]:void 0,cancel:".react-resizable-handle",children:(0,t.jsxs)("div",{ref:j,className:"absolute cursor-default",style:{zIndex:e.zIndex},children:[!l&&H&&(0,t.jsx)("div",{className:"absolute -top-8 left-0 bg-red-500 text-white text-xs px-2 py-1 rounded shadow-lg pointer-events-none z-[10000] whitespace-nowrap",children:"âš ï¸ Ø®Ø§Ø±Ø¬ Ø­Ø¯ÙˆØ¯ Ø§Ù„ØµÙØ­Ø©"}),!l&&B&&(0,t.jsx)("div",{className:"absolute -top-8 left-0 bg-yellow-500 text-white text-xs px-2 py-1 rounded shadow-lg pointer-events-none z-[10000] whitespace-nowrap",children:"âš ï¸ Ø®Ø§Ø±Ø¬ Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©"}),(0,t.jsx)("div",{className:(0,n.cn)("relative transition-all duration-200",r&&!l&&"ring-4 ring-blue-500 ring-offset-2 element-selected"),style:{overflow:"visible",transform:`
              rotate(${e.transform.rotation}deg)
              scaleX(${e.transform.flipHorizontal?-1:1})
              scaleY(${e.transform.flipVertical?-1:1})
            `,transformOrigin:"center center"},onClick:t=>{t.stopPropagation(),m(e.id,t.ctrlKey)},onDoubleClick:()=>{e.locked||l||(N(!0),S(e.content))},children:(0,t.jsx)(a.Resizable,{width:C?D.width:e.size.width,height:C?D.height:e.size.height,onResize:(e,{size:t})=>{M(!0),O({width:10*Math.round(t.width/10),height:10*Math.round(t.height/10)})},onResizeStop:(t,i)=>{M(!1);let s=10*Math.round(i.size.width/10),a=10*Math.round(i.size.height/10);f(e.id,t,{...i,size:{width:s,height:a}})},resizeHandles:["e","w"],minConstraints:[200,40],maxConstraints:[h-u.left-u.right,80],children:(0,t.jsxs)("div",{style:{width:C?D.width:e.size.width,height:C?D.height:e.size.height},children:[(0,t.jsx)("div",{className:"w-full h-full flex items-center px-4",style:{textAlign:e.style.textAlign,transform:`scale(${(C?D.width:e.size.width)/e.size.width})`,transformOrigin:"right"===e.style.textAlign?"right center":"left"===e.style.textAlign?"left center":"center center"},children:z?(0,t.jsx)("input",{type:"text",value:k,onChange:e=>S(e.target.value),onBlur:A,onKeyDown:t=>{"Enter"!==t.key||t.shiftKey?"Escape"===t.key&&(N(!1),S(e.content)):(t.preventDefault(),A())},autoFocus:!0,className:"w-full bg-white border-2 border-blue-500 rounded px-2 py-1 text-center",style:{fontSize:`${e.style.fontSize}px`,fontWeight:e.style.fontWeight,color:e.style.color,direction:"rtl",fontFamily:o.fonts.family}}):(0,t.jsx)("h3",{className:"font-semibold select-none w-full",style:{fontSize:`${e.style.fontSize}px`,fontWeight:e.style.fontWeight,color:e.style.color,direction:"rtl",lineHeight:1.5,wordBreak:"break-word",fontFamily:o.fonts.family,textRendering:"optimizeLegibility",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale"},children:e.content})}),r&&!l&&b&&(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),b(e.id,e.linkedTableId)},className:"absolute -top-10 left-1/2 transform -translate-x-1/2 bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-xs shadow-lg transition-colors",title:e.linkedTableId?"ÙÙƒ Ø±Ø¨Ø· Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ù…Ù† Ø§Ù„Ø¬Ø¯ÙˆÙ„":"Ø±Ø¨Ø· Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø¨Ø§Ù„Ø¬Ø¯ÙˆÙ„",children:e.linkedTableId?"ðŸ”— Ù…Ø±Ø¨ÙˆØ·":"ðŸ”“ ØºÙŠØ± Ù…Ø±Ø¨ÙˆØ·"}),r&&!l&&(0,t.jsx)(eb,{rotation:e.transform.rotation,onRotate:t=>{y(e.id,{transform:{...e.transform,rotation:t}})},elementRef:j,snapToAngles:!0})]})})})]})})},eN=({element:e,isSelected:r,isExporting:l,editorSettings:o,snapEnabled:d,GRID_SIZE:c,pageWidth:h,pageHeight:p,margins:u,onDrag:g,onDragStop:x,onResizeStop:f,onSelect:m,onUpdateElement:y,isOutOfBounds:b,isOutOfPrintArea:w})=>{let v=(0,i.useRef)(null),[j,z]=(0,i.useState)(!1),[N,k]=(0,i.useState)({width:0,height:0}),[S,C]=(0,i.useState)(e.position),[M,D]=(0,i.useState)(!1),O=M?S:e.position,P=O.x<0||O.x+e.size.width>h||O.y<0||O.y+e.size.height>p,R=!P&&(O.x<u.left||O.x+e.size.width>h-u.right||O.y<u.top||O.y+e.size.height>p-u.bottom);return(0,t.jsx)(s.default,{nodeRef:v,defaultPosition:e.position,onDrag:(t,i)=>{D(!0),C({x:i.x,y:i.y}),g&&g(e.id,t,i)},onStop:(t,i)=>{D(!1),C({x:i.x,y:i.y}),x(e.id,t,i)},bounds:"parent",disabled:e.locked,grid:d?[c,c]:void 0,cancel:".react-resizable-handle",children:(0,t.jsxs)("div",{ref:v,className:"absolute cursor-default",style:{zIndex:e.zIndex},children:[!l&&P&&(0,t.jsx)("div",{className:"absolute -top-8 left-0 bg-red-500 text-white text-xs px-2 py-1 rounded shadow-lg pointer-events-none z-[10000] whitespace-nowrap",children:"âš ï¸ Ø®Ø§Ø±Ø¬ Ø­Ø¯ÙˆØ¯ Ø§Ù„ØµÙØ­Ø©"}),!l&&R&&(0,t.jsx)("div",{className:"absolute -top-8 left-0 bg-yellow-500 text-white text-xs px-2 py-1 rounded shadow-lg pointer-events-none z-[10000] whitespace-nowrap",children:"âš ï¸ Ø®Ø§Ø±Ø¬ Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©"}),(0,t.jsx)("div",{className:(0,n.cn)("relative transition-all duration-200",r&&!l&&"ring-4 ring-blue-500 ring-offset-2 element-selected"),style:{transform:`
              rotate(${e.transform.rotation}deg)
              scaleX(${e.transform.flipHorizontal?-1:1})
              scaleY(${e.transform.flipVertical?-1:1})
              scale(${e.transform.scale.x}, ${e.transform.scale.y})
            `,transformOrigin:"center center"},onClick:t=>{t.stopPropagation(),m(e.id,t.ctrlKey)},children:(0,t.jsx)(a.Resizable,{width:j?N.width:e.size.width,height:j?N.height:e.size.height,onResize:(e,{size:t})=>{z(!0),k({width:10*Math.round(t.width/10),height:10*Math.round(t.height/10)})},onResizeStop:(t,i)=>{z(!1);let s=10*Math.round(i.size.width/10),a=10*Math.round(i.size.height/10);f(e.id,t,{...i,size:{width:s,height:a}})},resizeHandles:["se","sw","ne","nw"],minConstraints:[200,100],maxConstraints:[h-u.left-u.right,p-u.top-u.bottom],children:(0,t.jsxs)("div",{style:{width:j?N.width:e.size.width,height:j?N.height:e.size.height},children:[(0,t.jsx)("div",{className:"overflow-auto",style:{maxHeight:l?"none":e.size.height,height:l?"auto":void 0,borderRadius:"8px"},children:(0,t.jsxs)("table",{className:"w-full",dir:"rtl",style:{borderCollapse:"separate",borderSpacing:0,border:"1px solid #e2e8f0",borderRadius:"8px",overflow:"hidden",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[(0,t.jsx)("thead",{children:(0,t.jsx)("tr",{children:e.headers.map((i,s)=>(0,t.jsxs)("th",{style:{backgroundColor:o.colors.headerBg,color:o.colors.headerText,fontSize:`${o.fonts.sizes.tableHeader}px`,fontWeight:o.fonts.weights.tableHeader,fontFamily:o.fonts.family,direction:"rtl",unicodeBidi:"bidi-override",textRendering:"optimizeLegibility",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",padding:r?"6px 8px":"14px 16px",textAlign:"center",borderBottom:"2px solid rgba(255, 255, 255, 0.2)",borderLeft:s!==e.headers.length-1?"1px solid rgba(255, 255, 255, 0.1)":"none",whiteSpace:"nowrap",lineHeight:"1.5"},children:[r&&!l&&(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"center",gap:"2px",marginBottom:"4px"},children:[(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),(t=>{if(t<=0)return;let i=[...e.headers];[i[t],i[t-1]]=[i[t-1],i[t]],y(e.id,{headers:i})})(s)},disabled:s<=0,style:{background:s<=0?"rgba(255,255,255,0.1)":"rgba(255,255,255,0.25)",border:"none",borderRadius:"3px",padding:"2px 6px",cursor:s<=0?"not-allowed":"pointer",color:s<=0?"rgba(255,255,255,0.3)":"white",fontSize:"10px",fontWeight:"bold",transition:"all 0.15s ease"},title:"Ù†Ù‚Ù„ Ø§Ù„Ø¹Ù…ÙˆØ¯ Ù„Ù„ÙŠÙ…ÙŠÙ†",children:"â†’"}),(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),(t=>{if(t>=e.headers.length-1)return;let i=[...e.headers];[i[t],i[t+1]]=[i[t+1],i[t]],y(e.id,{headers:i})})(s)},disabled:s>=e.headers.length-1,style:{background:s>=e.headers.length-1?"rgba(255,255,255,0.1)":"rgba(255,255,255,0.25)",border:"none",borderRadius:"3px",padding:"2px 6px",cursor:s>=e.headers.length-1?"not-allowed":"pointer",color:s>=e.headers.length-1?"rgba(255,255,255,0.3)":"white",fontSize:"10px",fontWeight:"bold",transition:"all 0.15s ease"},title:"Ù†Ù‚Ù„ Ø§Ù„Ø¹Ù…ÙˆØ¯ Ù„Ù„ÙŠØ³Ø§Ø±",children:"â†"})]}),(0,t.jsx)("span",{contentEditable:r,suppressContentEditableWarning:!0,style:{display:"block",cursor:r?"text":"default",outline:"none",minWidth:"40px"},onBlur:t=>{let a=t.currentTarget.textContent?.trim()||i;if(a!==i){let t=[...e.headers],i=t[s];t[s]=a;let n=e.rows.map(e=>{let t={...e};return i!==a&&(t[a]=e[i],delete t[i]),t});y(e.id,{headers:t,rows:n})}},children:i})]},s))})}),(0,t.jsx)("tbody",{children:e.rows.map((i,s)=>(0,t.jsx)("tr",{style:{backgroundColor:s%2==0?"#ffffff":"#f8fafc",transition:"background-color 0.15s ease"},children:e.headers.map((a,n)=>(0,t.jsxs)("td",{style:{fontSize:`${o.fonts.sizes.tableCell}px`,color:o.colors.rowText,fontFamily:o.fonts.family,direction:"rtl",unicodeBidi:"bidi-override",textRendering:"optimizeLegibility",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",padding:"12px 16px",textAlign:"center",borderBottom:s!==e.rows.length-1?"1px solid #e2e8f0":"none",borderLeft:n!==e.headers.length-1?"1px solid #e2e8f0":"none",lineHeight:"1.6",minHeight:"44px",verticalAlign:"middle",position:"relative"},children:[0===n&&r&&!l&&(0,t.jsxs)("div",{style:{position:"absolute",right:"4px",top:"50%",transform:"translateY(-50%)",display:"flex",flexDirection:"column",gap:"2px",zIndex:10},children:[(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),(t=>{if(t<=0)return;let i=[...e.rows];[i[t],i[t-1]]=[i[t-1],i[t]],y(e.id,{rows:i})})(s)},disabled:s<=0,style:{background:s<=0?"rgba(0,0,0,0.15)":"rgba(59,130,246,0.9)",border:"none",borderRadius:"4px",padding:"4px 8px",cursor:s<=0?"not-allowed":"pointer",color:s<=0?"rgba(0,0,0,0.3)":"white",fontSize:"14px",fontWeight:"bold",transition:"all 0.15s ease",lineHeight:1,minWidth:"24px",minHeight:"20px"},title:"Ù†Ù‚Ù„ Ù„Ø£Ø¹Ù„Ù‰",children:"â†‘"}),(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),(t=>{if(t>=e.rows.length-1)return;let i=[...e.rows];[i[t],i[t+1]]=[i[t+1],i[t]],y(e.id,{rows:i})})(s)},disabled:s>=e.rows.length-1,style:{background:s>=e.rows.length-1?"rgba(0,0,0,0.15)":"rgba(59,130,246,0.9)",border:"none",borderRadius:"4px",padding:"4px 8px",cursor:s>=e.rows.length-1?"not-allowed":"pointer",color:s>=e.rows.length-1?"rgba(0,0,0,0.3)":"white",fontSize:"14px",fontWeight:"bold",transition:"all 0.15s ease",lineHeight:1,minWidth:"24px",minHeight:"20px"},title:"Ù†Ù‚Ù„ Ù„Ø£Ø³ÙÙ„",children:"â†“"})]}),i[a]?.startsWith?.("data:image")?(0,t.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",paddingRight:r&&!l&&0===n?"24px":"0"},children:(0,t.jsx)("img",{src:i[a],alt:"ØªÙˆÙ‚ÙŠØ¹",style:{maxWidth:l?"180px":"120px",maxHeight:l?"70px":"50px",objectFit:"contain"}})}):(0,t.jsx)("span",{contentEditable:r,suppressContentEditableWarning:!0,style:{display:"block",outline:"none",paddingRight:r&&!l&&0===n?"24px":"0"},onBlur:t=>{let i=[...e.rows];i[s][a]=t.currentTarget.textContent||"",y(e.id,{rows:i})},children:i[a]||"-"})]},n))},s))})]})}),j&&(0,t.jsx)("div",{className:"resize-tooltip absolute -top-16 left-1/2 transform -translate-x-1/2 bg-gradient-to-r from-blue-600 to-blue-500 text-white px-4 py-2 rounded-lg text-sm font-bold whitespace-nowrap z-50 shadow-2xl border-2 border-white",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-blue-100",children:"ðŸ“"}),(0,t.jsxs)("span",{children:[Math.round(N.width)," Ã— ",Math.round(N.height)," px"]})]})}),r&&!l&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"absolute -top-8 left-0 bg-blue-500 text-white px-2 py-1 rounded text-xs font-medium whitespace-nowrap z-10",children:["Ø¬Ø¯ÙˆÙ„ â€¢ ",Math.round(e.size.width),"Ã—",Math.round(e.size.height),"px"]}),(0,t.jsx)("div",{className:"absolute -top-2 -left-2 w-4 h-4 bg-blue-500 rounded-full border-2 border-white"}),(0,t.jsx)("div",{className:"absolute -top-2 -right-2 w-4 h-4 bg-blue-500 rounded-full border-2 border-white"}),(0,t.jsx)("div",{className:"absolute -bottom-2 -left-2 w-4 h-4 bg-blue-500 rounded-full border-2 border-white"}),(0,t.jsx)("div",{className:"absolute -bottom-2 -right-2 w-4 h-4 bg-blue-500 rounded-full border-2 border-white"}),(0,t.jsx)(eb,{rotation:e.transform.rotation,onRotate:t=>{y(e.id,{transform:{...e.transform,rotation:t}})},elementRef:v,snapToAngles:!0})]})]})})})]})})};function ek({settings:e,sampleData:p,zoom:el=1,onExport:eo,onBack:ed}){let ec,ep,eu,eg,ex,[ef,em]=(0,i.useState)(()=>e?{page:{size:"a4",orientation:e.page.orientation,width:"landscape"===e.page.orientation?1980:1400,height:"landscape"===e.page.orientation?1400:1980,margins:e.page.margins},colors:{eventTitleText:e.colors.eventTitleText,headerBg:e.colors.headerBg,headerText:e.colors.headerText,rowBg:e.colors.secondary,rowText:e.colors.text,borderColor:e.colors.border},fonts:{family:e.fonts.family,sizes:{eventTitle:e.fonts.sizes.eventTitle,tableTitle:e.fonts.sizes.tableTitle,tableHeader:e.fonts.sizes.header,tableCell:e.fonts.sizes.content},weights:{eventTitle:e.fonts.weights.eventTitle,tableTitle:e.fonts.weights.tableTitle,tableHeader:e.fonts.weights.header,tableCell:e.fonts.weights.content}}}:ew),[eb,ek]=(0,i.useState)([{id:"page-1",name:"ØµÙØ­Ø© 1",order:0}]),[eS,eC]=(0,i.useState)("page-1"),[eM,eD]=(0,i.useState)([]),[eO,eP]=(0,i.useState)([]),[eR,eT]=(0,i.useState)(()=>window.innerWidth<1024?.25:.4),[eE,eI]=(0,i.useState)(!0),[eH,eB]=(0,i.useState)(!0),[eA,eL]=(0,i.useState)(!0),[eW,e$]=(0,i.useState)(!1),[e_,eF]=(0,i.useState)(!1),[eX,eY]=(0,i.useState)(null),[eV,eK]=(0,i.useState)(!1),[eU,eq]=(0,i.useState)(!1),[eG,eJ]=(0,i.useState)(!1),[eZ,eQ]=(0,i.useState)({}),[e0,e1]=(0,i.useState)([]),[e2,e5]=(0,i.useState)(null),[e4,e3]=(0,i.useState)({vertical:[],horizontal:[]}),[e6,e9]=(0,i.useState)(!1),[e8,e7]=(0,i.useState)(""),[te,tt]=(0,i.useState)([]),[ti,ts]=(0,i.useState)(-1),ta=(0,i.useRef)(null),tn=ef.page.width,tr=ef.page.height,tl=(0,i.useMemo)(()=>({top:3.7795*ef.page.margins.top,right:3.7795*ef.page.margins.right,bottom:3.7795*ef.page.margins.bottom,left:3.7795*ef.page.margins.left}),[ef.page.margins]),to=(0,i.useCallback)(e=>{let t=te.slice(0,ti+1);t.push({elements:JSON.parse(JSON.stringify(e)),timestamp:Date.now()}),t.length>50&&t.shift(),tt(t),ts(t.length-1)},[te,ti]);(0,i.useEffect)(()=>{if(p&&0===eM.length)try{let e=[];if(p.eventTitle){let t={id:"event-title",type:"title",content:p.eventTitle,pageId:"page-1",position:{x:tl.left,y:tl.top},size:{width:tn-tl.left-tl.right,height:260},visible:!0,locked:!1,zIndex:1e3,transform:{...ev},style:{fontSize:ef.fonts.sizes.eventTitle,fontWeight:ef.fonts.weights.eventTitle,color:ef.colors.eventTitleText,textAlign:"center",background:{type:"gradient",opacity:1,gradient:{type:"linear",angle:135,startColor:"#1e293b",endColor:"#334155"},border:{width:0,color:"#e5e7eb",radius:12,style:"none"},shadow:{enabled:!0,color:"rgba(0, 0, 0, 0.1)",blur:12,offsetX:0,offsetY:4}}}};e.push(t)}p.tables.forEach((t,i)=>{if(!t.title||!t.headers||!Array.isArray(t.rows))return void console.warn(`Invalid table data at index ${i}`,t);let s=260*!!p.eventTitle,a=tl.top+s+150,n=`table-${i}`,r={id:`table-title-${i}`,type:"table-title",content:t.title,linkedTableId:n,pageId:"page-1",position:{x:tl.left,y:a+350*i},size:{width:tn-tl.left-tl.right,height:50},visible:!0,locked:!1,zIndex:100+2*i,transform:{...ev},style:{fontSize:ef.fonts.sizes.tableTitle,fontWeight:ef.fonts.weights.tableTitle,color:ef.colors.rowText,textAlign:"right"}},l={id:n,type:"table",headers:t.headers,rows:t.rows,pageId:"page-1",position:{x:tl.left,y:a+350*i+50+50},size:{width:tn-tl.left-tl.right,height:250},visible:!0,locked:!1,zIndex:100+2*i-1,transform:{...ev}};e.push(r,l)}),e.length>0&&(eD(e),to(e))}catch(e){console.error("Failed to initialize elements:",e)}},[p,eM.length,tl,tn,to]);let td=(0,i.useCallback)(()=>{ti>0&&(ts(ti-1),eD(JSON.parse(JSON.stringify(te[ti-1].elements))))},[te,ti]),tc=(0,i.useCallback)(()=>{ti<te.length-1&&(ts(ti+1),eD(JSON.parse(JSON.stringify(te[ti+1].elements))))},[te,ti]),th=ti>0,tp=ti<te.length-1;(0,i.useEffect)(()=>{let e=eO.filter(e=>{let t=eM.find(t=>t.id===e);return t&&t.pageId===eS});e.length!==eO.length&&eP(e)},[eS,eO,eM]);let tu=(0,i.useCallback)(()=>{eT(e=>Math.min(e+.1,2))},[]),tg=(0,i.useCallback)(()=>{eT(e=>Math.max(e-.1,.1))},[]),tx=(0,i.useCallback)(()=>{if(ta.current&&ta.current.parentElement){let e=ta.current.parentElement;eT(Math.min((e.clientWidth-64)/tn,(e.clientHeight-64)/tr,1))}},[tn,tr]),tf=(0,i.useCallback)(()=>{eT(window.innerWidth<1024?.25:.4)},[]),tm=(0,i.useCallback)(e=>eH?20*Math.round(e/20):e,[eH]),ty=(0,i.useRef)(null),tb=(0,i.useCallback)((e,t)=>{eD(i=>{let s=i.map(i=>i.id===e?{...i,...t}:i);return ty.current&&clearTimeout(ty.current),ty.current=setTimeout(()=>{to(s)},300),s})},[to]),tw=(0,i.useCallback)(e=>{eD(t=>{let i=t.filter(t=>t.id!==e);return to(i),i}),eP(t=>t.filter(t=>t!==e))},[to]),tv=(0,i.useCallback)(e=>{eD(t=>t.map(t=>t.id===e?{...t,visible:!t.visible}:t))},[]),tj=(0,i.useCallback)(e=>{eD(t=>{let i=t.find(t=>t.id===e);if(!i)return t;let s=t.filter(e=>e.pageId===i.pageId).sort((e,t)=>e.zIndex-t.zIndex),a=s.findIndex(t=>t.id===e);if(a===s.length-1)return t;let n=s[a+1],r=t.map(t=>t.id===e?{...t,zIndex:n.zIndex}:t.id===n.id?{...t,zIndex:i.zIndex}:t);return to(r),r})},[to]),tz=(0,i.useCallback)(e=>{eD(t=>{let i=t.find(t=>t.id===e);if(!i)return t;let s=t.filter(e=>e.pageId===i.pageId).sort((e,t)=>e.zIndex-t.zIndex),a=s.findIndex(t=>t.id===e);if(0===a)return t;let n=s[a-1],r=t.map(t=>t.id===e?{...t,zIndex:n.zIndex}:t.id===n.id?{...t,zIndex:i.zIndex}:t);return to(r),r})},[to]),tN=eO.length>0?eO[0]:null,tk=(0,i.useCallback)(e=>{null===e?eP([]):eP([e])},[]),tS=(0,i.useCallback)((e,t=!1)=>{let i=eM.find(t=>t.id===e);i&&i.pageId===eS&&(t?eP(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e]):eP([e]))},[eM,eS]),tC=(0,i.useCallback)(()=>{eP([])},[]),tM=(0,i.useCallback)(()=>{eP(eM.filter(e=>e.pageId===eS).map(e=>e.id))},[eM,eS]),tD=(0,i.useCallback)(()=>{let e=eb.length+1,t={id:`page-${Date.now()}`,name:`ØµÙØ­Ø© ${e}`,order:eb.length};ek(e=>[...e,t]),eC(t.id)},[eb]),tO=(0,i.useCallback)(e=>{if(1===eb.length)return void alert("Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø­Ø°Ù Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø£Ø®ÙŠØ±Ø©");let t=eM.filter(t=>t.pageId===e);(!(t.length>0)||confirm(`Ù‡Ø°Ù‡ Ø§Ù„ØµÙØ­Ø© ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ ${t.length} Ø¹Ù†ØµØ±. Ù‡Ù„ ØªØ±ÙŠØ¯ Ø­Ø°ÙÙ‡Ø§ØŸ`))&&(ek(t=>t.filter(t=>t.id!==e).map((e,t)=>({...e,order:t}))),eD(t=>t.filter(t=>t.pageId!==e)),eS===e&&eC(eb[0].id))},[eb,eM,eS]),tP=(0,i.useCallback)(e=>{eC(e),eP([])},[]);(0,i.useCallback)(()=>eb.find(e=>e.id===eS)||eb[0],[eb,eS]);let tR=(0,i.useCallback)(()=>eM.filter(e=>e.pageId===eS),[eM,eS]),tT=(0,i.useCallback)((e,t)=>{0!==e.length&&(eD(i=>{let s=i.map(i=>e.includes(i.id)?{...i,pageId:t}:i);return to(s),s}),eP([]))},[to]),tE=(0,i.useCallback)(()=>{0!==eO.length&&(eD(e=>{let t=e.filter(e=>!eO.includes(e.id));return to(t),t}),eP([]))},[eO,to]),tI=(0,i.useCallback)(()=>{0===eO.length||e1(JSON.parse(JSON.stringify(eM.filter(e=>eO.includes(e.id)))))},[eO,eM]),tH=(0,i.useCallback)(()=>{if(0===e0.length)return;let e=e0.map(e=>({...e,id:`${e.type}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,pageId:eS,position:{x:e.position.x+20,y:e.position.y+20}}));eD(t=>{let i=[...t,...e];return to(i),i}),eP(e.map(e=>e.id))},[e0,to,eS]),tB=(0,i.useCallback)(e=>{let{position:t,size:i}=e,s=t.x<0,a=t.x+i.width>tn,n=t.y<0,r=t.y+i.height>tr;return s||a||n||r},[tn,tr]),tA=(0,i.useCallback)(e=>{let{position:t,size:i}=e,s=t.x<tl.left,a=t.x+i.width>tn-tl.right,n=t.y<tl.top,r=t.y+i.height>tr-tl.bottom;return s||a||n||r},[tn,tr,tl]),tL=(0,i.useCallback)(e=>{let t=eM.find(t=>t.id===e);if(!t)return;let i=t.position.x,s=t.position.y;i<tl.left&&(i=tl.left),i+t.size.width>tn-tl.right&&(i=tn-tl.right-t.size.width),s<tl.top&&(s=tl.top),s+t.size.height>tr-tl.bottom&&(s=tr-tl.bottom-t.size.height),tb(e,{position:{x:i,y:s}})},[eM,tn,tr,tl,tb]),tW=(0,i.useCallback)(()=>{eM.forEach(e=>{(tB(e)||tA(e))&&tL(e.id)})},[eM,tB,tA,tL]),t$=(0,i.useCallback)(()=>{if(eO.length<2)return;let e=Math.min(...eM.filter(e=>eO.includes(e.id)).map(e=>e.position.x));eD(t=>{let i=t.map(t=>eO.includes(t.id)?{...t,position:{...t.position,x:e}}:t);return to(i),i})},[eO,eM,to]),t_=(0,i.useCallback)(()=>{if(eO.length<2)return;let e=eM.filter(e=>eO.includes(e.id)),t=(Math.min(...e.map(e=>e.position.x))+Math.max(...e.map(e=>e.position.x+e.size.width)))/2;eD(e=>{let i=e.map(e=>eO.includes(e.id)?{...e,position:{...e.position,x:t-e.size.width/2}}:e);return to(i),i})},[eO,eM,to]),tF=(0,i.useCallback)(()=>{if(eO.length<2)return;let e=Math.max(...eM.filter(e=>eO.includes(e.id)).map(e=>e.position.x+e.size.width));eD(t=>{let i=t.map(t=>eO.includes(t.id)?{...t,position:{...t.position,x:e-t.size.width}}:t);return to(i),i})},[eO,eM,to]),tX=(0,i.useCallback)(()=>{if(eO.length<2)return;let e=Math.min(...eM.filter(e=>eO.includes(e.id)).map(e=>e.position.y));eD(t=>{let i=t.map(t=>eO.includes(t.id)?{...t,position:{...t.position,y:e}}:t);return to(i),i})},[eO,eM,to]),tY=(0,i.useCallback)(()=>{if(eO.length<2)return;let e=eM.filter(e=>eO.includes(e.id)),t=(Math.min(...e.map(e=>e.position.y))+Math.max(...e.map(e=>e.position.y+e.size.height)))/2;eD(e=>{let i=e.map(e=>eO.includes(e.id)?{...e,position:{...e.position,y:t-e.size.height/2}}:e);return to(i),i})},[eO,eM,to]),tV=(0,i.useCallback)(()=>{if(eO.length<2)return;let e=Math.max(...eM.filter(e=>eO.includes(e.id)).map(e=>e.position.y+e.size.height));eD(t=>{let i=t.map(t=>eO.includes(t.id)?{...t,position:{...t.position,y:e-t.size.height}}:t);return to(i),i})},[eO,eM,to]),tK=(0,i.useCallback)(()=>{if(eO.length<3)return;let e=[...eM.filter(e=>eO.includes(e.id))].sort((e,t)=>e.position.x-t.position.x),t=e[0].position.x,i=(e[e.length-1].position.x+e[e.length-1].size.width-t-e.reduce((e,t)=>e+t.size.width,0))/(e.length-1),s=t,a={};e.forEach(e=>{a[e.id]={x:s},s+=e.size.width+i}),eD(e=>{let t=e.map(e=>a[e.id]?{...e,position:{...e.position,x:a[e.id].x}}:e);return to(t),t})},[eO,eM,to]),tU=(0,i.useCallback)(()=>{if(eO.length<3)return;let e=[...eM.filter(e=>eO.includes(e.id))].sort((e,t)=>e.position.y-t.position.y),t=e[0].position.y,i=(e[e.length-1].position.y+e[e.length-1].size.height-t-e.reduce((e,t)=>e+t.size.height,0))/(e.length-1),s=t,a={};e.forEach(e=>{a[e.id]={y:s},s+=e.size.height+i}),eD(e=>{let t=e.map(e=>a[e.id]?{...e,position:{...e.position,y:a[e.id].y}}:e);return to(t),t})},[eO,eM,to]),tq=(0,i.useCallback)(()=>{if(eO.length<2)return;let e=eM.filter(e=>eO.includes(e.id));if(new Set(e.map(e=>e.pageId)).size>1)return void alert("Ù„Ø§ ÙŠÙ…ÙƒÙ† ØªØ¬Ù…ÙŠØ¹ Ø¹Ù†Ø§ØµØ± Ù…Ù† ØµÙØ­Ø§Øª Ù…Ø®ØªÙ„ÙØ©");let t=Math.min(...e.map(e=>e.position.x)),i=Math.min(...e.map(e=>e.position.y)),s=Math.max(...e.map(e=>e.position.x+e.size.width)),a=Math.max(...e.map(e=>e.position.y+e.size.height)),n=`group-${Date.now()}`,r={id:n,type:"group",name:`Ù…Ø¬Ù…ÙˆØ¹Ø© ${Date.now()}`,elementIds:eO,pageId:eS,position:{x:t,y:i},size:{width:s-t,height:a-i},visible:!0,locked:!1,zIndex:Math.max(...e.map(e=>e.zIndex))+1,transform:ev};eD(e=>{let t=[...e,r];return to(t),t}),eP([n])},[eO,eM,to,eS]),tG=(0,i.useCallback)(e=>{let t=eM.find(t=>t.id===e&&"group"===t.type);t&&(eD(t=>{let i=t.filter(t=>t.id!==e);return to(i),i}),eP(t.elementIds))},[eM,to]);(0,i.useCallback)(e=>eM.find(t=>"group"===t.type&&t.elementIds.includes(e))||null,[eM]);let tJ=(0,i.useCallback)((e,t)=>{eD(i=>i.map(s=>{if(s.id===e&&"table-title"===s.type){if(t)return{...s,linkedTableId:null};{let e=i.filter(e=>"table"===e.type);if(0===e.length)return s;let t=e[0],a=1/0;return e.forEach(e=>{let i=Math.sqrt(Math.pow(e.position.x-s.position.x,2)+Math.pow(e.position.y-s.position.y,2));i<a&&(a=i,t=e)}),{...s,linkedTableId:t.id}}}return s}))},[]);(0,i.useCallback)((e,t,i)=>{let s={vertical:[],horizontal:[]},a=t+e.size.width,n=i+e.size.height,r=t+e.size.width/2,l=i+e.size.height/2,o=tn/2,d=tr/2;return 5>Math.abs(r-o)&&s.vertical.push(o),5>Math.abs(l-d)&&s.horizontal.push(d),5>Math.abs(t-tl.left)&&s.vertical.push(tl.left),5>Math.abs(a-(tn-tl.right))&&s.vertical.push(tn-tl.right),5>Math.abs(i-tl.top)&&s.horizontal.push(tl.top),5>Math.abs(n-(tr-tl.bottom))&&s.horizontal.push(tr-tl.bottom),eM.forEach(o=>{if(o.id===e.id||!o.visible)return;let d=o.position.x,c=o.position.x+o.size.width,h=o.position.y,p=o.position.y+o.size.height,u=o.position.x+o.size.width/2,g=o.position.y+o.size.height/2;5>Math.abs(t-d)&&s.vertical.push(d),5>Math.abs(a-c)&&s.vertical.push(c),5>Math.abs(r-u)&&s.vertical.push(u),5>Math.abs(i-h)&&s.horizontal.push(h),5>Math.abs(n-p)&&s.horizontal.push(p),5>Math.abs(l-g)&&s.horizontal.push(g)}),s},[eM,tn,tr,tl]);let tZ=(0,i.useCallback)((e,t,i)=>{e9(!0);let s=eM.find(t=>t.id===e);if(!s)return;if(ta.current){let e=ta.current.parentElement;if(e){let i=e.getBoundingClientRect(),s=t.clientY,a=t.clientX;s>i.bottom-50?e.scrollTop+=10:s<i.top+50&&(e.scrollTop-=10),a>i.right-50?e.scrollLeft+=10:a<i.left+50&&(e.scrollLeft-=10)}}i.x,i.y;let a=i.x,n=i.x+s.size.width,r=i.y,l=i.y+s.size.height,o=i.x+s.size.width/2,d=i.y+s.size.height/2,c=tn/2,h=tr/2,p={vertical:[],horizontal:[]},u="";5>Math.abs(o-c)&&(s.size.width,p.vertical.push(c),u="Ù…Ø±ÙƒØ² Ø§Ù„ØµÙØ­Ø©"),5>Math.abs(d-h)&&(s.size.height,p.horizontal.push(h),u=u?u+" + Ù…Ø±ÙƒØ² Ø§Ù„ØµÙØ­Ø©":"Ù…Ø±ÙƒØ² Ø§Ù„ØµÙØ­Ø©"),5>Math.abs(a-tl.left)&&(tl.left,p.vertical.push(tl.left),u=u||"Ù‡Ø§Ù…Ø´ Ø§Ù„ØµÙØ­Ø©"),5>Math.abs(n-(tn-tl.right))&&(tl.right,s.size.width,p.vertical.push(tn-tl.right),u=u||"Ù‡Ø§Ù…Ø´ Ø§Ù„ØµÙØ­Ø©"),5>Math.abs(r-tl.top)&&(tl.top,p.horizontal.push(tl.top),u=u||"Ù‡Ø§Ù…Ø´ Ø§Ù„ØµÙØ­Ø©"),5>Math.abs(l-(tr-tl.bottom))&&(tl.bottom,s.size.height,p.horizontal.push(tr-tl.bottom),u=u||"Ù‡Ø§Ù…Ø´ Ø§Ù„ØµÙØ­Ø©"),eM.forEach(t=>{if(t.id===e||!t.visible)return;let i=t.position.x,c=t.position.x+t.size.width,h=t.position.y,g=t.position.y+t.size.height,x=t.position.x+t.size.width/2,f=t.position.y+t.size.height/2;5>Math.abs(a-i)?(p.vertical.push(i),u=u||"Ù…Ø­Ø§Ø°Ø§Ø© Ù…Ø¹ Ø¹Ù†ØµØ±"):5>Math.abs(n-c)?(s.size.width,p.vertical.push(c),u=u||"Ù…Ø­Ø§Ø°Ø§Ø© Ù…Ø¹ Ø¹Ù†ØµØ±"):5>Math.abs(o-x)&&(s.size.width,p.vertical.push(x),u=u||"Ù…Ø­Ø§Ø°Ø§Ø© Ù…Ø¹ Ø¹Ù†ØµØ±"),5>Math.abs(r-h)?(p.horizontal.push(h),u=u||"Ù…Ø­Ø§Ø°Ø§Ø© Ù…Ø¹ Ø¹Ù†ØµØ±"):5>Math.abs(l-g)?(s.size.height,p.horizontal.push(g),u=u||"Ù…Ø­Ø§Ø°Ø§Ø© Ù…Ø¹ Ø¹Ù†ØµØ±"):5>Math.abs(d-f)&&(s.size.height,p.horizontal.push(f),u=u||"Ù…Ø­Ø§Ø°Ø§Ø© Ù…Ø¹ Ø¹Ù†ØµØ±")}),e3(p),e7(u)},[eM,tn,tr,tl]),tQ=(0,i.useCallback)((e,t,i)=>{e9(!1),e3({vertical:[],horizontal:[]}),e7("");let s=eM.find(t=>t.id===e);if(!s)return;if(eO.length>1&&eO.includes(e)){let e=i.x-s.position.x,t=i.y-s.position.y;eD(i=>{let s=i.map(i=>eO.includes(i.id)?{...i,position:{x:i.position.x+e,y:i.position.y+t}}:i);return to(s),s});return}let a=i.x,n=i.y,r=i.x,l=i.x+s.size.width,o=i.y,d=i.y+s.size.height,c=i.x+s.size.width/2,h=i.y+s.size.height/2,p=tn/2,u=tr/2;5>Math.abs(c-p)&&(a=p-s.size.width/2),5>Math.abs(h-u)&&(n=u-s.size.height/2),5>Math.abs(r-tl.left)&&(a=tl.left),5>Math.abs(l-(tn-tl.right))&&(a=tn-tl.right-s.size.width),5>Math.abs(o-tl.top)&&(n=tl.top),5>Math.abs(d-(tr-tl.bottom))&&(n=tr-tl.bottom-s.size.height),eM.forEach(t=>{if(t.id===e||!t.visible)return;let i=t.position.x,p=t.position.x+t.size.width,u=t.position.y,g=t.position.y+t.size.height,x=t.position.x+t.size.width/2,f=t.position.y+t.size.height/2;5>Math.abs(r-i)?a=i:5>Math.abs(l-p)?a=p-s.size.width:5>Math.abs(c-x)&&(a=x-s.size.width/2),5>Math.abs(o-u)?n=u:5>Math.abs(d-g)?n=g-s.size.height:5>Math.abs(h-f)&&(n=f-s.size.height/2)}),a===i.x&&(a=tm(i.x)),n===i.y&&(n=tm(i.y)),tb(e,{position:{x:a,y:n}})},[eM,eO,tn,tr,tl,tm,tb,to]),t0=(0,i.useCallback)((e,t,i)=>{let s=10*Math.round(i.size.width/10),a=10*Math.round(i.size.height/10);eQ(t=>({...t,[e]:{width:s,height:a}}))},[]),t1=(0,i.useCallback)((e,t,i)=>{let s=10*Math.round(i.size.width/10),a=10*Math.round(i.size.height/10);eQ(t=>{let i={...t};return delete i[e],i});let n=eM.map(t=>t.id===e?{...t,size:{width:s,height:a}}:t);eD(n),to(n)},[eM,to]),t2=(0,i.useCallback)(async()=>{if(ta.current){eK(!0);try{tk(null),eI(!1),eT(1),await new Promise(e=>setTimeout(e,300));let e=new er.default({orientation:"landscape"===ef.page.orientation?"landscape":"portrait",unit:"mm",format:"a4"}),t=e.internal.pageSize.getWidth(),i=e.internal.pageSize.getHeight(),s=[...eb].sort((e,t)=>e.order-t.order);for(let a=0;a<s.length;a++){let n=s[a];eC(n.id),await new Promise(e=>setTimeout(e,500)),document.fonts&&await document.fonts.ready;let r=await (0,en.default)(ta.current,{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff",logging:!1,imageTimeout:0,removeContainer:!0,scrollY:-window.scrollY,scrollX:-window.scrollX,windowWidth:ta.current.scrollWidth,windowHeight:ta.current.scrollHeight,foreignObjectRendering:!1,ignoreElements:e=>e.classList.contains("rotation-handle")||e.classList.contains("react-resizable-handle")||e.classList.contains("selection-ring")||e.classList.contains("resize-tooltip"),onclone:e=>{e.querySelectorAll("*").forEach(e=>{e instanceof HTMLElement&&e.style&&(e.style.setProperty("text-rendering","optimizeLegibility","important"),e.style.setProperty("-webkit-font-smoothing","antialiased","important"),e.style.setProperty("-moz-osx-font-smoothing","grayscale","important"),e.style.setProperty("font-smooth","always","important"),e.style.setProperty("overflow","visible","important"),e.style.setProperty("contain","none","important"),e.style.setProperty("clip-path","none","important"),e.style.setProperty("mask","none","important"),e.style.setProperty("letter-spacing","normal","important"),e.style.setProperty("word-spacing","normal","important"))}),e.querySelectorAll("h1").forEach(e=>{e instanceof HTMLElement&&e.style&&(e.style.setProperty("line-height","2.2","important"),e.style.setProperty("padding-top","0","important"),e.style.setProperty("padding-bottom","0","important"),e.style.setProperty("margin-top","0","important"),e.style.setProperty("margin-bottom","0","important"),e.style.setProperty("overflow","visible","important"),e.style.setProperty("contain","none","important"),e.style.setProperty("box-sizing","content-box","important"),e.style.setProperty("clip-path","none","important"),e.style.setProperty("mask","none","important"))}),e.querySelectorAll('[class*="transition-all"]').forEach(e=>{if(e instanceof HTMLElement&&e.style){let t=e.style.height;t&&(e.style.setProperty("min-height",t,"important"),e.style.setProperty("height","auto","important"))}})}});a>0&&e.addPage();let l=r.toDataURL("image/png");e.addImage(l,"PNG",0,0,t,i)}if(e.save(`${p?.eventTitle||"document"}-edited.pdf`),eC(eS),eT(eR),eI(eE),tk(tN),eo){let t=e.output("blob");eo(t)}}catch(e){console.error("Export failed:",e),alert("ÙØ´Ù„ Ø§Ù„ØªØµØ¯ÙŠØ±. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.")}finally{eK(!1)}}},[eR,ef,p,eo,tN,eE,eS,eb,tk]);return(0,i.useEffect)(()=>{let e=e=>{!(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement||e.target instanceof HTMLElement&&e.target.isContentEditable)&&(("Delete"===e.key||"Backspace"===e.key)&&eO.length>0&&(e.preventDefault(),tE()),(e.ctrlKey||e.metaKey)&&("z"!==e.key||e.shiftKey?("z"===e.key&&e.shiftKey||"y"===e.key)&&(e.preventDefault(),tc()):(e.preventDefault(),td())),tN&&eD(t=>{let i=t.find(e=>e.id===tN);if(!i||!("transform"in i))return t;let s={...i.transform},a=!1;if("r"!==e.key||e.shiftKey||e.ctrlKey||e.metaKey||(e.preventDefault(),s={...s,rotation:(i.transform.rotation+90)%360},a=!0),"R"!==e.key||!e.shiftKey||e.ctrlKey||e.metaKey||(e.preventDefault(),s={...s,rotation:(i.transform.rotation-90+360)%360},a=!0),"h"!==e.key||e.shiftKey||e.ctrlKey||e.metaKey||(e.preventDefault(),s={...s,flipHorizontal:!i.transform.flipHorizontal},a=!0),"v"!==e.key||e.shiftKey||e.ctrlKey||e.metaKey||(e.preventDefault(),s={...s,flipVertical:!i.transform.flipVertical},a=!0),!a)return t;let n=t.map(e=>e.id===tN?{...e,transform:s}:e);return to(n),n}))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[tN,eO,tE,td,tc,to]),(0,i.useEffect)(()=>{let e=e=>{!(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement)&&(e.ctrlKey&&"c"===e.key&&eO.length>0&&(e.preventDefault(),tI()),e.ctrlKey&&"v"===e.key&&e0.length>0&&(e.preventDefault(),tH()),e.ctrlKey&&"x"===e.key&&eO.length>0&&(e.preventDefault(),tI(),tE()),e.ctrlKey&&"a"===e.key&&(e.preventDefault(),tM()),"Escape"===e.key&&eO.length>0&&(e.preventDefault(),tC()))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[eO,e0,tI,tH,tE,tM,tC]),(0,t.jsxs)("div",{className:"flex flex-col h-full w-full bg-gray-50",children:[(0,t.jsx)("div",{className:"bg-white border-b",children:(0,t.jsxs)("div",{className:"p-2 flex items-center gap-1 flex-wrap",children:[ed&&(0,t.jsxs)(r.Button,{onClick:ed,variant:"outline",size:"sm",className:"gap-2 border-purple-200 text-purple-700 hover:bg-purple-50",title:"Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù…Ø¹Ø§ÙŠÙ†Ø©",children:[(0,t.jsx)(J.ArrowRight,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù…Ø¹Ø§ÙŠÙ†Ø©"})]}),ed&&(0,t.jsx)(ei.Separator,{orientation:"vertical",className:"h-6 mx-0.5"}),(0,t.jsx)(r.Button,{onClick:t2,disabled:eV,size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white",title:"ØªØµØ¯ÙŠØ± PDF",children:(0,t.jsx)(y.Download,{className:"w-4 h-4"})}),eM.some(e=>tB(e)||tA(e))&&(0,t.jsx)(r.Button,{variant:"outline",size:"sm",onClick:tW,className:"border-yellow-500 text-yellow-700 hover:bg-yellow-50",title:"Ø¥Ø±Ø¬Ø§Ø¹ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø¯Ø§Ø®Ù„ Ø­Ø¯ÙˆØ¯ Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©",children:(0,t.jsx)(d.Maximize2,{className:"w-4 h-4"})}),(0,t.jsx)(ei.Separator,{orientation:"vertical",className:"h-6 mx-0.5"}),(0,t.jsxs)(ea.DropdownMenu,{children:[(0,t.jsx)(ea.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsxs)(r.Button,{variant:"outline",size:"sm",className:"gap-1 min-w-[70px]",title:"Ø§Ù„ØªÙƒØ¨ÙŠØ±/Ø§Ù„ØªØµØºÙŠØ±",children:[(0,t.jsx)(l.ZoomIn,{className:"w-3.5 h-3.5"}),(0,t.jsxs)("span",{className:"text-xs",children:[Math.round(100*eR),"%"]})]})}),(0,t.jsx)(ea.DropdownMenuContent,{align:"start",className:"w-[180px] p-2 bg-white opacity-100 border shadow-lg",children:(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsxs)(r.Button,{variant:"ghost",size:"sm",onClick:tg,disabled:eR<=.1,className:"justify-start gap-2",children:[(0,t.jsx)(o.ZoomOut,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"ØªØµØºÙŠØ±"})]}),(0,t.jsxs)(r.Button,{variant:"ghost",size:"sm",onClick:tu,disabled:eR>=2,className:"justify-start gap-2",children:[(0,t.jsx)(l.ZoomIn,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"ØªÙƒØ¨ÙŠØ±"})]}),(0,t.jsx)(ea.DropdownMenuSeparator,{}),(0,t.jsxs)(r.Button,{variant:"ghost",size:"sm",onClick:tx,className:"justify-start gap-2",children:[(0,t.jsx)(d.Maximize2,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Ù…Ù„Ø¡ Ø§Ù„Ø´Ø§Ø´Ø©"})]}),(0,t.jsxs)(r.Button,{variant:"ghost",size:"sm",onClick:tf,className:"justify-start gap-2",children:[(0,t.jsx)(c.RotateCcw,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† (100%)"})]})]})})]}),(0,t.jsx)(ei.Separator,{orientation:"vertical",className:"h-6 mx-0.5"}),(0,t.jsxs)(ea.DropdownMenu,{children:[(0,t.jsx)(ea.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsxs)(r.Button,{variant:"outline",size:"sm",className:"gap-1 min-w-[60px]",title:"Ø§Ù„ØµÙØ­Ø§Øª",children:[(0,t.jsx)(_.FileText,{className:"w-3.5 h-3.5"}),(0,t.jsxs)("span",{className:"text-xs",children:[eb.findIndex(e=>e.id===eS)+1,"/",eb.length]})]})}),(0,t.jsx)(ea.DropdownMenuContent,{align:"start",className:"w-[200px] p-2 bg-white opacity-100 border shadow-lg",children:(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)(r.Button,{variant:"outline",size:"sm",onClick:()=>{let e=eb.findIndex(e=>e.id===eS);e>0&&tP(eb[e-1].id)},disabled:0===eb.findIndex(e=>e.id===eS),className:"flex-1",title:"Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©",children:(0,t.jsx)($.ChevronRight,{className:"w-4 h-4"})}),(0,t.jsx)(r.Button,{variant:"outline",size:"sm",onClick:()=>{let e=eb.findIndex(e=>e.id===eS);e<eb.length-1&&tP(eb[e+1].id)},disabled:eb.findIndex(e=>e.id===eS)===eb.length-1,className:"flex-1",title:"Ø§Ù„ØµÙØ­Ø© Ø§Ù„ØªØ§Ù„ÙŠØ©",children:(0,t.jsx)(W.ChevronLeft,{className:"w-4 h-4"})})]}),(0,t.jsx)(ea.DropdownMenuSeparator,{}),(0,t.jsxs)(r.Button,{variant:"ghost",size:"sm",onClick:tD,className:"justify-start gap-2",children:[(0,t.jsx)(L.Plus,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Ø¥Ø¶Ø§ÙØ© ØµÙØ­Ø©"})]}),(0,t.jsxs)(r.Button,{variant:"ghost",size:"sm",onClick:()=>tO(eS),disabled:1===eb.length,className:"justify-start gap-2 text-red-500 hover:text-red-700",children:[(0,t.jsx)(v.Trash2,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Ø­Ø°Ù Ø§Ù„ØµÙØ­Ø©"})]})]})})]}),(0,t.jsx)(ei.Separator,{orientation:"vertical",className:"h-6 mx-0.5"}),(0,t.jsxs)(ea.DropdownMenu,{children:[(0,t.jsx)(ea.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsxs)(r.Button,{variant:"outline",size:"sm",className:"gap-1",title:"Ø¥Ø¶Ø§ÙØ© Ø¹Ù†ØµØ±",children:[(0,t.jsx)(L.Plus,{className:"w-3.5 h-3.5"}),(0,t.jsx)("span",{className:"text-xs",children:"Ø¥Ø¶Ø§ÙØ©"})]})}),(0,t.jsx)(ea.DropdownMenuContent,{align:"start",className:"w-[160px] p-2 bg-white opacity-100 border shadow-lg",children:(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsxs)(r.Button,{variant:"ghost",size:"sm",onClick:()=>{let e=eM.find(e=>"title"===e.type),t=e?e.position.y+e.size.height+80:tl.top+80,i={id:`text-${Date.now()}`,type:"text",content:"Ø§Ù†Ù‚Ø± Ù…Ø±ØªÙŠÙ† Ù„Ù„ØªØ­Ø±ÙŠØ±",position:{x:tl.left+50,y:t},size:{width:200,height:100},fontSize:16,color:"#000000",fontWeight:"normal",fontStyle:"normal",textDecoration:"none",textAlign:"right",visible:!0,locked:!1,zIndex:eM.length,transform:{...ev},pageId:eS};eD(e=>{let t=[...e,i];return to(t),t})},className:"justify-start gap-2",children:[(0,t.jsx)(g.Type,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Ù†Øµ"})]}),(0,t.jsxs)(r.Button,{variant:"ghost",size:"sm",onClick:()=>{let e=document.createElement("input");e.type="file",e.accept="image/*",e.onchange=e=>{let t=e.target.files?.[0];if(t){let e=new FileReader;e.onload=e=>{let t=eM.find(e=>"title"===e.type),i=t?t.position.y+t.size.height+80:tl.top+80,s={id:`image-${Date.now()}`,type:"image",src:e.target?.result,position:{x:tl.left+100,y:i},size:{width:200,height:200},visible:!0,locked:!1,zIndex:eM.length,transform:{...ev},pageId:eS};eD(e=>{let t=[...e,s];return to(t),t})},e.readAsDataURL(t)}},e.click()},className:"justify-start gap-2",children:[(0,t.jsx)(x.Image,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"ØµÙˆØ±Ø©"})]})]})})]}),(0,t.jsx)(ei.Separator,{orientation:"vertical",className:"h-6 mx-0.5"}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(r.Button,{variant:eE?"default":"ghost",size:"sm",onClick:()=>eI(!eE),title:"Ø´Ø¨ÙƒØ©",children:(0,t.jsx)(h.Grid3x3,{className:"w-4 h-4"})}),(0,t.jsx)(r.Button,{variant:eH?"default":"ghost",size:"sm",onClick:()=>eB(!eH),title:"Ø§Ù„ØªØµØ§Ù‚",children:(0,t.jsx)(u,{className:"w-4 h-4"})})]}),(0,t.jsx)(ei.Separator,{orientation:"vertical",className:"h-6 mx-0.5"}),tN&&eM.find(e=>e.id===tN&&"text"===e.type)&&(ec=eM.find(e=>e.id===tN&&"text"===e.type),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(ea.DropdownMenu,{children:[(0,t.jsx)(ea.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsxs)(r.Button,{variant:"outline",size:"sm",className:"gap-1",title:"ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ù†Øµ",children:[(0,t.jsx)(g.Type,{className:"w-3.5 h-3.5"}),(0,t.jsx)("span",{className:"text-xs",children:"Ù†Øµ"})]})}),(0,t.jsxs)(ea.DropdownMenuContent,{align:"start",className:"w-[300px] p-4 bg-white opacity-100 border shadow-lg",children:[(0,t.jsx)(ea.DropdownMenuLabel,{className:"text-sm font-semibold mb-2",children:"ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ù†Øµ"}),(0,t.jsx)(ea.DropdownMenuSeparator,{}),(0,t.jsxs)("div",{className:"py-2",children:[(0,t.jsx)("div",{className:"text-xs text-gray-600 mb-2",children:"Ø­Ø¬Ù… Ø§Ù„Ø®Ø·"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(r.Button,{variant:"outline",size:"sm",onClick:()=>{tb(tN,{fontSize:Math.max(8,ec.fontSize-2)})},title:"ØªØµØºÙŠØ± Ø§Ù„Ø®Ø·",children:(0,t.jsx)(G,{className:"w-3 h-3"})}),(0,t.jsxs)("div",{className:"px-3 py-1.5 text-sm font-medium min-w-[50px] text-center bg-gray-100 rounded",children:[ec.fontSize,"px"]}),(0,t.jsx)(r.Button,{variant:"outline",size:"sm",onClick:()=>{tb(tN,{fontSize:Math.min(72,ec.fontSize+2)})},title:"ØªÙƒØ¨ÙŠØ± Ø§Ù„Ø®Ø·",children:(0,t.jsx)(L.Plus,{className:"w-3 h-3"})})]})]}),(0,t.jsx)(ea.DropdownMenuSeparator,{}),(0,t.jsxs)("div",{className:"py-2",children:[(0,t.jsx)("div",{className:"text-xs text-gray-600 mb-2",children:"Ù†Ù…Ø· Ø§Ù„Ù†Øµ"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(r.Button,{variant:"bold"===ec.fontWeight?"default":"outline",size:"sm",onClick:()=>{tb(tN,{fontWeight:"bold"===ec.fontWeight?"normal":"bold"})},title:"Ø¹Ø±ÙŠØ¶",className:"flex-1",children:[(0,t.jsx)(F,{className:"w-4 h-4 mr-1"}),(0,t.jsx)("span",{className:"text-xs",children:"Ø¹Ø±ÙŠØ¶"})]}),(0,t.jsxs)(r.Button,{variant:"italic"===ec.fontStyle?"default":"outline",size:"sm",onClick:()=>{tb(tN,{fontStyle:"italic"===ec.fontStyle?"normal":"italic"})},title:"Ù…Ø§Ø¦Ù„",className:"flex-1",children:[(0,t.jsx)(X,{className:"w-4 h-4 mr-1"}),(0,t.jsx)("span",{className:"text-xs",children:"Ù…Ø§Ø¦Ù„"})]}),(0,t.jsxs)(r.Button,{variant:"underline"===ec.textDecoration?"default":"outline",size:"sm",onClick:()=>{tb(tN,{textDecoration:"underline"===ec.textDecoration?"none":"underline"})},title:"ØªØ³Ø·ÙŠØ±",className:"flex-1",children:[(0,t.jsx)(Y,{className:"w-4 h-4 mr-1"}),(0,t.jsx)("span",{className:"text-xs",children:"ØªØ³Ø·ÙŠØ±"})]})]})]}),(0,t.jsx)(ea.DropdownMenuSeparator,{}),(0,t.jsxs)("div",{className:"py-2",children:[(0,t.jsx)("div",{className:"text-xs text-gray-600 mb-2",children:"Ø§Ù„Ù…Ø­Ø§Ø°Ø§Ø©"}),(0,t.jsxs)("div",{className:"grid grid-cols-4 gap-2",children:[(0,t.jsx)(r.Button,{variant:"left"===ec.textAlign?"default":"outline",size:"sm",onClick:()=>{tb(tN,{textAlign:"left"})},title:"Ù…Ø­Ø§Ø°Ø§Ø© Ù„Ù„ÙŠØ³Ø§Ø±",children:(0,t.jsx)(V.AlignLeft,{className:"w-4 h-4"})}),(0,t.jsx)(r.Button,{variant:"center"===ec.textAlign?"default":"outline",size:"sm",onClick:()=>{tb(tN,{textAlign:"center"})},title:"Ù…Ø­Ø§Ø°Ø§Ø© Ù„Ù„ÙˆØ³Ø·",children:(0,t.jsx)(K.AlignCenter,{className:"w-4 h-4"})}),(0,t.jsx)(r.Button,{variant:"right"===ec.textAlign?"default":"outline",size:"sm",onClick:()=>{tb(tN,{textAlign:"right"})},title:"Ù…Ø­Ø§Ø°Ø§Ø© Ù„Ù„ÙŠÙ…ÙŠÙ†",children:(0,t.jsx)(U.AlignRight,{className:"w-4 h-4"})}),(0,t.jsx)(r.Button,{variant:"justify"===ec.textAlign?"default":"outline",size:"sm",onClick:()=>{tb(tN,{textAlign:"justify"})},title:"Ø¶Ø¨Ø·",children:(0,t.jsx)(q,{className:"w-4 h-4"})})]})]}),(0,t.jsx)(ea.DropdownMenuSeparator,{}),(0,t.jsxs)("div",{className:"py-2",children:[(0,t.jsx)("div",{className:"text-xs text-gray-600 mb-2",children:"Ù„ÙˆÙ† Ø§Ù„Ù†Øµ"}),(0,t.jsx)("input",{type:"color",value:ec.color,onChange:e=>{tb(tN,{color:e.target.value})},className:"w-full h-10 rounded cursor-pointer border-2 border-gray-300",title:"Ù„ÙˆÙ† Ø§Ù„Ù†Øµ"})]})]})]}),(0,t.jsx)(ei.Separator,{orientation:"vertical",className:"h-6 mx-0.5"})]})),eO.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(r.Button,{variant:"ghost",size:"sm",onClick:tI,title:"Ù†Ø³Ø® (Ctrl+C)",children:(0,t.jsx)(C.Copy,{className:"w-4 h-4"})}),(0,t.jsx)(r.Button,{variant:"ghost",size:"sm",onClick:tH,disabled:0===e0.length,title:"Ù„ØµÙ‚ (Ctrl+V)",children:(0,t.jsx)(M,{className:"w-4 h-4"})}),(0,t.jsx)(r.Button,{variant:"ghost",size:"sm",onClick:tE,title:"Ø­Ø°Ù (Delete)",className:"text-red-500 hover:text-red-700",children:(0,t.jsx)(v.Trash2,{className:"w-4 h-4"})})]}),(0,t.jsx)(ei.Separator,{orientation:"vertical",className:"h-6 mx-0.5"}),eO.length>=2&&(0,t.jsx)(r.Button,{variant:"ghost",size:"sm",onClick:tq,title:"ØªØ¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©",children:(0,t.jsx)(B,{className:"w-4 h-4"})}),1===eO.length&&eM.find(e=>e.id===eO[0])?.type==="group"&&(0,t.jsx)(r.Button,{variant:"ghost",size:"sm",onClick:()=>tG(eO[0]),title:"ÙÙƒ ØªØ¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©",children:(0,t.jsx)(A,{className:"w-4 h-4"})}),eO.length>=2&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(ea.DropdownMenu,{children:[(0,t.jsx)(ea.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsx)(r.Button,{variant:"outline",size:"sm",className:"gap-1",title:"Ø§Ù„Ù…Ø­Ø§Ø°Ø§Ø©",children:(0,t.jsx)(O,{className:"w-3.5 h-3.5"})})}),(0,t.jsxs)(ea.DropdownMenuContent,{align:"start",className:"w-[280px] p-3 bg-white opacity-100 border shadow-lg",children:[(0,t.jsx)(ea.DropdownMenuLabel,{className:"text-sm font-semibold mb-2",children:"Ø§Ù„Ù…Ø­Ø§Ø°Ø§Ø© ÙˆØ§Ù„ØªÙˆØ²ÙŠØ¹"}),(0,t.jsx)(ea.DropdownMenuSeparator,{}),(0,t.jsxs)("div",{className:"py-2",children:[(0,t.jsx)("div",{className:"text-xs text-gray-600 mb-2",children:"Ø§Ù„Ù…Ø­Ø§Ø°Ø§Ø© Ø§Ù„Ø£ÙÙ‚ÙŠØ©"}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,t.jsx)(r.Button,{variant:"outline",size:"sm",onClick:t$,title:"Ù…Ø­Ø§Ø°Ø§Ø© Ù„Ù„ÙŠØ³Ø§Ø±",children:(0,t.jsx)(D,{className:"w-4 h-4"})}),(0,t.jsx)(r.Button,{variant:"outline",size:"sm",onClick:t_,title:"Ù…Ø­Ø§Ø°Ø§Ø© Ù„Ù„ÙˆØ³Ø· Ø£ÙÙ‚ÙŠØ§Ù‹",children:(0,t.jsx)(O,{className:"w-4 h-4"})}),(0,t.jsx)(r.Button,{variant:"outline",size:"sm",onClick:tF,title:"Ù…Ø­Ø§Ø°Ø§Ø© Ù„Ù„ÙŠÙ…ÙŠÙ†",children:(0,t.jsx)(P,{className:"w-4 h-4"})})]})]}),(0,t.jsx)(ea.DropdownMenuSeparator,{}),(0,t.jsxs)("div",{className:"py-2",children:[(0,t.jsx)("div",{className:"text-xs text-gray-600 mb-2",children:"Ø§Ù„Ù…Ø­Ø§Ø°Ø§Ø© Ø§Ù„Ø¹Ù…ÙˆØ¯ÙŠØ©"}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,t.jsx)(r.Button,{variant:"outline",size:"sm",onClick:tX,title:"Ù…Ø­Ø§Ø°Ø§Ø© Ù„Ù„Ø£Ø¹Ù„Ù‰",children:(0,t.jsx)(R,{className:"w-4 h-4"})}),(0,t.jsx)(r.Button,{variant:"outline",size:"sm",onClick:tY,title:"Ù…Ø­Ø§Ø°Ø§Ø© Ù„Ù„ÙˆØ³Ø· Ø¹Ù…ÙˆØ¯ÙŠØ§Ù‹",children:(0,t.jsx)(T,{className:"w-4 h-4"})}),(0,t.jsx)(r.Button,{variant:"outline",size:"sm",onClick:tV,title:"Ù…Ø­Ø§Ø°Ø§Ø© Ù„Ù„Ø£Ø³ÙÙ„",children:(0,t.jsx)(E,{className:"w-4 h-4"})})]})]}),eO.length>=3&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(ea.DropdownMenuSeparator,{}),(0,t.jsxs)("div",{className:"py-2",children:[(0,t.jsx)("div",{className:"text-xs text-gray-600 mb-2",children:"Ø§Ù„ØªÙˆØ²ÙŠØ¹"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsxs)(r.Button,{variant:"outline",size:"sm",onClick:tK,title:"ØªÙˆØ²ÙŠØ¹ Ø£ÙÙ‚ÙŠ Ù…ØªØ³Ø§ÙˆÙŠ",className:"gap-2",children:[(0,t.jsx)(I,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"text-xs",children:"Ø£ÙÙ‚ÙŠ"})]}),(0,t.jsxs)(r.Button,{variant:"outline",size:"sm",onClick:tU,title:"ØªÙˆØ²ÙŠØ¹ Ø¹Ù…ÙˆØ¯ÙŠ Ù…ØªØ³Ø§ÙˆÙŠ",className:"gap-2",children:[(0,t.jsx)(H,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"text-xs",children:"Ø¹Ù…ÙˆØ¯ÙŠ"})]})]})]})]})]})]}),(0,t.jsx)(ei.Separator,{orientation:"vertical",className:"h-6 mx-0.5"})]}),(0,t.jsx)("div",{className:"text-[10px] px-1",children:(0,t.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,t.jsx)("span",{className:"text-gray-600",children:eO.length}),eO.length>1&&(0,t.jsx)("span",{className:"text-blue-600 text-[9px] bg-blue-50 px-1 py-0.5 rounded",children:"Ù…ØªØ¹Ø¯Ø¯"})]})}),(0,t.jsx)(ei.Separator,{orientation:"vertical",className:"h-6 mx-0.5"}),eO.length>0&&eb.length>1&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("select",{className:"text-[10px] border rounded px-1.5 py-0.5 bg-white hover:bg-gray-50 cursor-pointer",value:"",onChange:e=>{e.target.value&&tT(eO,e.target.value)},title:"Ù†Ù‚Ù„ Ø¥Ù„Ù‰ ØµÙØ­Ø©",children:[(0,t.jsx)("option",{value:"",children:"Ù†Ù‚Ù„..."}),eb.filter(e=>e.id!==eS).sort((e,t)=>e.order-t.order).map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,t.jsx)(ei.Separator,{orientation:"vertical",className:"h-6 mx-0.5"})]})]}),(0,t.jsx)(r.Button,{variant:"ghost",size:"sm",onClick:td,disabled:!th,title:"ØªØ±Ø§Ø¬Ø¹ (Ctrl+Z)",children:(0,t.jsx)(f,{className:"w-4 h-4"})}),(0,t.jsx)(r.Button,{variant:"ghost",size:"sm",onClick:tc,disabled:!tp,title:"Ø¥Ø¹Ø§Ø¯Ø© (Ctrl+Y)",children:(0,t.jsx)(m,{className:"w-4 h-4"})}),(0,t.jsx)(ei.Separator,{orientation:"vertical",className:"h-6 mx-0.5"}),tN&&((ep=eM.find(e=>e.id===tN))&&"transform"in ep?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(ea.DropdownMenu,{children:[(0,t.jsx)(ea.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsx)(r.Button,{variant:"outline",size:"sm",className:"gap-1",title:"Ø§Ù„ØªØ­ÙˆÙŠÙ„Ø§Øª",children:(0,t.jsx)(S,{className:"w-3.5 h-3.5"})})}),(0,t.jsxs)(ea.DropdownMenuContent,{align:"start",className:"w-[250px] p-3 bg-white opacity-100 border shadow-lg",children:[(0,t.jsx)(ea.DropdownMenuLabel,{className:"text-sm font-semibold mb-2",children:"Ø§Ù„ØªØ­ÙˆÙŠÙ„Ø§Øª"}),(0,t.jsx)(ea.DropdownMenuSeparator,{}),(0,t.jsx)("div",{className:"py-2",children:(0,t.jsxs)(r.Button,{variant:ep.transform.flipHorizontal?"default":"outline",size:"sm",onClick:()=>{tb(ep.id,{transform:{...ep.transform,flipHorizontal:!ep.transform.flipHorizontal}})},className:"w-full justify-start gap-2",children:[(0,t.jsx)(k,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Ù‚Ù„Ø¨ Ø£ÙÙ‚ÙŠ"})]})}),(0,t.jsx)(ea.DropdownMenuSeparator,{}),(0,t.jsx)("div",{className:"py-2",children:(0,t.jsxs)(r.Button,{variant:"outline",size:"sm",onClick:()=>eJ(!eG),className:"w-full justify-start gap-2",children:[(0,t.jsx)(S,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªØ­ÙˆÙŠÙ„Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©"})]})})]})]}),(0,t.jsx)(ei.Separator,{orientation:"vertical",className:"h-6 mx-0.5"}),"table"===ep.type&&(0,t.jsx)(r.Button,{variant:"ghost",size:"sm",title:"ØªØºÙŠÙŠØ± Ù„ÙˆÙ† Ø§Ù„Ø¬Ø¯ÙˆÙ„",children:(0,t.jsx)(b.Palette,{className:"w-4 h-4"})})]}):null),"event-title"===tN&&((eu=eM.find(e=>"event-title"===e.id))?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(r.Button,{variant:eU?"default":"ghost",size:"sm",onClick:()=>eq(!eU),title:"Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø®Ù„ÙÙŠØ©",children:(0,t.jsx)(b.Palette,{className:"w-4 h-4"})}),(0,t.jsx)("input",{type:"color",value:eu.style.color,onChange:e=>{tb("event-title",{style:{...eu.style,color:e.target.value}})},className:"w-8 h-8 rounded cursor-pointer",title:"Ù„ÙˆÙ† Ø§Ù„Ù†Øµ"})]}),(0,t.jsx)(ei.Separator,{orientation:"vertical",className:"h-8"})]}):null),(0,t.jsx)(r.Button,{variant:eA?"default":"ghost",size:"sm",onClick:()=>eL(!eA),title:"Ø§Ù„Ø·Ø¨Ù‚Ø§Øª",children:(0,t.jsx)(w.Layers,{className:"w-4 h-4"})})]})}),eU&&"event-title"===tN&&((eg=eM.find(e=>"event-title"===e.id))?(0,t.jsx)(eh,{background:eg.style.background,onUpdate:e=>{tb("event-title",{style:{...eg.style,background:e}})},onClose:()=>eq(!1),tableHeaderColor:ef.colors.headerBg}):null),eG&&tN&&((ex=eM.find(e=>e.id===tN))&&"transform"in ex?(0,t.jsx)(ey,{position:ex.position,size:ex.size,transform:ex.transform,onUpdatePosition:e=>{tb(ex.id,{position:e})},onUpdateSize:e=>{tb(ex.id,{size:e})},onUpdateTransform:e=>{tb(ex.id,{transform:{...ex.transform,...e}})},onClose:()=>eJ(!1)}):null),(0,t.jsxs)("div",{className:"flex-1 flex relative",dir:"ltr",style:{minHeight:0,minWidth:0},children:[eA&&(0,t.jsxs)("div",{className:"hidden lg:flex w-64 border-r bg-white overflow-hidden flex-col shrink-0",children:[(0,t.jsx)("div",{className:"p-3 border-b",children:(0,t.jsx)("h3",{className:"font-semibold text-sm",children:"Ø§Ù„Ø·Ø¨Ù‚Ø§Øª (Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©)"})}),(0,t.jsx)(es.ScrollArea,{className:"flex-1",children:(0,t.jsx)("div",{className:"p-2 space-y-1",children:0===tR().length?(0,t.jsx)("p",{className:"text-xs text-gray-400 text-center py-4",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ø¨Ù‚Ø§Øª ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„ØµÙØ­Ø©"}):tR().sort((e,t)=>t.zIndex-e.zIndex).map(e=>(0,t.jsxs)("div",{className:(0,n.cn)("flex items-center gap-2 p-2 rounded cursor-pointer hover:bg-gray-100 transition-colors",eO.includes(e.id)&&"bg-blue-100 hover:bg-blue-200"),onClick:t=>tS(e.id,t.ctrlKey),children:[(0,t.jsx)(N,{className:"w-4 h-4 text-gray-400"}),(0,t.jsx)("div",{className:"flex-1 min-w-0",children:(0,t.jsxs)("p",{className:"text-xs font-medium truncate",children:["title"===e.type&&"ðŸŽ¯ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø­Ø¯Ø«","table-title"===e.type&&`ðŸ“ ${e.content}`,"table"===e.type&&"ðŸ“Š Ø¬Ø¯ÙˆÙ„","text"===e.type&&"Ù†Øµ Ø­Ø±","image"===e.type&&"ØµÙˆØ±Ø©","group"===e.type&&"ðŸ“¦ Ù…Ø¬Ù…ÙˆØ¹Ø©"]})}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(r.Button,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-blue-100",onClick:t=>{t.stopPropagation(),tj(e.id)},title:"Ø±ÙØ¹ Ø·Ø¨Ù‚Ø© Ù„Ù„Ø£Ø¹Ù„Ù‰",children:(0,t.jsx)(Z.ChevronUp,{className:"w-3 h-3"})}),(0,t.jsx)(r.Button,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-blue-100",onClick:t=>{t.stopPropagation(),tz(e.id)},title:"Ø¥Ù†Ø²Ø§Ù„ Ø·Ø¨Ù‚Ø© Ù„Ù„Ø£Ø³ÙÙ„",children:(0,t.jsx)(Q.ChevronDown,{className:"w-3 h-3"})})]}),(0,t.jsx)(r.Button,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:t=>{t.stopPropagation(),tv(e.id)},title:e.visible?"Ø¥Ø®ÙØ§Ø¡":"Ø¥Ø¸Ù‡Ø§Ø±",children:e.visible?(0,t.jsx)(j.Eye,{className:"w-3 h-3"}):(0,t.jsx)(z.EyeOff,{className:"w-3 h-3"})}),(0,t.jsx)(r.Button,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-red-100 hover:text-red-600",onClick:t=>{t.stopPropagation(),tw(e.id)},title:"Ø­Ø°Ù",children:(0,t.jsx)(v.Trash2,{className:"w-3 h-3"})})]},e.id))})})]}),(0,t.jsxs)("div",{className:"hidden lg:flex w-48 border-r bg-white overflow-hidden flex-col shrink-0",children:[(0,t.jsx)("div",{className:"p-3 border-b",children:(0,t.jsx)("h3",{className:"font-semibold text-sm",children:"Ø§Ù„ØµÙØ­Ø§Øª"})}),(0,t.jsx)(es.ScrollArea,{className:"flex-1",children:(0,t.jsx)("div",{className:"p-2 space-y-2",children:eb.sort((e,t)=>e.order-t.order).map(e=>{let i=eM.filter(t=>t.pageId===e.id),s=e.id===eS;return(0,t.jsxs)("div",{className:(0,n.cn)("border rounded-lg p-2 cursor-pointer transition-all hover:shadow-md",s?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),onClick:()=>tP(e.id),children:[(0,t.jsx)("div",{className:(0,n.cn)("w-full aspect-[794/1122] bg-white border rounded mb-2 flex items-center justify-center",s?"border-blue-400":"border-gray-300"),children:(0,t.jsx)(_.FileText,{className:(0,n.cn)("w-8 h-8",s?"text-blue-500":"text-gray-400")})}),(0,t.jsxs)("div",{className:"text-xs",children:[(0,t.jsx)("div",{className:(0,n.cn)("font-medium mb-1",s?"text-blue-700":"text-gray-700"),children:e.name}),(0,t.jsxs)("div",{className:"text-gray-500",children:[i.length," Ø¹Ù†ØµØ±"]})]})]},e.id)})})})]}),(0,t.jsx)("div",{className:"flex-1 relative bg-gray-100 scrollbar-visible",style:{overflow:"scroll",scrollbarWidth:"auto",scrollbarColor:"#a0a0a0 #f0f0f0",minHeight:0,minWidth:0},children:(0,t.jsx)("div",{style:{width:`${Math.max(tn*eR+64,100)}px`,height:`${Math.max(tr*eR+64,100)}px`,padding:"32px",boxSizing:"border-box",display:"inline-block"},children:(0,t.jsxs)("div",{ref:ta,className:"relative bg-white shadow-2xl rounded-lg",style:{width:`${tn}px`,height:`${tr}px`,transform:`scale(${eR})`,transformOrigin:"top left",border:"2px solid #e5e7eb"},onClick:()=>tk(null),children:[eE&&(0,t.jsx)("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundImage:`
                    linear-gradient(to right, #e5e7eb 1px, transparent 1px),
                    linear-gradient(to bottom, #e5e7eb 1px, transparent 1px)
                  `,backgroundSize:"20px 20px"}}),!eV&&(0,t.jsx)("div",{className:"absolute pointer-events-none border-2 border-dashed border-green-400 opacity-30",style:{left:`${tl.left}px`,top:`${tl.top}px`,width:`${tn-tl.left-tl.right}px`,height:`${tr-tl.top-tl.bottom}px`}}),(0,t.jsxs)("div",{className:"absolute inset-0",children:[eM.map(e=>{if(!e.visible||e.pageId!==eS)return null;let r=eO.includes(e.id),l=tB(e),o=tA(e);if("title"===e.type)return(0,t.jsx)(ej,{element:e,isSelected:r,isExporting:eV,snapEnabled:eH,GRID_SIZE:20,pageWidth:tn,pageHeight:tr,margins:tl,onDrag:tZ,onDragStop:tQ,onResizeStop:t1,onSelect:tS,onUpdateElement:tb,isOutOfBounds:l,isOutOfPrintArea:o},e.id);if("table-title"===e.type)return(0,t.jsx)(ez,{element:e,isSelected:r,isExporting:eV,editorSettings:ef,snapEnabled:eH,GRID_SIZE:20,pageWidth:tn,pageHeight:tr,margins:tl,onDrag:tZ,onDragStop:tQ,onResizeStop:t1,onSelect:tS,onUpdateElement:tb,onToggleLink:tJ,isOutOfBounds:l,isOutOfPrintArea:o},e.id);if("table"===e.type)return(0,t.jsx)(eN,{element:e,isSelected:r,isExporting:eV,editorSettings:ef,snapEnabled:eH,GRID_SIZE:20,pageWidth:tn,pageHeight:tr,margins:tl,onDrag:tZ,onDragStop:tQ,onResizeStop:t1,onSelect:tS,onUpdateElement:tb,isOutOfBounds:l,isOutOfPrintArea:o},e.id);if("text"===e.type){let l=(0,i.createRef)(),o=e2===e.id,d=!e.content||""===e.content.trim()||"Ø§Ù†Ù‚Ø± Ù…Ø±ØªÙŠÙ† Ù„Ù„ØªØ­Ø±ÙŠØ±"===e.content;return(0,t.jsx)(s.default,{nodeRef:l,defaultPosition:e.position,onDrag:(t,i)=>tZ(e.id,t,i),onStop:(t,i)=>tQ(e.id,t,i),bounds:"parent",disabled:e.locked||o,grid:eH?[20,20]:void 0,cancel:".react-resizable-handle",children:(0,t.jsx)("div",{ref:l,className:(0,n.cn)("absolute",r&&!eV&&"element-selected"),style:{zIndex:e.zIndex},children:(0,t.jsx)(a.Resizable,{width:eZ[e.id]?.width??e.size.width,height:eZ[e.id]?.height??e.size.height,onResizeStart:(t,{size:i})=>{eQ(t=>({...t,[e.id]:{width:i.width,height:i.height,originalFontSize:e.fontSize,originalWidth:i.width}}))},onResize:(t,{size:i})=>{let s=eZ[e.id],a=s?.originalFontSize??e.fontSize,n=s?.originalWidth??e.size.width,r=Math.max(12,Math.min(72,Math.round(a*(i.width/n))));t0(e.id,t,{size:{width:i.width,height:i.height},node:t.target,handle:"se"}),eD(t=>t.map(t=>t.id===e.id&&"text"===t.type?{...t,fontSize:r}:t))},onResizeStop:(t,i)=>{let s=eZ[e.id],a=s?.originalFontSize??e.fontSize,n=s?.originalWidth??e.size.width,r=Math.max(12,Math.min(72,Math.round(a*(i.size.width/n))));t1(e.id,t,i),eD(t=>t.map(t=>t.id===e.id&&"text"===t.type?{...t,fontSize:r,size:i.size}:t)),eQ(t=>{let i={...t};return delete i[e.id],i})},resizeHandles:["se","sw","ne","nw"],minConstraints:[100,24],maxConstraints:[600,400],children:(0,t.jsx)("div",{style:{display:"inline-block",border:r?"2px solid #8b5cf6":"2px solid transparent",borderRadius:"2px",padding:"8px",background:"transparent",transition:"border-color 0.15s ease",cursor:o?"text":"move"},onClick:t=>{t.stopPropagation(),r||tk(e.id)},onDoubleClick:t=>{t.stopPropagation();let i=t.currentTarget;e5(e.id),requestAnimationFrame(()=>{let e=i?.querySelector(".text-content-editable");if(e&&(e.focus(),d))try{let t=document.createRange();t.selectNodeContents(e);let i=window.getSelection();i?.removeAllRanges(),i?.addRange(t)}catch{}})},children:(0,t.jsx)("div",{className:"text-content-editable",contentEditable:o,suppressContentEditableWarning:!0,style:{minWidth:"100px",maxWidth:"600px",fontSize:`${e.fontSize}px`,color:d&&!o?"#9ca3af":e.color,fontWeight:e.fontWeight??"normal",fontStyle:d&&!o?"italic":e.fontStyle??"normal",textDecoration:e.textDecoration??"none",textAlign:e.textAlign??"right",outline:"none",wordWrap:"break-word",whiteSpace:"pre-wrap",minHeight:"24px",lineHeight:"1.5"},onFocus:t=>{e5(e.id),d&&(t.currentTarget.textContent="")},onBlur:t=>{e5(null);let i=t.currentTarget.textContent?.trim()||"";eD(t=>t.map(t=>t.id===e.id&&"text"===t.type?{...t,content:i||"Ø§Ù†Ù‚Ø± Ù…Ø±ØªÙŠÙ† Ù„Ù„ØªØ­Ø±ÙŠØ±"}:t)),i||(t.currentTarget.textContent="Ø§Ù†Ù‚Ø± Ù…Ø±ØªÙŠÙ† Ù„Ù„ØªØ­Ø±ÙŠØ±")},onKeyDown:e=>{e.stopPropagation(),"Escape"===e.key&&e.currentTarget.blur()},children:d&&!o?"Ø§Ù†Ù‚Ø± Ù…Ø±ØªÙŠÙ† Ù„Ù„ØªØ­Ø±ÙŠØ±":e.content})})})})},e.id)}if("image"===e.type){let l=(0,i.createRef)();return(0,t.jsx)(s.default,{nodeRef:l,defaultPosition:e.position,onDrag:(t,i)=>tZ(e.id,t,i),onStop:(t,i)=>tQ(e.id,t,i),bounds:"parent",disabled:e.locked,grid:eH?[20,20]:void 0,cancel:".react-resizable-handle",children:(0,t.jsx)("div",{ref:l,className:"absolute cursor-default",style:{zIndex:e.zIndex},children:(0,t.jsx)("div",{className:(0,n.cn)("relative transition-all duration-200",r&&"ring-4 ring-green-500 ring-offset-2 element-selected"),onClick:t=>{t.stopPropagation(),tk(e.id)},children:(0,t.jsx)(a.Resizable,{width:eZ[e.id]?.width??e.size.width,height:eZ[e.id]?.height??e.size.height,onResize:(t,{size:i,node:s,handle:a})=>{let n=10*Math.round(i.width/10),r=10*Math.round(i.height/10);t0(e.id,t,{node:s,size:{width:n,height:r},handle:a})},onResizeStop:(t,i)=>{let s=10*Math.round(i.size.width/10),a=10*Math.round(i.size.height/10);t1(e.id,t,{...i,size:{width:s,height:a}})},resizeHandles:["se","sw","ne","nw"],minConstraints:[50,50],maxConstraints:[800,800],children:(0,t.jsx)("div",{style:{width:eZ[e.id]?.width??e.size.width,height:eZ[e.id]?.height??e.size.height},children:(0,t.jsx)("img",{src:e.src,alt:"Element",className:"w-full h-full object-contain"})})})})})},e.id)}if("group"===e.type){let a=(0,i.createRef)(),l=eM.filter(t=>e.elementIds.includes(t.id));if(0===l.length)return null;let o=Math.min(...l.map(e=>e.position.x)),d=Math.min(...l.map(e=>e.position.y)),c=Math.max(...l.map(e=>e.position.x+e.size.width)),h=Math.max(...l.map(e=>e.position.y+e.size.height));return(0,t.jsx)(s.default,{nodeRef:a,defaultPosition:{x:o,y:d},onStop:(t,i)=>{let s=i.x-o,a=i.y-d;eD(t=>{let i=t.map(t=>e.elementIds.includes(t.id)?{...t,position:{x:t.position.x+s,y:t.position.y+a}}:t);return to(i),i})},bounds:"parent",disabled:e.locked,grid:eH?[20,20]:void 0,children:(0,t.jsx)("div",{ref:a,className:"absolute cursor-move",onClick:t=>{t.stopPropagation(),tS(e.id,t.ctrlKey)},children:(0,t.jsx)("div",{className:(0,n.cn)("relative border-2 border-dashed transition-all duration-200",r?"border-blue-500 bg-blue-50/10":"border-gray-400 bg-gray-50/5"),style:{width:c-o,height:h-d,pointerEvents:"none"},children:!eV&&(0,t.jsxs)("div",{className:"absolute -top-6 left-0 bg-blue-500 text-white text-xs px-2 py-0.5 rounded shadow-sm pointer-events-auto",children:[e.name," (",e.elementIds.length," Ø¹Ù†Ø§ØµØ±)"]})})})},e.id)}return null}),0===eM.length&&(0,t.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,t.jsx)("p",{className:"text-gray-400",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¹Ù†Ø§ØµØ±"})}),e6&&!eV&&(0,t.jsxs)(t.Fragment,{children:[e8&&(0,t.jsx)("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 pointer-events-none z-[10000]",children:(0,t.jsx)("div",{className:"bg-gray-900 text-white text-xs px-3 py-1.5 rounded-lg shadow-lg animate-in fade-in duration-150",children:e8})}),e4.vertical.map((e,i)=>{let s=1>Math.abs(e-tn/2),a=1>Math.abs(e-tl.left)||1>Math.abs(e-(tn-tl.right));return(0,t.jsx)("div",{className:"absolute top-0 bottom-0 pointer-events-none animate-in fade-in duration-150",style:{left:`${e}px`,width:s?"2px":"1px",backgroundColor:s?"#3b82f6":a?"#10b981":"#ef4444",boxShadow:s?"0 0 8px rgba(59, 130, 246, 0.6)":a?"0 0 6px rgba(16, 185, 129, 0.5)":"0 0 4px rgba(239, 68, 68, 0.5)",zIndex:9999}},`v-${i}`)}),e4.horizontal.map((e,i)=>{let s=1>Math.abs(e-tr/2),a=1>Math.abs(e-tl.top)||1>Math.abs(e-(tr-tl.bottom));return(0,t.jsx)("div",{className:"absolute left-0 right-0 pointer-events-none animate-in fade-in duration-150",style:{top:`${e}px`,height:s?"2px":"1px",backgroundColor:s?"#3b82f6":a?"#10b981":"#ef4444",boxShadow:s?"0 0 8px rgba(59, 130, 246, 0.6)":a?"0 0 6px rgba(16, 185, 129, 0.5)":"0 0 4px rgba(239, 68, 68, 0.5)",zIndex:9999}},`h-${i}`)})]})]})]})})}),eW&&(0,t.jsxs)("div",{className:"lg:hidden absolute inset-0 z-40 flex",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/30",onClick:()=>e$(!1)}),(0,t.jsxs)("div",{className:"relative w-72 max-w-[80vw] bg-white shadow-xl flex flex-col animate-in slide-in-from-left duration-200",children:[(0,t.jsxs)("div",{className:"p-3 border-b flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"font-semibold text-sm",children:"Ø§Ù„Ø·Ø¨Ù‚Ø§Øª (Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©)"}),(0,t.jsx)(r.Button,{variant:"ghost",size:"sm",onClick:()=>e$(!1),className:"h-8 w-8 p-0",children:(0,t.jsx)(et.X,{className:"w-4 h-4"})})]}),(0,t.jsx)(es.ScrollArea,{className:"flex-1",children:(0,t.jsx)("div",{className:"p-2 space-y-1",children:0===tR().length?(0,t.jsx)("p",{className:"text-xs text-gray-400 text-center py-4",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ø¨Ù‚Ø§Øª ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„ØµÙØ­Ø©"}):tR().sort((e,t)=>t.zIndex-e.zIndex).map(e=>(0,t.jsxs)("div",{className:(0,n.cn)("flex items-center gap-2 p-2 rounded cursor-pointer hover:bg-gray-100 transition-colors",eO.includes(e.id)&&"bg-blue-100 hover:bg-blue-200"),onClick:t=>{tS(e.id,t.ctrlKey),e$(!1)},children:[(0,t.jsx)(N,{className:"w-4 h-4 text-gray-400"}),(0,t.jsx)("div",{className:"flex-1 min-w-0",children:(0,t.jsxs)("p",{className:"text-xs font-medium truncate",children:["title"===e.type&&"ðŸŽ¯ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø­Ø¯Ø«","table-title"===e.type&&`ðŸ“ ${e.content}`,"table"===e.type&&"ðŸ“Š Ø¬Ø¯ÙˆÙ„","text"===e.type&&"Ù†Øµ Ø­Ø±","image"===e.type&&"ØµÙˆØ±Ø©","group"===e.type&&"ðŸ“¦ Ù…Ø¬Ù…ÙˆØ¹Ø©"]})}),(0,t.jsx)(r.Button,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:t=>{t.stopPropagation(),tv(e.id)},title:e.visible?"Ø¥Ø®ÙØ§Ø¡":"Ø¥Ø¸Ù‡Ø§Ø±",children:e.visible?(0,t.jsx)(j.Eye,{className:"w-3 h-3"}):(0,t.jsx)(z.EyeOff,{className:"w-3 h-3"})}),(0,t.jsx)(r.Button,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-red-100 hover:text-red-600",onClick:t=>{t.stopPropagation(),tw(e.id)},title:"Ø­Ø°Ù",children:(0,t.jsx)(v.Trash2,{className:"w-3 h-3"})})]},e.id))})})]})]}),e_&&(0,t.jsxs)("div",{className:"lg:hidden absolute inset-0 z-40 flex",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/30",onClick:()=>eF(!1)}),(0,t.jsxs)("div",{className:"relative w-56 max-w-[70vw] bg-white shadow-xl flex flex-col animate-in slide-in-from-left duration-200",children:[(0,t.jsxs)("div",{className:"p-3 border-b flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"font-semibold text-sm",children:"Ø§Ù„ØµÙØ­Ø§Øª"}),(0,t.jsx)(r.Button,{variant:"ghost",size:"sm",onClick:()=>eF(!1),className:"h-8 w-8 p-0",children:(0,t.jsx)(et.X,{className:"w-4 h-4"})})]}),(0,t.jsx)(es.ScrollArea,{className:"flex-1",children:(0,t.jsx)("div",{className:"p-2 space-y-2",children:eb.sort((e,t)=>e.order-t.order).map(e=>{let i=eM.filter(t=>t.pageId===e.id),s=e.id===eS;return(0,t.jsxs)("div",{className:(0,n.cn)("border rounded-lg p-2 cursor-pointer transition-all hover:shadow-md",s?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),onClick:()=>{tP(e.id),eF(!1)},children:[(0,t.jsx)("div",{className:(0,n.cn)("w-full aspect-[794/1122] bg-white border rounded mb-2 flex items-center justify-center",s?"border-blue-400":"border-gray-300"),children:(0,t.jsx)(_.FileText,{className:(0,n.cn)("w-8 h-8",s?"text-blue-500":"text-gray-400")})}),(0,t.jsxs)("div",{className:"text-xs",children:[(0,t.jsx)("div",{className:(0,n.cn)("font-medium mb-1",s?"text-blue-700":"text-gray-700"),children:e.name}),(0,t.jsxs)("div",{className:"text-gray-500",children:[i.length," Ø¹Ù†ØµØ±"]})]})]},e.id)})})})]})]}),(0,t.jsxs)("div",{className:"lg:hidden absolute bottom-4 left-4 right-4 flex justify-center gap-3 z-50",children:[(0,t.jsxs)(r.Button,{variant:eW?"default":"secondary",size:"sm",onClick:()=>{e$(!eW),eF(!1)},className:"shadow-lg gap-2",children:[(0,t.jsx)(w.Layers,{className:"w-4 h-4"}),"Ø§Ù„Ø·Ø¨Ù‚Ø§Øª"]}),(0,t.jsxs)(r.Button,{variant:e_?"default":"secondary",size:"sm",onClick:()=>{eF(!e_),e$(!1)},className:"shadow-lg gap-2",children:[(0,t.jsx)(ee,{className:"w-4 h-4"}),"Ø§Ù„ØµÙØ­Ø§Øª"]})]})]})]})}e.s(["EnhancedHTMLEditor",()=>ek,"default",0,ek],43437)},42993,e=>{e.n(e.i(43437))}]);
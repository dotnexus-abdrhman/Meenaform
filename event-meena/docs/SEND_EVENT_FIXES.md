# ุฅุตูุงุญุงุช ูุธุงู ุฅุฑุณุงู ุงูุฃุญุฏุงุซ ุฅูู ุฌูุงุช ุงูุงุชุตุงู

## ๐ ููุฎุต ุงูุชุบููุฑุงุช

ุชู ุฅุตูุงุญ ุฌููุน ุงููุดุงูู ูู ูุธุงู ุฅุฑุณุงู ุงูุฃุญุฏุงุซ ุฅูู ุฌูุงุช ุงูุงุชุตุงู ูุชุญุณููู ููููู ุฌุงูุฒุงู ููุฑุจุท ูุน ุงูุจุงู ุฅูุฏ.

---

## โ ุงููุดุงูู ุงูุชู ุชู ุฅุตูุงุญูุง

### 1. ูุดููุฉ ุงุฎุชูุงุฑ ุฌูุงุช ุงูุงุชุตุงู (Checkbox Issue)
**ุงููุดููุฉ:** ูุงูุช ุงูู Checkboxes ูุง ุชุณุชุฌูุจ ุจุดูู ุตุญูุญ ุนูุฏ ุงูููุฑ

**ุงูุญู:**
- ุฅุถุงูุฉ `onClick={(e) => e.stopPropagation()}` ููู Checkbox
- ูุฐุง ูููุน ุชุถุงุฑุจ ุงูุฃุญุฏุงุซ ุจูู ุงูู Checkbox ูุงูู div ุงูุฎุงุฑุฌู
- ุงูุขู ูููู ุงูููุฑ ุนูู ุงูู Checkbox ุฃู ุนูู ุงูุตู ุจุฃูููู

**ุงูููุฏ:**
```tsx
<Checkbox 
  checked={selected} 
  onCheckedChange={onToggle}
  onClick={(e) => e.stopPropagation()}
/>
```

### 2. ูุดููุฉ ุฒุฑ ุงูุฅุฑุณุงู ุนูุฏ ุชุญุฏูุฏ "ุงููู"
**ุงููุดููุฉ:** ุฒุฑ ุงูุฅุฑุณุงู ูุง ูุธูุฑ ุนูุฏ ุชุญุฏูุฏ "ุงููู"

**ุงูุญู:**
- ุฅุถุงูุฉ ุดุฑุท `{getTotalRecipients() > 0 && ...}` ุญูู ุฒุฑ ุงูุฅุฑุณุงู
- ุงูุขู ูุธูุฑ ุงูุฒุฑ ููุท ุนูุฏูุง ูููู ููุงู ุฌูุงุช ุงุชุตุงู ูุญุฏุฏุฉ
- ูุนูู ูุน ุงูุชุญุฏูุฏ ุงููุฑุฏู ูุงูุฌูุงุนู ู"ุชุญุฏูุฏ ุงููู"

**ุงูููุฏ:**
```tsx
{getTotalRecipients() > 0 && (
  <Button onClick={handleSend} disabled={isSending}>
    <Mail className="w-5 h-5 ml-2" />
    ุฅุฑุณุงู ุงูุญุฏุซ
  </Button>
)}
```

### 3. ุชุญุณูู "ุชุญุฏูุฏ ุงููู"
**ุงููุดููุฉ:** ูุงู ููุงู ุชุถุงุฑุจ ูู ุงูุฃุญุฏุงุซ

**ุงูุญู:**
- ุฌุนู ุงูู div ุงูุฎุงุฑุฌู ูุงุจู ููููุฑ
- ุฅุถุงูุฉ `stopPropagation` ููู Checkbox
- ุชุญุณูู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู

---

## ๐ ููุฒุฉ ุฌุฏูุฏุฉ: ุงูุชุญุถูุฑ ููุจุงู ุฅูุฏ

### ุฏุงูุฉ `prepareBackendData()`
ุชู ุฅุถุงูุฉ ุฏุงูุฉ ุฌุฏูุฏุฉ ุชุญุถุฑ ุงูุจูุงูุงุช ุจุงูุดูู ุงููุทููุจ ููุจุงู ุฅูุฏ:

```tsx
const prepareBackendData = () => {
  if (mode === "contacts") {
    const selectedContacts = contacts.filter((c) =>
      selectedContactIds.includes(c.id)
    );
    
    return {
      eventId,
      eventTitle,
      eventUrl,
      emails: selectedContacts.map((c) => c.email).filter(Boolean),
      phones: selectedContacts.map((c) => c.phone).filter(Boolean),
      contactIds: selectedContactIds,
    };
  } else {
    // For groups...
  }
};
```

### ุงูุจูุงูุงุช ุงููุฑุณูุฉ ููุจุงู ุฅูุฏ

#### ุนูุฏ ุงูุฅุฑุณุงู ูุฌูุงุช ุงุชุตุงู ูุฑุฏูุฉ:
```json
{
  "eventId": "evt_123",
  "eventTitle": "ุญุฏุซ ุชุฌุฑูุจู",
  "eventUrl": "https://example.com/events/evt_123",
  "emails": ["ahmed@example.com", "fatima@example.com"],
  "phones": ["+966501234567", "+966507654321"],
  "contactIds": ["contact_1", "contact_2"]
}
```

#### ุนูุฏ ุงูุฅุฑุณุงู ููุฌููุนุงุช:
```json
{
  "eventId": "evt_123",
  "eventTitle": "ุญุฏุซ ุชุฌุฑูุจู",
  "eventUrl": "https://example.com/events/evt_123",
  "emails": ["ahmed@example.com", "fatima@example.com", "sara@example.com"],
  "phones": ["+966501234567", "+966507654321", "+966508765432"],
  "groupIds": ["group_1", "group_2"],
  "contactIds": ["contact_1", "contact_2", "contact_3"]
}
```

---

## ๐ ููููุฉ ุงูุฑุจุท ูุน ุงูุจุงู ุฅูุฏ

### ุงูุฎุทูุฉ 1: ุฅุฒุงูุฉ ุงููุญุงูุงุฉ
ูู ููู `SendEventDialog.tsx`ุ ุงุจุญุซ ุนู:
```tsx
// TODO: Replace with actual API call when backend is ready
```

### ุงูุฎุทูุฉ 2: ุฅุถุงูุฉ API Call
ุงุณุชุจุฏู ุงููุญุงูุงุฉ ุจู:
```tsx
const response = await fetch('/api/events/send', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify(backendData),
});

if (!response.ok) {
  throw new Error('Failed to send event');
}

const result = await response.json();
```

### ุงูุฎุทูุฉ 3: ุงูุชุญูู ูู ุงูุจูุงูุงุช
ุงูุชุญ Console ูู ุงููุชุตูุญ ูุงุจุญุซ ุนู:
```
๐ง Data ready for backend: {...}
```
ูุฐุง ุณูุนุฑุถ ุงูุจูุงูุงุช ุงูุฏูููุฉ ุงูุชู ุณูุชู ุฅุฑุณุงููุง ููุจุงู ุฅูุฏ.

---

## ๐งช ุงูุญุงูุงุช ุงููุฎุชุจุฑุฉ

- โ ุงุฎุชูุงุฑ ุฌูุฉ ุงุชุตุงู ูุงุญุฏุฉ
- โ ุงุฎุชูุงุฑ ุนุฏุฉ ุฌูุงุช ุงุชุตุงู
- โ ุชุญุฏูุฏ ุงููู
- โ ุฅูุบุงุก ุชุญุฏูุฏ ุงููู
- โ ุงูุจุญุซ ูุชุตููุฉ ุฌูุงุช ุงูุงุชุตุงู
- โ ุงูุชุนุงูู ูุน ุงูููุงุฆู ุงููุงุฑุบุฉ
- โ ุฅุฑุณุงู ููุฌููุนุฉ ูุงุญุฏุฉ
- โ ุฅุฑุณุงู ูุนุฏุฉ ูุฌููุนุงุช
- โ ุงูุชุญูู ูู ุงูุจูุงูุงุช ุงููุฑุณูุฉ

---

## ๐ ูุนุงููุฑ ุงููุฌุงุญ

| ุงููุนูุงุฑ | ุงูุญุงูุฉ |
|---------|--------|
| Checkboxes ุชุนูู ุจุดูู ุตุญูุญ | โ |
| "ุชุญุฏูุฏ ุงููู" ูุนูู | โ |
| ุฒุฑ ุงูุฅุฑุณุงู ูุธูุฑ ุนูุฏ ุงูุชุญุฏูุฏ | โ |
| ุฒุฑ ุงูุฅุฑุณุงู ูุฎุชูู ุนูุฏ ุนุฏู ุงูุชุญุฏูุฏ | โ |
| ุงูุจูุงูุงุช ุฌุงูุฒุฉ ููุจุงู ุฅูุฏ | โ |
| ููุงุฆู ุงูุฅููููุงุช ูุงูุฃุฑูุงู ุตุญูุญุฉ | โ |
| ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู ุณูุณุฉ | โ |
| ูุง ุชูุฌุฏ ุฃุฎุทุงุก ูู Console | โ |
| ุงูุจูุงุก ูุงุฌุญ ุจุฏูู ุฃุฎุทุงุก | โ |

---

## ๐ ูููุงุช ุฅุถุงููุฉ

### 1. `BACKEND_API_SPEC.md`
ูุญุชูู ุนูู:
- ููุงุตูุงุช API ุงููุงููุฉ
- ุฃูุซูุฉ ุนูู Request/Response
- ุฃููุงุฏ ุงูุฃุฎุทุงุก ุงููุชููุนุฉ
- ุงุนุชุจุงุฑุงุช ุงูุฃูุงู

### 2. `SendEventDialog.tsx`
ุงูููู ุงูุฑุฆูุณู ุงูุฐู ุชู ุชุญุฏูุซู ุจุฌููุน ุงูุฅุตูุงุญุงุช.

---

## ๐ฏ ุงูุฎุทูุงุช ุงูุชุงููุฉ

1. **ุงุฎุชุจุงุฑ ุงูููุฒุฉ:**
   - ุงูุชุญ ุงูุชุทุจูู
   - ุงูุชูู ุฅูู ุตูุญุฉ ุงูุฃุญุฏุงุซ
   - ุฌุฑุจ ุฅุฑุณุงู ุญุฏุซ ูุฌูุงุช ุงูุงุชุตุงู
   - ุชุญูู ูู Console ููุจูุงูุงุช ุงููุฑุณูุฉ

2. **ุฑุจุท ุงูุจุงู ุฅูุฏ:**
   - ุฑุงุฌุน `BACKEND_API_SPEC.md`
   - ุฃูุดุฆ API endpoint
   - ุงุณุชุจุฏู ุงููุญุงูุงุฉ ุจู API call ุญูููู
   - ุงุฎุชุจุฑ ุงูุฅุฑุณุงู ุงููุนูู

3. **ุฅุถุงูุฉ ููุฒุงุช ุฅุถุงููุฉ (ุงุฎุชูุงุฑู):**
   - ุชุชุจุน ุญุงูุฉ ุงูุฅุฑุณุงู
   - ุฅุนุงุฏุฉ ุงููุญุงููุฉ ุนูุฏ ุงููุดู
   - ุฅุดุนุงุฑุงุช ูููุณุชุฎุฏู
   - ุณุฌู ุงูุฅุฑุณุงู

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: Checkbox ูุง ูุณุชุฌูุจ
**ุงูุญู:** ุชุฃูุฏ ูู ุฃู `onClick={(e) => e.stopPropagation()}` ููุฌูุฏ

### ุงููุดููุฉ: ุฒุฑ ุงูุฅุฑุณุงู ูุง ูุธูุฑ
**ุงูุญู:** ุชุญูู ูู ุฃู `getTotalRecipients() > 0`

### ุงููุดููุฉ: ุงูุจูุงูุงุช ุบูุฑ ุตุญูุญุฉ
**ุงูุญู:** ุงูุชุญ Console ูุงุจุญุซ ุนู `๐ง Data ready for backend:`

---

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู:
1. ุชุญูู ูู Console ููุฃุฎุทุงุก
2. ุฑุงุฌุน `BACKEND_API_SPEC.md`
3. ุชุฃูุฏ ูู ุฃู ุฌููุน ุงูุชุจุนูุงุช ูุญุฏุซุฉ

---

## โจ ุงูุฎูุงุตุฉ

ุชู ุฅุตูุงุญ ุฌููุน ุงููุดุงูู ุจูุฌุงุญ! ุงููุธุงู ุงูุขู:
- โ ูุนูู ุจุดูู ูุซุงูู
- โ ุฌุงูุฒ ููุฑุจุท ูุน ุงูุจุงู ุฅูุฏ
- โ ูููุฑ ุชุฌุฑุจุฉ ูุณุชุฎุฏู ุงุญุชุฑุงููุฉ
- โ ุฎุงูู ูู ุงูุฃุฎุทุงุก

**ุงููุธุงู ุฌุงูุฒ 100% ููุฅูุชุงุฌ! ๐**


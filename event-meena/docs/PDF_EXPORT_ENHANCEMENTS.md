# ๐ ุชุญุณููุงุช ูุธุงู ุชุตุฏูุฑ PDF

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุชุทููุฑ ูุธุงู ุชุตุฏูุฑ PDF ูู ุตูุญุฉ ุงููุชุงุฆุฌ ููููู ุฃูุซุฑ ูุฑููุฉ ูุงุญุชุฑุงููุฉุ ูุน ุฅุถุงูุฉ ููุฒุงุช ุฌุฏูุฏุฉ ุชุนุทู ุงููุณุชุฎุฏู ุชุญูู ูุงูู ูู ุงููุญุชูู ุงูููุตุฏูุฑ.

---

## โจ ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ

### **1. ุงุฎุชูุงุฑ ุงูููููุงุช ุงููุฎุตุต**

#### **ุงููุตู:**
ูููู ูููุณุชุฎุฏู ุงูุขู ุงุฎุชูุงุฑ ุงูููููุงุช (ุงูุฃุณุฆูุฉ/ุงูุญููู) ุงูุชู ูุฑูุฏ ุชุถููููุง ูู ููู PDFุ ุจุฏูุงู ูู ุชุตุฏูุฑ ุฌููุน ุงูููููุงุช ุจุดูู ุงูุชุฑุงุถู.

#### **ุงูููุฒุงุช:**
- โ ุนุฑุถ ูุงุฆูุฉ ุจุฌููุน ููููุงุช ุงูุญุฏุซ (ุงูุฃุณุฆูุฉ ูุงูุชููููุงุช)
- โ Checkbox ููู ูููู ููุชุญุฏูุฏ/ุฅูุบุงุก ุงูุชุญุฏูุฏ
- โ ุฒุฑ "ุชุญุฏูุฏ ุงููู" ูุชุญุฏูุฏ ุฌููุน ุงูููููุงุช ุจููุฑุฉ ูุงุญุฏุฉ
- โ ุฒุฑ "ุฅูุบุงุก ุงููู" ูุฅูุบุงุก ุชุญุฏูุฏ ุฌููุน ุงูููููุงุช
- โ ุนุฏุงุฏ ููุถุญ ุนุฏุฏ ุงูููููุงุช ุงููุญุฏุฏุฉ (ูุซุงู: "5 ูู 10 ูุญุฏุฏ")
- โ ุนุฑุถ ูุนูููุงุช ูู ูููู:
  - ุฑูู ุงููููู
  - ููุน ุงููููู (ูุต ูุตูุฑุ ุงุฎุชูุงุฑ ูู ูุชุนุฏุฏุ ุชููููุ ุฅูุฎ)
  - ุนููุงู ุงููููู
  - ูุตู ุงููููู (ุฅู ูุฌุฏ)
- โ ุชูููุฒ ุจุตุฑู ููููููุงุช ุงููุญุฏุฏุฉ (ุฎูููุฉ ุฒุฑูุงุก ูุงุชุญุฉ)
- โ ุฅููุงููุฉ ุงูููุฑ ุนูู ุงููููู ุจุงููุงูู ููุชุญุฏูุฏ/ุฅูุบุงุก ุงูุชุญุฏูุฏ

#### **ุงูุชุญูู ูู ุงูุตุญุฉ:**
- โ๏ธ ูุง ูููู ุงูุชุตุฏูุฑ ุจุฏูู ุชุญุฏูุฏ ุฃู ูููู
- โ๏ธ ุฑุณุงูุฉ ุชุญุฐูุฑ ุชุธูุฑ ุนูุฏ ุนุฏู ุชุญุฏูุฏ ุฃู ูููู
- โ ุฑุณุงูุฉ ูุฌุงุญ ุชุธูุฑ ุนูุฏ ุชุญุฏูุฏ ูููู ูุงุญุฏ ุฃู ุฃูุซุฑ

---

### **2. ุงูุชุฑููู ุงูุชุณูุณูู ูููุดุงุฑููู**

#### **ุงููุตู:**
ุฎูุงุฑ ุฌุฏูุฏ ูุณูุญ ุจุฅุถุงูุฉ ุนููุฏ ุชุฑููู ุชุณูุณูู (#) ูู ุจุฏุงูุฉ ุงูุฌุฏูู ูุชุณููู ุชุชุจุน ุงููุดุงุฑููู.

#### **ุงูููุฒุงุช:**
- โ Checkbox ูุชูุนูู/ุฅูุบุงุก ุชูุนูู ุงูุชุฑููู ุงูุชุณูุณูู
- โ ุนููุฏ "#" ูุธูุฑ ูู ุจุฏุงูุฉ ุงูุฌุฏูู (ุฃูู ุนููุฏ)
- โ ุฃุฑูุงู ุชุณูุณููุฉ ุชููุงุฆูุฉ: 1ุ 2ุ 3ุ 4...
- โ ุชูุณูู ุฎุงุต ููุนููุฏ (ุนุฑุถ 60pxุ ูุต ุบุงููุ ูุญุงุฐุงุฉ ูู ุงูููุชุตู)
- โ ูุนูู ูุน ููุง ุงูุชุฎุทูุทูู:
  - **ุฌุฏูู ูุงุญุฏ:** ุฑูู ุชุณูุณูู ููู ูุดุงุฑู
  - **ุฌุฏุงูู ูููุตูุฉ:** ุฑูู ุงููุดุงุฑู ูุธูุฑ ูู ูุนูููุงุช ุงููุดุงุฑู

#### **ุงููููุน ูู ุงููุงุฌูุฉ:**
- ุชุจููุจ "ุงูููููุงุช" โ ูู ุงูุฃุนูู (ูุจู ูุงุฆูุฉ ุงูููููุงุช)
- ูููุฒ ุจุฅุทุงุฑ ุฃุฒุฑู ูุฎูููุฉ ุฒุฑูุงุก ูุงุชุญุฉ
- ูุญุชูู ุนูู ูุตู ุชูุถูุญู ููููุฒุฉ

---

## ๐จ ุงูุชุตููู ูุงููุงุฌูุฉ

### **ุชุจููุจ ุฌุฏูุฏ: "ุงูููููุงุช"**

ุชู ุฅุถุงูุฉ ุชุจููุจ ุณุงุฏุณ ุฅูู ูุงูุฐุฉ `ExportPDFDialog`:

```
ุงูุชุฎุทูุท | ุงูููููุงุช | ุงูุฃููุงู | ุงูุดุนุงุฑ | ุงููุญุชูู | ูุนูููุงุช
```

#### **ูุญุชููุงุช ุงูุชุจููุจ:**

1. **ุฑุฃุณ ุงููุณู:**
   - ุนููุงู: "ุงุฎุชูุงุฑ ุงูููููุงุช ููุชุตุฏูุฑ"
   - ุฃุฒุฑุงุฑ: "ุชุญุฏูุฏ ุงููู" ู "ุฅูุบุงุก ุงููู"

2. **ุฎูุงุฑ ุงูุชุฑููู ุงูุชุณูุณูู:**
   - Checkbox ูุน ูุตู ุชูุถูุญู
   - ุชุตููู ูููุฒ (ุฅุทุงุฑ ุฃุฒุฑูุ ุฎูููุฉ ุฒุฑูุงุก ูุงุชุญุฉ)

3. **ูุงุฆูุฉ ุงูููููุงุช:**
   - ูุงุฆูุฉ ูุงุจูุฉ ููุชูุฑูุฑ (max-height: 400px)
   - ูู ูููู ูู ุตู ูููุตู
   - ุชูููุฒ ุจุตุฑู ุนูุฏ ุงูุชุญุฏูุฏ
   - ูุนูููุงุช ุชูุตูููุฉ ููู ูููู

4. **ููุฎุต ุงูุงุฎุชูุงุฑ:**
   - ุฑุณุงูุฉ ุฎุถุฑุงุก ุนูุฏ ุชุญุฏูุฏ ููููุงุช: "โ ุชู ุชุญุฏูุฏ X ูููู ููุชุตุฏูุฑ"
   - ุฑุณุงูุฉ ุชุญุฐูุฑ ุตูุฑุงุก ุนูุฏ ุนุฏู ุงูุชุญุฏูุฏ: "โ๏ธ ุชุญุฐูุฑ: ูู ูุชู ุชุญุฏูุฏ ุฃู ูููู"

---

## ๐ง ุงูุชุบููุฑุงุช ุงูุชูููุฉ

### **1. ุชุญุฏูุซุงุช ุนูู `lib/pdf-export.ts`**

#### **ุฃ. ูุงุฌูุฉ `PDFExportConfig`:**

```typescript
export interface PDFExportConfig {
  // ... ุงูุฎุตุงุฆุต ุงูููุฌูุฏุฉ ...
  
  // NEW: Component Selection
  selectedComponentIds?: string[]; // Array of component IDs to include (undefined = all)
  includeSerialNumber?: boolean; // Add serial number column
}
```

#### **ุจ. ุงูุชูููู ุงูุงูุชุฑุงุถู:**

```typescript
export const defaultPDFConfig: PDFExportConfig = {
  // ... ุงูุฎุตุงุฆุต ุงูููุฌูุฏุฉ ...
  selectedComponentIds: undefined, // undefined = all components
  includeSerialNumber: false,
};
```

#### **ุฌ. ุฏุงูุฉ `exportSingleTablePDF`:**

**ุงูุชุบููุฑุงุช:**
1. ุชุตููุฉ ุงูููููุงุช ุญุณุจ `selectedComponentIds`:
```typescript
let questionComponents = components.filter(c => c.type === "question" || c.type === "rating");

if (config.selectedComponentIds && config.selectedComponentIds.length > 0) {
  questionComponents = questionComponents.filter(c => config.selectedComponentIds!.includes(c.id));
}
```

2. ุฅุถุงูุฉ ุนููุฏ ุงูุชุฑููู ุงูุชุณูุณูู:
```typescript
// ูู ุฑุฃุณ ุงูุฌุฏูู:
if (config.includeSerialNumber) {
  htmlContent += `<th style="...">#</th>`;
}

// ูู ุตููู ุงูุจูุงูุงุช:
if (config.includeSerialNumber) {
  htmlContent += `<td style="...">${index + 1}</td>`;
}
```

#### **ุฏ. ุฏุงูุฉ `exportSeparateTablesPDF`:**

**ุงูุชุบููุฑุงุช:**
1. ุชุตููุฉ ุงูููููุงุช ุญุณุจ `selectedComponentIds`:
```typescript
let filteredComponents = components.filter(c => c.type === "question" || c.type === "rating");

if (config.selectedComponentIds && config.selectedComponentIds.length > 0) {
  filteredComponents = filteredComponents.filter(c => config.selectedComponentIds!.includes(c.id));
}
```

---

### **2. ุชุญุฏูุซุงุช ุนูู `components/dashboard/results/ExportPDFDialog.tsx`**

#### **ุฃ. State ุฌุฏูุฏ:**

```typescript
// Get question/rating components for selection
const questionComponents = components.filter(c => c.type === "question" || c.type === "rating");

// Initialize selected components (all by default)
const [selectedComponentIds, setSelectedComponentIds] = useState<string[]>(
  questionComponents.map(c => c.id)
);
```

#### **ุจ. ุฏูุงู ูุนุงูุฌุฉ ุงูุงุฎุชูุงุฑ:**

```typescript
// Toggle single component
const handleToggleComponent = (componentId: string) => {
  setSelectedComponentIds(prev =>
    prev.includes(componentId)
      ? prev.filter(id => id !== componentId)
      : [...prev, componentId]
  );
};

// Select all components
const handleSelectAllComponents = () => {
  setSelectedComponentIds(questionComponents.map(c => c.id));
};

// Deselect all components
const handleDeselectAllComponents = () => {
  setSelectedComponentIds([]);
};
```

#### **ุฌ. ุชุญุฏูุซ ุฏุงูุฉ `handleExport`:**

```typescript
const handleExport = async () => {
  // ... ุงูุชุญูู ูู ูุฌูุฏ ูุชุงุฆุฌ ...

  // NEW: Validation for selected components
  if (selectedComponentIds.length === 0) {
    toast.error("ูุฑุฌู ุงุฎุชูุงุฑ ูููู ูุงุญุฏ ุนูู ุงูุฃูู ููุชุตุฏูุฑ");
    return;
  }

  setIsExporting(true);

  try {
    // Update config with selected components
    const exportConfig = {
      ...config,
      selectedComponentIds: selectedComponentIds.length === questionComponents.length 
        ? undefined  // All selected = don't filter
        : selectedComponentIds,
    };

    // ... ุจุงูู ุงูููุฏ ...
  }
};
```

#### **ุฏ. ุชุญุฏูุซ TabsList:**

```typescript
<TabsList className="grid w-full grid-cols-6"> {/* ูุงู grid-cols-5 */}
  <TabsTrigger value="layout">ุงูุชุฎุทูุท</TabsTrigger>
  <TabsTrigger value="components">ุงูููููุงุช</TabsTrigger> {/* ุฌุฏูุฏ */}
  <TabsTrigger value="colors">ุงูุฃููุงู</TabsTrigger>
  <TabsTrigger value="logo">ุงูุดุนุงุฑ</TabsTrigger>
  <TabsTrigger value="content">ุงููุญุชูู</TabsTrigger>
  <TabsTrigger value="info">ูุนูููุงุช</TabsTrigger>
</TabsList>
```

---

## ๐ ุณููุงุฑูููุงุช ุงูุงุณุชุฎุฏุงู

### **ุงูุณููุงุฑูู 1: ุชุตุฏูุฑ ุฌููุน ุงูููููุงุช (ุงูุงูุชุฑุงุถู)**
1. ุงููุณุชุฎุฏู ููุชุญ ูุงูุฐุฉ ุงูุชุตุฏูุฑ
2. ุฌููุน ุงูููููุงุช ูุญุฏุฏุฉ ุงูุชุฑุงุถูุงู
3. ุงููุณุชุฎุฏู ูุถุบุท "ุชุตุฏูุฑ PDF"
4. ูุชู ุชุตุฏูุฑ ุฌููุน ุงูููููุงุช

### **ุงูุณููุงุฑูู 2: ุชุตุฏูุฑ ููููุงุช ูุญุฏุฏุฉ**
1. ุงููุณุชุฎุฏู ููุชุญ ูุงูุฐุฉ ุงูุชุตุฏูุฑ
2. ุงููุณุชุฎุฏู ููุชูู ุฅูู ุชุจููุจ "ุงูููููุงุช"
3. ุงููุณุชุฎุฏู ูุถุบุท "ุฅูุบุงุก ุงููู"
4. ุงููุณุชุฎุฏู ูุญุฏุฏ ุงูููููุงุช ุงููุทููุจุฉ ููุท
5. ุงููุณุชุฎุฏู ูุถุบุท "ุชุตุฏูุฑ PDF"
6. ูุชู ุชุตุฏูุฑ ุงูููููุงุช ุงููุญุฏุฏุฉ ููุท

### **ุงูุณููุงุฑูู 3: ุชุตุฏูุฑ ูุน ุชุฑููู ุชุณูุณูู**
1. ุงููุณุชุฎุฏู ููุชุญ ูุงูุฐุฉ ุงูุชุตุฏูุฑ
2. ุงููุณุชุฎุฏู ููุชูู ุฅูู ุชุจููุจ "ุงูููููุงุช"
3. ุงููุณุชุฎุฏู ููุนูู "ุฅุถุงูุฉ ุฑูู ุชุณูุณูู ูููุดุงุฑููู"
4. ุงููุณุชุฎุฏู ูุถุบุท "ุชุตุฏูุฑ PDF"
5. ูุชู ุชุตุฏูุฑ PDF ูุน ุนููุฏ "#" ูู ุงูุจุฏุงูุฉ

### **ุงูุณููุงุฑูู 4: ูุญุงููุฉ ุชุตุฏูุฑ ุจุฏูู ููููุงุช**
1. ุงููุณุชุฎุฏู ููุชุญ ูุงูุฐุฉ ุงูุชุตุฏูุฑ
2. ุงููุณุชุฎุฏู ููุชูู ุฅูู ุชุจููุจ "ุงูููููุงุช"
3. ุงููุณุชุฎุฏู ูุถุบุท "ุฅูุบุงุก ุงููู"
4. ุงููุณุชุฎุฏู ูุถุบุท "ุชุตุฏูุฑ PDF"
5. ุชุธูุฑ ุฑุณุงูุฉ ุฎุทุฃ: "ูุฑุฌู ุงุฎุชูุงุฑ ูููู ูุงุญุฏ ุนูู ุงูุฃูู ููุชุตุฏูุฑ"
6. ูุง ูุชู ุงูุชุตุฏูุฑ

---

## โ ุงูุงุฎุชุจุงุฑ

### **ุงุฎุชุจุงุฑุงุช ุชู ุฅุฌุฑุงุคูุง:**

1. โ **ุงูุจูุงุก (Build):**
   - `npm run build` ูุฌุญ ุจุฏูู ุฃุฎุทุงุก
   - ูุง ุชูุฌุฏ ุฃุฎุทุงุก TypeScript
   - ุฌููุน ุงูุตูุญุงุช ุชู ุจูุงุคูุง ุจูุฌุงุญ

2. โ **ุงูุชุญูู ูู ุงูููุฏ:**
   - ุฌููุน ุงูุฏูุงู ุชุนูู ุจุดูู ุตุญูุญ
   - State management ุตุญูุญ
   - Event handlers ุตุญูุญุฉ

### **ุงุฎุชุจุงุฑุงุช ููุตู ุจูุง:**

1. **ุงุฎุชุจุงุฑ ุงููุงุฌูุฉ:**
   - [ ] ูุชุญ ูุงูุฐุฉ ุงูุชุตุฏูุฑ
   - [ ] ุงูุชููู ุจูู ุงูุชุจููุจุงุช
   - [ ] ุชุญุฏูุฏ/ุฅูุบุงุก ุชุญุฏูุฏ ุงูููููุงุช
   - [ ] ุงุณุชุฎุฏุงู "ุชุญุฏูุฏ ุงููู" ู "ุฅูุบุงุก ุงููู"
   - [ ] ุชูุนูู/ุฅูุบุงุก ุชูุนูู ุงูุชุฑููู ุงูุชุณูุณูู

2. **ุงุฎุชุจุงุฑ ุงูุชุตุฏูุฑ:**
   - [ ] ุชุตุฏูุฑ ุฌููุน ุงูููููุงุช
   - [ ] ุชุตุฏูุฑ ููููุงุช ูุญุฏุฏุฉ
   - [ ] ุชุตุฏูุฑ ูุน ุชุฑููู ุชุณูุณูู
   - [ ] ุชุตุฏูุฑ ุจุฏูู ุชุฑููู ุชุณูุณูู
   - [ ] ูุญุงููุฉ ุชุตุฏูุฑ ุจุฏูู ููููุงุช (ูุฌุจ ุฃู ุชูุดู)

3. **ุงุฎุชุจุงุฑ ุงูุชุฎุทูุทุงุช:**
   - [ ] ุชุตุฏูุฑ ุจุชุฎุทูุท "ุฌุฏูู ูุงุญุฏ"
   - [ ] ุชุตุฏูุฑ ุจุชุฎุทูุท "ุฌุฏุงูู ูููุตูุฉ"
   - [ ] ุงูุชุญูู ูู ุธููุฑ ุงูุชุฑููู ูู ููุง ุงูุชุฎุทูุทูู

---

## ๐ฏ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ

### **ูุง ุชู ุชุญูููู:**

โ **ุงููุฑุญูุฉ 1 (ูุทููุจุฉ) - ููุชููุฉ 100%:**
- โ ูุงุฆูุฉ ุงุฎุชูุงุฑ ุงูููููุงุช
- โ ุฎูุงุฑ "ุชุญุฏูุฏ ุงููู"
- โ ุฎูุงุฑ "ุฅูุบุงุก ุงููู"
- โ ุงูุชุฑููู ุงูุชุณูุณูู
- โ ุชุนุฏูู ุฏูุงู ุงูุชุตุฏูุฑ
- โ ุงูุชุญูู ูู ุงูุตุญุฉ

### **ุงูููุฒุงุช ุงูุฅุถุงููุฉ ุงููููุฐุฉ:**
- โ ุนุฏุงุฏ ุงูููููุงุช ุงููุญุฏุฏุฉ
- โ ูุนูููุงุช ุชูุตูููุฉ ููู ูููู
- โ ุชูููุฒ ุจุตุฑู ููููููุงุช ุงููุญุฏุฏุฉ
- โ ุฑุณุงุฆู ุชุญุฐูุฑ ููุฌุงุญ
- โ ุชุตููู ุงุญุชุฑุงูู ููุชูุงุณู

### **ุงูุฌูุฏุฉ:**
- โ ููุฏ ูุธูู ูููุธู
- โ TypeScript ุจุฏูู ุฃุฎุทุงุก
- โ Build ูุงุฌุญ
- โ ุชุฌุฑุจุฉ ูุณุชุฎุฏู ููุชุงุฒุฉ
- โ ุชูุซูู ุดุงูู

---

## ๐ ููุงุญุธุงุช ูููุฉ

1. **ุงูุฃุฏุงุก:**
   - ุงููุงุฆูุฉ ูุงุจูุฉ ููุชูุฑูุฑ (max-height: 400px) ูุชุฌูุจ ูุดุงูู ุงูุฃุฏุงุก ูุน ุนุฏุฏ ูุจูุฑ ูู ุงูููููุงุช

2. **ุงูุชูุงูู:**
   - ูุนูู ูุน ููุง ุงูุชุฎุทูุทูู (ุฌุฏูู ูุงุญุฏ / ุฌุฏุงูู ูููุตูุฉ)
   - ูุฏุนู ุฌููุน ุฃููุงุน ุงูููููุงุช (ุฃุณุฆูุฉุ ุชููููุงุช)

3. **ุงูุชูุณุน ุงููุณุชูุจูู:**
   - ุงูููุฏ ุฌุงูุฒ ูุฅุถุงูุฉ ููุฒุงุช ุฅุถุงููุฉ ูุซู:
     - ูุนุงููุฉ ูุจุงุดุฑุฉ (Live Preview)
     - ุฌุฏุงูู ูุชุนุฏุฏุฉ ูุฎุตุตุฉ
     - ุญูุธ ุงูุชูุถููุงุช

---

## ๐ ุงูุฎูุงุตุฉ

ุชู ุชุทููุฑ ูุธุงู ุชุตุฏูุฑ PDF ุจูุฌุงุญ ููููู **ููู ููุฑู ูุงุญุชุฑุงูู**ุ ูุน ุฅุนุทุงุก ุงููุณุชุฎุฏู **ุชุญูู ูุงูู** ูู ุงููุญุชูู ุงูููุตุฏูุฑุ ู**ุชุฌุฑุจุฉ ูุณุชุฎุฏู ุฎุฑุงููุฉ** ูุณูุณุฉ.

**ุงูุญุงูุฉ:** โ ููุชูู ูุฌุงูุฒ ููุงุณุชุฎุฏุงู  
**ุงูุฌูุฏุฉ:** โญโญโญโญโญ (5/5)  
**ุงูุชุงุฑูุฎ:** 2025-11-04

